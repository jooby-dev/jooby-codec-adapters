// IMPORTANT!!!
// This example only for default uplink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// these options can be edited
// available hardware types can be found here:
// https://github.com/jooby-dev/jooby-docs/blob/main/docs/analog/basics.md#hardware-types
var config = {
    // required field
    hardwareType: 0
};


//#region [autogenerated jooby-codec bundle from index.js]
var fromBytes;(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function e(e){if(Array.isArray(e))return t(e)}function r(t,e,r){return(e=o(e))in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function n(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t){return e(t)||n(t)||v(t)||a()}function s(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function o(t){var e=s(t,"string");return"symbol"==typeof e?e:e+""}function v(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}var u={separator:" ",prefix:""};var f=1;var c=2;var l=3;var g=4;var h=Math.log,d=Math.pow,U=Math.LN2;var p=function(t,e,r,n,a){var i,s,o=a*8-n-1,v=(1<<o)-1,u=v>>1,f=-7,c=r?a-1:0,l=r?-1:1,g=t[e+c];c+=l;i=g&(1<<-f)-1;g>>=-f;f+=o;for(;f>0;i=i*256+t[e+c],c+=l,f-=8);s=i&(1<<-f)-1;i>>=-f;f+=n;for(;f>0;s=s*256+t[e+c],c+=l,f-=8);if(i===0){i=1-u}else if(i===v){return s?NaN:g?-Infinity:Infinity}else{s=s+d(2,n);i=i-u}return(g?-1:1)*s*d(2,i-n)};var E=function(t,e,r,n,a,i){var s,o,v,u=i*8-a-1,f=(1<<u)-1,c=f>>1,l=a===23?d(2,-24)-d(2,-77):0,g=n?0:i-1,p=n?1:-1,E=r<0||r===0&&1/r<0?1:0;r<0&&(r=-r);if(r!==r||r===Infinity){o=r!==r?1:0;s=f}else{s=h(r)/U|0;if(r*(v=d(2,-s))<1){s--;v*=2}if(s+c>=1){r+=l/v}else{r+=l*d(2,1-c)}if(r*v>=2){s++;v/=2}if(s+c>=f){o=0;s=f}else if(s+c>=1){o=(r*v-1)*d(2,a);s=s+c}else{o=r*d(2,c-1)*d(2,a);s=0}}for(;a>=8;t[e+g]=o&255,g+=p,o/=256,a-=8);s=s<<a|o;u+=a;for(;u>0;t[e+g]=s&255,g+=p,s/=256,u-=8);t[e+g-p]|=E*128};var m=[1,0];var w=[2,1,0];var T=[3,2,1,0];var S=[0,1];var y=[0,1,2];var I=[0,1,2,3];var _=function(t,e){return t[e]};var A=function(t,e,r){var n=r?S:m;var a=t[e+n[0]];var i=t[e+n[1]]<<8;return a|i};var N=function(t,e,r){var n=r?y:w;var a=t[e+n[0]];var i=t[e+n[1]]<<8;var s=t[e+n[2]]<<16;return a|i|s};var M=function(t,e,r){var n=r?I:T;var a=t[e+n[3]]*16777216;var i=t[e+n[2]]*65536;var s=t[e+n[1]]*256;var o=t[e+n[0]];return a+i+s+o};var O=function(t,e,r){t[e]=r&255};var b=function(t,e,r,n){var a=n?S:m;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255};var L=function(t,e,r,n){var a=n?y:w;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255;t[e+a[2]]=r>>>16&255};var C=function(t,e,r,n){var a=n?I:T;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255;t[e+a[2]]=r>>>16&255;t[e+a[3]]=r>>>24&255};function R(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var r=new Array(t).fill(0);this.data=r}else{this.data=t}this.offset=0;this.isLittleEndian=e}R.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){O(this.data,this.offset,t<0?t|256:t);this.offset+=f},getInt8:function(){var t=_(this.data,this.offset);this.offset+=f;return t&128?t^-256:t},setUint8:function(t){O(this.data,this.offset,t);this.offset+=f},getUint8:function(){var t=_(this.data,this.offset);this.offset+=f;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;b(this.data,this.offset,t<0?t|65536:t,e);this.offset+=c},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=A(this.data,this.offset,t);this.offset+=c;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;b(this.data,this.offset,t,e);this.offset+=c},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=A(this.data,this.offset,t);this.offset+=c;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=l},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=N(this.data,this.offset,t);this.offset+=l;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t,e);this.offset+=l},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=N(this.data,this.offset,t);this.offset+=l;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;C(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=g},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=M(this.data,this.offset,t);this.offset+=g;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;C(this.data,this.offset,t,e);this.offset+=g},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=M(this.data,this.offset,t);this.offset+=g;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;E(this.data,this.offset,t,e,23,4);this.offset+=g},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=p(this.data,this.offset,t,23,4);this.offset+=g;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var r=[];while(this.offset<e){r.push(String.fromCharCode(this.getUint8()))}return r.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var r=this.data;r.splice.apply(r,[e,t.length].concat(i(t)));this.data=r;this.offset=e+t.length}};Object.defineProperties(R.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var B=224;var D=31;var F=function(t){if(t.length===0){throw new Error("Invalid buffer size")}var e={shortCode:t[0]&B,extraCode:t[0]&D};if(e.shortCode!==0){return{headerSize:1,commandId:t[0]&~e.extraCode,commandSize:e.extraCode}}if(e.extraCode===D){if(t.length<3){throw new Error("Invalid buffer size")}return{headerSize:3,commandId:t[1]<<8|D,commandSize:t[2]}}if(t.length<2){throw new Error("Invalid buffer size")}return{headerSize:2,commandId:e.extraCode,commandSize:t[1]}};var P=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=Object.assign({},u,e),n=r.separator,a=r.prefix;return t.map(function(t){return"".concat(a).concat(t.toString(16).padStart(2,"0"))}).join(n)};var x=function(t,e,r){if(!t){throw new Error("Command name is required.")}if(e&&!Array.isArray(e)){throw new Error("Invalid payload for ".concat(t,". Expected array, got: ").concat(typeof e,"."))}if(e.length!==r){var n=P(e,{separator:""});throw new Error("Wrong buffer size for ".concat(t,": ").concat(e.length,". Expected: ").concat(r,". Payload: 0x").concat(n,"."))}};var k=2;var z=3;var H=4;var V=5;var W=6;var G=7;var Y=9;var j=11;var q=12;var Q=20;var X=21;var K=22;var J=23;var Z=24;var $=25;var tt=26;var et=27;var rt=30;var nt=32;var at=64;var it=96;var st=543;var ot=1311;var vt=1823;var ut=2591;var ft=2847;var ct=3103;var lt=3359;var gt=3871;var ht=5151;var dt=10783;var Ut=11039;var pt=11295;var Et=12319;var mt=12575;var wt=12831;var Tt=13087;var St=13343;var yt=Object.freeze({__proto__:null,correctTime2000:q,current:G,currentMc:Z,dataSegment:rt,day:nt,dayMc:K,exAbsCurrentMc:gt,exAbsDayMc:ft,exAbsHourMc:ut,getArchiveDays:W,getArchiveDaysMc:et,getArchiveEvents:j,getArchiveHours:V,getArchiveHoursMc:tt,getArchiveHoursMcEx:Et,getBatteryStatus:ot,getChannelsStatus:wt,getChannelsTypes:Tt,getExAbsArchiveDaysMc:lt,getExAbsArchiveHoursMc:ct,getLmicInfo:st,getParameter:H,hour:at,hourMc:J,hourMcEx:mt,lastEvent:it,newEvent:X,setParameter:z,setTime2000:k,signalQuality:St,softRestart:$,status:Q,time2000:Y,updateRun:pt,usWaterMeterBatteryStatus:ht,usWaterMeterCommand:vt,verifyImage:Ut,writeImage:dt});var It=function(t){var e={};for(var r in t){var n=t[r];e[n]=r}return e};var _t=It(yt);var At=q;var Nt=_t[q];var Mt=1;var Ot=function(t){x(Nt,t,Mt);var e=new R(t,false);var r={status:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var bt=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=0;for(var n in e){if(n in t&&e[n]){r|=t[n]}}return r};var Lt=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r={};for(var n in t){r[n]=(e&t[n])!==0}return r};var Ct=function(t,e,r){return(1<<e)-1&t>>r-1};var Rt=function(t){var e=t.trim();if(!e){return[]}e=e.replace(/0x/g,"").split(/\s+/).map(function(t){return t.padStart(2,"0")}).join("");if(e.length%2!==0){e="0".concat(e)}var r=e.length/2;var n=new Array(r);for(var a=0;a<r;a++){n[a]=parseInt(e.substring(a*2,a*2+2),16)}return n};var Bt=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;var r=Math.pow(10,e);return Math.round(t*r*(1+Number.EPSILON))/r};var Dt=9466848e5;var Ft=1e3;var Pt=function(t){return(t.getTime()-Dt)/Ft};var xt=1;var kt=2;var zt=3;var Ht=4;var Vt=5;var Wt=6;var Gt=7;var Yt=8;var jt=9;var qt=10;var Qt=11;var Xt=12;var Kt=13;var Jt=14;var Zt=21;var $t=24;var te=1;var ee=4;var re=5;var ne=8;var ae=9;var ie=10;var se=11;var oe=13;var ve=18;var ue=23;var fe=24;var ce=25;var le=26;var ge=28;var he=29;var de=30;var Ue=31;var pe=32;var Ee=33;var me=34;var we=35;var Te=36;var Se=37;var ye=38;var Ie=39;var _e=40;var Ae=41;var Ne=42;var Me=43;var Oe=44;var be=45;var Le=46;var Ce=47;var Re=48;var Be=49;var De=50;var Fe=51;var Pe=52;var xe=53;var ke=54;var ze=55;var He=56;var Ve=57;var We=58;var Ge=59;var Ye=60;var je=61;var qe=Object.freeze({__proto__:null,ABSOLUTE_DATA:ue,ABSOLUTE_DATA_ENABLE:fe,ABSOLUTE_DATA_ENABLE_MULTI_CHANNEL:de,ABSOLUTE_DATA_MULTI_CHANNEL:he,ACTIVATE_MODULE:je,ACTIVATION_METHOD:ae,BATTERY_DEPASSIVATION_CONFIG:Ee,BATTERY_DEPASSIVATION_INFO:ie,BATTERY_MINIMAL_LOAD_TIME:se,CHANNELS_CONFIG:oe,CHANNEL_TYPE:He,DAY_CHECKOUT_HOUR:ee,EVENTS_CONFIG:De,EXTRA_FRAME_INTERVAL:ge,EXTRA_PAYLOAD_ENABLE:Ve,GEOLOCATION:le,KEEP_LORA_CONNECTION_ON_REMOVAL:Ge,MQTT_BROKER_ADDRESS:we,MQTT_DATA_RECEIVE_CONFIG:ye,MQTT_DATA_SEND_CONFIG:Ie,MQTT_SESSION_CONFIG:me,MQTT_SSL_ENABLE:Te,MQTT_TOPIC_PREFIX:Se,NBIOT_APN:xe,NBIOT_BANDS:Pe,NBIOT_DEVICE_SOFTWARE_UPDATE:Ce,NBIOT_LED_INDICATION:ke,NBIOT_MODULE_FIRMWARE_UPDATE:Re,NBIOT_MODULE_INFO:Fe,NBIOT_NTP_SERVER:Ye,NBIOT_SIM:ze,NBIOT_SSL_CACERT_SET:Ne,NBIOT_SSL_CACERT_WRITE:Ae,NBIOT_SSL_CLIENT_CERT_SET:Oe,NBIOT_SSL_CLIENT_CERT_WRITE:Me,NBIOT_SSL_CLIENT_KEY_SET:Le,NBIOT_SSL_CLIENT_KEY_WRITE:be,NBIOT_SSL_CONFIG:_e,PRIORITY_DATA_DELIVERY_TYPE:ne,PULSE_CHANNELS_SCAN_CONFIG:Ue,PULSE_CHANNELS_SET_CONFIG:pe,REPORTING_DATA_CONFIG:Be,REPORTING_DATA_INTERVAL:te,REPORTING_DATA_TYPE:re,RX2_CONFIG:ve,SERIAL_NUMBER:ce,TIME_SYNCHRONIZATION_PERIOD_VIA_MAC:We});var Qe=It(qe);var Xe=4294967295;var Ke=0;var Je=1;var Ze=2;var $e=3;var tr=4;var er=5;var rr=Object.freeze({__proto__:null,BINARY_SENSOR:$e,BINARY_SENSOR_CONFIGURABLE:er,IDLE:Ke,POWER_CHANNEL:Ze,PULSE_SENSOR:Je,TEMPERATURE_SENSOR:tr});var nr=0;var ar=1;var ir=2;var sr=3;var or=4;var vr=5;var ur=6;var fr=Object.freeze({__proto__:null,SF10B125:ir,SF11B125:ar,SF12B125:nr,SF7B125:vr,SF7B250:ur,SF8B125:or,SF9B125:sr});var cr=It(fr);var lr,gr;var hr=2e3;var dr=4;var Ur=5;var pr=1;var Er=4095;var mr=128;var wr=7;var Tr=600;var Sr=100;var yr=6;var Ir=8;var _r=[kt,zt,xt,Xt,$t];var Ar=[Yt,Vt,jt,Ht];var Nr=[Qt];var Mr=[Wt,qt];var Or=[Gt];var br={isBatteryLow:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isButtonReleased:Math.pow(2,2),isConnectionLost:Math.pow(2,3)};var Lr={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5)};var Cr={isConnectionLost:Math.pow(2,3)};var Rr={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5),isThirdChannelInactive:Math.pow(2,6),isForthChannelInactive:Math.pow(2,8)};var Br={isMeterCaseOpen:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isParametersSetRemotely:Math.pow(2,2),isParametersSetLocally:Math.pow(2,3),isMeterProgramRestarted:Math.pow(2,4),isLockedOut:Math.pow(2,5),isTimeSet:Math.pow(2,6),isTimeCorrected:Math.pow(2,7),isMeterFailure:Math.pow(2,8),isMeterTerminalBoxOpen:Math.pow(2,9),isModuleCompartmentOpen:Math.pow(2,10),isTariffPlanChanged:Math.pow(2,11),isNewTariffPlanReceived:Math.pow(2,12),isElectromagneticInfluenceReset:Math.pow(2,13),isMagneticInfluenceReset:Math.pow(2,14)};var Dr={transportMode:1,frequencyOutput:2,reverseFlow:4,tamperBreak:8,leakage:16,pipeBreak:32,pipeEmpty:64,batteryDischarge:128};lr={},r(r(r(r(r(r(r(r(r(r(lr,te,1+4),ee,1+1),re,1+1),ne,1+1),ae,1+1),ie,1+6),se,1+4),oe,1+1),ve,1+4),ue,1+9),r(r(r(r(r(r(r(r(r(r(lr,fe,1+1),ce,1+6),le,1+10),ge,1+2),he,1+10),de,1+2),Ue,1+3),pe,1+1),Ee,1+4),Te,1+1),r(r(r(r(r(r(r(r(r(r(lr,ye,1+3),Ie,1+3),_e,1+2),Ne,1+4),Oe,1+4),Le,1+4),Be,1+4),De,1+3),ke,1+2),ze,1+3),r(r(r(r(lr,Ve,1+1),We,1+4),Ge,1+1),je,1+1);var Fr={channel1:Math.pow(2,0),channel2:Math.pow(2,1),channel3:Math.pow(2,2),channel4:Math.pow(2,3)};var Pr=function(t){var e=Lt(Fr,t);return{channel1:e.channel1,channel2:e.channel2,channel3:e.channel3,channel4:e.channel4}};var xr=function(t){var e=t.channel1,r=t.channel2,n=t.channel3,a=t.channel4;return bt(Fr,{channel1:e,channel2:r,channel3:n,channel4:a})};var kr=function(t){return Pr(t.getUint8())};var zr=function(t,e){return t.setUint8(xr(e))};var Hr={128:1,129:5,130:10,131:100,132:1e3,133:1e4,134:1e5};var Vr=It(Hr);var Wr=function(t){return!!(t&128)};var Gr=function(t){return{size:t.getUint16(),position:t.getUint16(),chunk:t.getBytesLeft()}};var Yr=function(t,e){if(e.size!==e.chunk.length){throw new Error("ssl chunk size parameter doesn't match actual ssl chunk size")}t.setUint16(e.size);t.setUint16(e.position);t.setBytes(e.chunk)};var jr=function(t){return{crc32:t.getUint32()}};var qr=function(t,e){t.setUint32(e.crc32)};var Qr=(gr={},r(r(r(r(r(r(r(r(r(r(gr,te,{get:function(t){return{specialSchedulePeriod:t.getUint8()*Tr,firstDaysSpecialSchedule:t.getUint8(),lastDaysSpecialSchedule:t.getUint8(),period:t.getUint8()*Tr}},set:function(t,e){t.setUint8(e.specialSchedulePeriod/Tr);t.setUint8(e.firstDaysSpecialSchedule);t.setUint8(e.lastDaysSpecialSchedule);t.setUint8(e.period/Tr)}}),ee,{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}}),re,{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}}),ne,{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}}),ae,{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}}),ie,{get:function(t){return{loadTime:t.getUint16(),internalResistance:t.getUint16(),lowVoltage:t.getUint16()}},set:function(t,e){t.setUint16(e.loadTime);t.setUint16(e.internalResistance);t.setUint16(e.lowVoltage)}}),se,{get:function(t){return{value:t.getUint32()}},set:function(t,e){t.setUint32(e.value)}}),oe,{get:function(t){return{value:t.getUint8()}},set:function(t,e){if(e.value<0||e.value>18){throw new Error("channels config must be between 0-18")}t.setUint8(e.value)}}),ve,{get:function(t){var e=t.getUint8();var r=cr[e];var n=t.getUint24()*Sr;return{spreadFactor:e,spreadFactorName:r,frequency:n}},set:function(t,e){t.setUint8(e.spreadFactor);t.setUint24(e.frequency/Sr)}}),ue,{get:function(t){return{meterValue:t.getUint32(),pulseCoefficient:un(t),value:t.getUint32()}},set:function(t,e){t.setUint32(e.meterValue);fn(t,e.pulseCoefficient);t.setUint32(e.value)}}),r(r(r(r(r(r(r(r(r(r(gr,fe,{get:function(t){return{state:t.getUint8()}},set:function(t,e){t.setUint8(e.state)}}),ce,{get:function(t){return{value:P(t.getBytes(yr))}},set:function(t,e){Rt(e.value).forEach(function(e){return t.setUint8(e)})}}),le,{get:function(t){return{latitude:Bt(t.getFloat32()),longitude:Bt(t.getFloat32()),altitude:Bt(t.getUint16())}},set:function(t,e){t.setFloat32(Bt(e.latitude));t.setFloat32(Bt(e.longitude));t.setUint16(Bt(e.altitude))}}),ge,{get:function(t){return{value:t.getUint16()}},set:function(t,e){t.setUint16(e.value)}}),he,{get:function(t){return{channel:nn(t),meterValue:t.getUint32(),pulseCoefficient:un(t),value:t.getUint32()}},set:function(t,e){an(t,e.channel);t.setUint32(e.meterValue);fn(t,e.pulseCoefficient);t.setUint32(e.value)}}),de,{get:function(t){return{channel:nn(t),state:t.getUint8()}},set:function(t,e){an(t,e.channel);t.setUint8(e.state)}}),Ue,{get:function(t){return{channelList:en(t),pullUpTime:t.getUint8(),scanTime:t.getUint8()}},set:function(t,e){if(e.pullUpTime<17){throw new Error("minimal value for pullUpTime - 17")}if(e.scanTime<15){throw new Error("minimal value for scanTime - 15")}rn(t,e.channelList.map(function(t){return{index:t}}));t.setUint8(e.pullUpTime);t.setUint8(e.scanTime)}}),pe,{get:kr,set:zr}),Ee,{get:function(t){return{resistanceStartThreshold:t.getUint16(),resistanceStopThreshold:t.getUint16()}},set:function(t,e){t.setUint16(e.resistanceStartThreshold);t.setUint16(e.resistanceStopThreshold)}}),me,{get:function(t){return{clientId:t.getString(),username:t.getString(),password:t.getString(),cleanSession:t.getUint8()}},set:function(t,e){t.setString(e.clientId);t.setString(e.username);t.setString(e.password);t.setUint8(e.cleanSession)}}),r(r(r(r(r(r(r(r(r(r(gr,we,{get:function(t){return{hostName:t.getString(),port:t.getUint16()}},set:function(t,e){t.setString(e.hostName);t.setUint16(e.port)}}),Te,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}),Se,{get:function(t){return{topicPrefix:t.getString()}},set:function(t,e){t.setString(e.topicPrefix)}}),ye,{get:function(t){return{qos:t.getUint8(),count:t.getUint8(),timeout:t.getUint8()}},set:function(t,e){t.setUint8(e.qos);t.setUint8(e.count);t.setUint8(e.timeout)}}),Ie,{get:function(t){return{qos:t.getUint8(),retain:t.getUint8(),newestSendFirst:t.getUint8()}},set:function(t,e){t.setUint8(e.qos);t.setUint8(e.retain);t.setUint8(e.newestSendFirst)}}),_e,{get:function(t){return{securityLevel:t.getUint8(),version:t.getUint8()}},set:function(t,e){t.setUint8(e.securityLevel);t.setUint8(e.version)}}),Ae,{get:Gr,set:Yr}),Ne,{get:jr,set:qr}),Me,{get:Gr,set:Yr}),Oe,{get:jr,set:qr}),r(r(r(r(r(r(r(r(r(r(gr,be,{get:Gr,set:Yr}),Le,{get:jr,set:qr}),Ce,{get:function(t){return{softwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.softwareImageUrl)}}),Re,{get:function(t){return{moduleFirmwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.moduleFirmwareImageUrl)}}),Be,{get:function(t){return{dataType:t.getUint8(),hour:t.getUint8(),minutes:t.getUint8(),countToSend:t.getUint8()}},set:function(t,e){t.setUint8(e.dataType);t.setUint8(e.hour);t.setUint8(e.minutes);t.setUint8(e.countToSend)}}),De,{get:function(t){return{eventId:t.getUint8(),sendEvent:t.getUint8(),saveEvent:t.getUint8()}},set:function(t,e){t.setUint8(e.eventId);t.setUint8(e.sendEvent);t.setUint8(e.saveEvent)}}),Fe,{get:function(t){return{moduleInfo:t.getString()}},set:function(t,e){t.setString(e.moduleInfo)}}),Pe,{get:function(t){var e=t.getUint8();var r=[];for(var n=0;n<e;n++){r.push(t.getUint8())}return{bands:r}},set:function(t,e){t.setUint8(e.bands.length);for(var r of e.bands){t.setUint8(r)}}}),xe,{get:function(t){return{apn:t.getString()}},set:function(t,e){t.setString(e.apn)}}),ke,{get:function(t){return{enableLed:t.getUint8(),enableNbiotNetworkLed:t.getUint8()}},set:function(t,e){t.setUint8(e.enableLed);t.setUint8(e.enableNbiotNetworkLed)}}),r(r(r(r(r(r(r(gr,ze,{get:function(t){return{enable:t.getUint8(),pin:t.getUint16()}},set:function(t,e){t.setUint8(e.enable);t.setUint16(e.pin)}}),He,{get:function(t){return _n(t)},set:function(t,e){return An(t,e)}}),Ve,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}),We,{get:function(t){return{period:t.getUint32()}},set:function(t,e){t.setUint32(e.period)}}),Ge,{get:function(t){return{value:t.getUint8()!==0}},set:function(t,e){t.setUint8(e.value?1:0)}}),Ye,{get:function(t){return{server:t.getString(),port:t.getUint16()}},set:function(t,e){t.setString(e.server);t.setUint16(e.port)}}),je,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}));var Xr=function(t){return!!Ct(t,1,Ir)};var Kr=function(t){var e=0;var r=true;var n=0;while(r&&t.offset<=t.data.length){var a=t.getUint8();r=!!(a&mr);e+=(a&127)<<7*n>>>0;++n}return e};var Jr=function(t){return t.getUint32()};var Zr=function(t){var e=t.getUint8();var r=t.getUint8();var n=t.getUint8();var a=e<<4;a|=(r&240)>>4;var i=(r&15)<<8|n;if(i===Er){i=undefined}if(a===Er){a=undefined}return{underLowLoad:a,underHighLoad:i}};var $r=function(t){return t.getUint24()};var tn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t.getUint8();var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=$r(t);return{isMagneticInfluence:Xr(e),value:r&&n===Xe?0:n}};var en=function(t){var e=[];var r=true;var n=1;while(r){var a=t.getUint8();var i=a.toString(2).padStart(wr+1,"0").split("").reverse();i.forEach(function(t,a){var i=Number(t);if(a===wr){r=!!i}else{if(i){e.push(n)}++n}})}return e};var rn=function(t,e){if(e.length===0){t.setUint8(0);return}e.sort(function(t,e){return t.index-e.index});var r=Math.max.apply(Math,i(e.map(function(t){var e=t.index;return e})));var n=(r-r%8)/8;var a=new Array(n+1).fill(0);var s=0;a.forEach(function(t,r){var n=r*wr+1;var i=n+wr;while(n<i){var o=e.find(function(t){return t.index===n});if(o!==undefined){s|=1<<(o.index-1)%wr}++n}if(a[r+1]!==undefined){s|=1<<wr}a[r]=s;s=0});a.forEach(function(e){return t.setUint8(e)})};var nn=function(t){return t.getUint8()+1};var an=function(t,e){if(e<1){throw new Error("channel must be 1 or greater")}t.setUint8(e-1)};var sn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=vn(t);var n=on(t),a=n.hour,i=n.hours;var s=en(t);var o=[];r.setUTCHours(a);s.forEach(function(r){var n=[];var a=Kr(t);for(var s=1;s<i;++s){n.push(Kr(t))}o.push({value:e&&a===Xe?0:a,diff:n,index:r})});return{startTime2000:Pt(r),hours:i,channelList:o}};var on=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t.getUint8();if(e===0){return{hours:0,hour:0}}var r=((e&224)>>5)+1;var n=e&31;return{hours:r,hour:n}};var vn=function(t){var e=t.getUint8();var r=t.getUint8();var n=e>>pr;var a=(e&1)<<dr-pr|r>>Ur;var i=r&31;return new Date(Date.UTC(n+hr,a-1,i,0,0,0,0))};var un=function(t){var e=t.getUint8();if(Wr(e)){var r=Hr[e];if(r){return r}throw new Error("pulseCoefficient MSB is set, but value unknown")}return e};var fn=function(t,e){if(e in Vr){var r=Vr[e];if(r){t.setUint8(r)}else{throw new Error("pulseCoefficient MSB is set, but value unknown")}}else{t.setUint8(e)}};var cn=function(t){var e=en(t);var r=[];e.forEach(function(e){r.push({pulseCoefficient:un(t),value:Kr(t),index:e})});return r};var ln=function(t,e){var r=en(t);var n=[];r.forEach(function(r){var a=un(t);var i=Kr(t);var s=[];for(var o=1;o<e;++o){s.push(Kr(t))}n.push({diff:s,value:i,pulseCoefficient:a,index:r})});return n};var gn=function(t,e){var r;if(_r.indexOf(e)!==-1){r=Lt(br,t.getUint8())}else if(Ar.indexOf(e)!==-1){r=Lt(Lr,t.getUint8())}else if(Nr.indexOf(e)!==-1){r=Lt(Cr,t.getUint8())}else if(Mr.indexOf(e)!==-1){r=Lt(Rr,t.getUint16(true))}else if(Or.indexOf(e)!==-1){r=Lt(Br,t.getUint16(true))}else if(e===Kt){var n=Lt(Dr,t.getUint8());r={event:n,error:t.getUint8()}}else{throw new Error("wrong hardwareType")}return r};var hn=function(t){var e=t.getUint8();var r=Qe[e];var n;if(!Qr[e]||!Qr[e].get){throw new Error("parameter ".concat(e," is not supported"))}switch(e){case me:case Ae:case Me:case be:case Ne:case Oe:case Le:case Ce:case Re:n=null;break;default:n=Qr[e].get(t)}return{id:e,name:r,data:n}};var dn=function(t){var e=t.getUint8();var r=t.getUint8();return{isMagneticInfluence:Xr(e),value:(e&31)<<8|r}};var Un=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=vn(t);var n=t.getUint8();var a=on(t,n),i=a.hour;var s=$r(t);var o={isMagneticInfluence:Xr(n),value:e&&s===Xe?0:s};var v=[];while(t.offset<t.data.length){v.push(dn(t))}r.setUTCHours(i);return{startTime2000:Pt(r),counter:o,diff:v}};var pn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=vn(t);var n=t.getUint8();var a=t.getUint8();var i=en(t);var s=[];r.setUTCHours(n);i.forEach(function(r){var n=[];var i=Kr(t);for(var o=0;o<a;++o){n.push(Kr(t))}s.push({value:e&&i===Xe?0:i,diff:n,index:r})});return{startTime2000:Pt(r),hour:n,hours:a,channelList:s}};var En=function(t){var e=t.getUint8();var r=t.getUint8();return{segmentationSessionId:e,segmentIndex:Ct(r,3,1),segmentsNumber:Ct(r,3,5),isLast:Boolean(Ct(r,1,8)),data:t.getBytesLeft()}};var mn=function(t){var e=t.getUint16();return{activeStateTimeMs:e}};var wn=function(t,e){t.setUint16(e.activeStateTimeMs)};var Tn=function(t){var e=t.getUint8();var r=t.getUint16();var n=t.getUint8();return{type:e,activeStateTimeMs:r,halState:n}};var Sn=function(t,e){t.setUint8(e.type);t.setUint16(e.activeStateTimeMs);t.setUint8(e.halState)};var yn=function(t){var e=t.getUint16();var r=t.getUint8();var n=t.getInt8();var a=t.getInt8();return{measurementPeriod:e,hysteresisSec:r,highTemperatureThreshold:n,lowTemperatureThreshold:a}};var In=function(t,e){t.setUint16(e.measurementPeriod);t.setUint8(e.hysteresisSec);t.setInt8(e.highTemperatureThreshold);t.setInt8(e.lowTemperatureThreshold)};var _n=function(t){var e=nn(t);var r=t.getUint8();var n={};switch(r){case $e:n=mn(t);break;case tr:n=yn(t);break;case er:n=Tn(t);break}return{channel:e,type:r,parameters:n}};var An=function(t,e){var r=e.type,n=e.channel,a=e.parameters;an(t,n);t.setUint8(r);switch(r){case $e:wn(t,a);break;case tr:In(t,a);break;case er:Sn(t,a);break}};var Nn=G;var Mn=4;var On=function(t){if(t.length>Mn){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return tn(e)};var bn=Z;var Ln=37;var Cn=function(t){if(t.length>Ln){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e={channelList:[]};var r=new R(t,false);var n=en(r);e.channelList=n.map(function(t){return{value:Kr(r),index:t}});return e};var Rn=2;var Bn=3;var Dn=4;var Fn=5;var Pn=6;var xn=7;var kn=9;var zn=11;var Hn=12;var Vn=20;var Wn=24;var Gn=25;var Yn=26;var jn=27;var qn=30;var Qn=543;var Xn=1311;var Kn=1823;var Jn=3103;var Zn=3359;var $n=3871;var ta=10783;var ea=11039;var ra=11295;var na=12319;var aa=12831;var ia=13087;var sa=13343;var oa=Object.freeze({__proto__:null,correctTime2000:Hn,dataSegment:qn,getArchiveDays:Pn,getArchiveDaysMc:jn,getArchiveEvents:zn,getArchiveHours:Fn,getArchiveHoursMc:Yn,getArchiveHoursMcEx:na,getBatteryStatus:Xn,getChannelsStatus:aa,getChannelsTypes:ia,getCurrent:xn,getCurrentMc:Wn,getExAbsArchiveDaysMc:Zn,getExAbsArchiveHoursMc:Jn,getExAbsCurrentMc:$n,getLmicInfo:Qn,getParameter:Dn,getSignalQuality:sa,getStatus:Vn,getTime2000:kn,setParameter:Bn,setTime2000:Rn,softRestart:Gn,updateRun:ra,usWaterMeterCommand:Kn,verifyImage:ea,writeImage:ta});It(oa);var va=qn;var ua=function(t){var e=new R(t,false);return En(e)};var fa=nt;var ca=function(t){var e=new R(t,false);var r=vn(e);var n=e.getUint8();var a=on(e,n),i=a.hour;var s=Xr(n);var o=$r(e);r.setUTCHours(i);return{value:o,isMagneticInfluence:s,startTime2000:Pt(r)}};var la=K;var ga=32;var ha=function(t){if(t.length>ga){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=vn(e);var n=en(e);var a=n.map(function(t){return{value:Kr(e),index:t}});return{startTime2000:Pt(r),channelList:a}};var da=gt;var Ua=function(t){var e=new R(t,false);return{channelList:cn(e)}};var pa=ft;var Ea=89;var ma=function(t){if(t.length>Ea){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=vn(e);var n=cn(e);return{startTime2000:Pt(r),channelList:n}};var wa=ut;var Ta=168;var Sa=function(t){if(t.length>Ta){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=vn(e);var n=on(e),a=n.hour,i=n.hours;var s=ln(e,i);r.setUTCHours(a);return{startTime2000:Pt(r),hours:i,channelList:s}};var ya=W;var Ia=function(t){var e=new R(t,false);var r=vn(e);var n=[];while(e.offset<e.data.length){n.push(tn(e,undefined,true))}return{startTime2000:Pt(r),dayList:n}};var _a=et;var Aa=function(t){var e=new R(t,false);var r=vn(e);var n=en(e);var a=e.getUint8();var i=[];n.forEach(function(t){var r=[];i.push({dayList:r,index:t});for(var n=0;n<a;++n){var s=Kr(e);r.push(s===Xe?0:s)}});return{startTime2000:Pt(r),days:a,channelList:i}};var Na=1;var Ma=2;var Oa=3;var ba=4;var La=5;var Ca=6;var Ra=7;var Ba=8;var Da=9;var Fa=10;var Pa=11;var xa=12;var ka=13;var za=14;var Ha=15;var Va=16;var Wa=17;var Ga=18;var Ya=19;var ja=20;var qa=21;var Qa=22;var Xa=23;var Ka=24;var Ja=25;var Za=26;var $a=Object.freeze({__proto__:null,ACTIVATE:Oa,ACTIVATE_MTX:Pa,BATTERY_ALARM:La,BINARY_SENSOR_OFF:Xa,BINARY_SENSOR_ON:Qa,CAN_OFF:Ca,CONNECT:xa,COUNTER_OVER:Da,DEACTIVATE:ba,DEPASS_DONE:za,DISCONNECT:ka,INSERT:Ra,JOIN_ACCEPT:Ga,MAGNET_OFF:Ma,MAGNET_ON:Na,MTX:Wa,OPTOFLASH:Va,OPTOLOW:Ha,OPTOSENSOR_ERROR:qa,REMOVE:Ba,SET_TIME:Fa,TEMPERATURE_SENSOR_HIGH_TEMPERATURE:Za,TEMPERATURE_SENSOR_HYSTERESIS:Ka,TEMPERATURE_SENSOR_LOW_TEMPERATURE:Ja,WATER_EVENT:Ya,WATER_NO_RESPONSE:ja});var ti=It($a);var ei=j;var ri=function(t){var e=Jr(t);var r=t.getUint8();var n=t.getUint8();return{time2000:e,id:r,name:ti[r],sequenceNumber:n}};var ni=function(t){var e=new R(t,false);var r=[];while(e.bytesLeft>0){r.push(ri(e))}return{eventList:r}};var ai=V;var ii=function(t){var e=new R(t,false);return Un(e,true)};var si=tt;var oi=164;var vi=function(t){if(t.length>oi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return sn(e,true)};var ui=Et;var fi=255;var ci=function(t){if(t.length>fi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return pn(e,true)};var li=ot;var gi=_t[ot];var hi=11;var di=function(t){x(gi,t,hi);var e=new R(t,false);return{voltageUnderLowLoad:e.getUint16(),voltageUnderHighLoad:e.getUint16(),internalResistance:e.getUint16(),temperature:e.getUint8(),remainingCapacity:e.getUint8(),isLastDayOverconsumption:e.getUint8()===1,averageDailyOverconsumptionCounter:e.getUint16()}};var Ui=It(rr);var pi=wt;var Ei=function(t){return{state:t.getUint8()!==0}};var mi=function(t){return{temperature:t.getInt8(),time2000:Jr(t)}};var wi=function(t){var e=new R(t,false);var r=[];while(e.bytesLeft!==0){var n=e.getUint8();var a={type:n,typeName:Ui[n],channel:nn(e)};switch(a.type){case Ze:case Je:case Ke:break;case $e:case er:a.status=Ei(e);break;case tr:a.status=mi(e);break;default:return r}r.push(a)}return r};var Ti=Tt;var Si=function(t){return{channels:t.map(function(t){return{type:t,typeName:Ui[t]}})}};var yi=lt;var Ii=function(t){var e=new R(t,false);var r=vn(e);var n=en(e);var a=e.getUint8();var i=[];n.forEach(function(t){var r=[];var n=un(e);i.push({pulseCoefficient:n,dayList:r,index:t});for(var s=0;s<a;++s){var o=Kr(e);r.push(o===Xe?0:o)}});return{channelList:i,days:a,startTime2000:Pt(r)}};var _i=ct;var Ai=function(t){var e=new R(t,false);return sn(e,true)};var Ni=st;var Mi=_t[st];var Oi=2;var bi={isMulticastSupported:1<<0,isFragmentedDataSupported:1<<1};var Li=function(t){x(Mi,t,Oi);var e=new R(t);var r=Lt(bi,e.getUint8());var n=e.getUint8();if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return{capabilities:r,version:n}};var Ci=H;var Ri=function(t){var e=new R(t,false);return hn(e)};var Bi=St;var Di=_t[St];var Fi=6;var Pi=function(t){x(Di,t,Fi);var e=new R(t,false);var r={rssi:e.getInt8(),rsrp:e.getInt8(),rsrq:e.getInt8(),sinr:e.getInt8(),txPower:e.getInt8(),ecl:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var xi=at;var ki=function(t){var e=new R(t,false);return Un(e)};var zi=J;var Hi=164;var Vi=function(t){if(t.length>Hi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return sn(e)};var Wi=mt;var Gi=255;var Yi=function(t){if(t.length>Gi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return pn(e)};var ji=it;var qi=function(t,e){if(!e.hardwareType){throw new Error("hardwareType in config is mandatory")}var r=new R(t,false);var n=r.getUint8();var a=gn(r,e.hardwareType);return{sequenceNumber:n,status:a}};var Qi=X;var Xi=14;var Ki=8;var Ji=function(t){return t.getUint16()};var Zi=function(t){return P(t.getBytes(Ki))};var $i=function(t){if(t.length>Xi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=e.getUint8();var n=ti[r];var a=e.getUint8();var i;switch(r){case Na:case Ma:case Oa:case ba:case Ca:case Ra:case Ba:case Da:case Ha:case Va:case Ga:case za:case ja:case qa:i={time2000:Jr(e)};break;case La:i={voltage:Ji(e)};break;case Pa:i={time2000:Jr(e),deviceId:Zi(e)};break;case xa:case ka:i={channel:e.getUint8()+1,value:Kr(e)};break;case Wa:i={status:gn(e,Gt)};break;case Qa:case Xa:i={time2000:Jr(e),channel:nn(e)};break;case Ka:case Ja:case Za:i={time2000:Jr(e),channel:nn(e),temperature:e.getInt8()};break;case Ya:i={time2000:Jr(e),status:gn(e,Kt)};break;default:throw new Error("Event ".concat(r," is not supported"))}return{id:r,name:n,sequenceNumber:a,data:i}};var ts=z;var es=2;var rs=function(t){if(t.length!==es){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r={id:e.getUint8(),status:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var ns=k;var as=_t[k];var is=1;var ss=function(t){x(as,t,is);var e=new R(t,false);var r={status:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var os=$;var vs=_t[$];var us=0;var fs=function(t){x(vs,t,us);return{}};var cs=Q;var ls=65535;var gs=255;var hs=function(t){var e=new R(t,false);var r={type:e.getUint8(),version:e.getUint8()};var n={type:e.getUint8(),version:e.getUint8()};var a;switch(n.type){case xt:case kt:case zt:case Ht:case Vt:case Wt:case Yt:case jt:case qt:case Xt:case $t:case Kt:{var i={batteryVoltage:Zr(e),batteryInternalResistance:e.getUint16(),temperature:e.getUint8(),remainingBatteryCapacity:e.getUint8(),lastEventSequenceNumber:e.getUint8()};if(i.batteryInternalResistance===ls){i.batteryInternalResistance=undefined}if(i.remainingBatteryCapacity===gs){i.remainingBatteryCapacity=undefined}else if(i.remainingBatteryCapacity!==undefined){i.remainingBatteryCapacity=Bt(i.remainingBatteryCapacity*100/(gs-1),1)}if(!e.isEmpty){i.downlinkQuality=e.getUint8()}a=i}break;case Gt:case Jt:case Zt:a={time2000:e.getUint32(),resetReason:e.getUint8(),rssiLastDownlinkFrame:e.getUint8(),snrLastDownlinkFrame:e.getUint8(),downlinkRequestsNumber:e.getUint8(),downlinkFragmentsNumber:e.getUint8(),uplinkResponsesNumber:e.getUint8(),uplinkFragmentsNumber:e.getUint8(),signalMarginToGateway:e.getUint8(),signalMarginFromGateway:e.getUint8(),detectedGatewaysNumber:e.getUint8(),gatewayDownlinkErrorRate:e.getUint8(),lastEventSequenceNumber:e.getUint8()};break;case Qt:default:throw new Error("".concat(cs,": hardware type ").concat(n.type," is not supported"))}return{software:r,hardware:n,data:a}};var ds=Y;var Us=_t[Y];var ps=5;var Es=function(t){x(Us,t,ps);var e=new R(t,false);var r={sequenceNumber:e.getUint8(),time2000:Jr(e)};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var ms=pt;var ws=_t[pt];var Ts=0;var Ss=function(t){x(ws,t,Ts);return{}};var ys=ht;var Is=_t[ht];var _s=7;var As=function(t){x(Is,t,_s);var e=new R(t,false);return{voltage:Zr(e),internalResistance:e.getUint16(),lastDepassivationTime:e.getUint16()}};var Ns=vt;var Ms=function(t){var e=new R(t,false);var r=e.getUint8();return{length:r,data:t.slice(1)}};var Os=Ut;var bs=_t[Ut];var Ls=1;var Cs=function(t){x(bs,t,Ls);var e=new R(t,false);return{status:e.getUint8()}};var Rs=dt;var Bs=function(t){var e=new R(t,false);return{offset:e.getUint32(),status:e.getUint8()}};var Ds=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var r=e;t.forEach(function(t){r^=t});return r};var Fs=3;var Ps=function(t,e){return function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1?arguments[1]:undefined;var a=[];var s={commands:a,bytes:r,lrc:{received:undefined,calculated:0}};var o=0;var v;var u;if(!r.length){return s}do{var f=F(r.slice(o,o+Fs));var c=r.slice(o,o+f.headerSize);var l=r.slice(o+f.headerSize,o+f.headerSize+f.commandSize);var g={id:f.commandId,name:e[f.commandId],headerSize:f.headerSize,bytes:[].concat(i(c),i(l))};o=o+f.headerSize+f.commandSize;if(n){g.config=n}try{if(!t[f.commandId]){throw new Error("Unsupported command id: ".concat(f.commandId,"!"))}g.parameters=t[f.commandId](l,n);a.push(g)}catch(t){a.push({command:g,error:t.message})}}while(o<r.length-1);if(r.length-o===1){v=r[r.length-1];u=Ds(r.slice(0,-1))}else{u=Ds(r)}s.lrc.calculated=u;s.lrc.received=v;if(v===u){return s}return{message:s,error:"Mismatch LRC."}}};var xs={};var ks=_t;var zs=Ps(xs,ks);xs[At]=Ot;xs[Nn]=On;xs[bn]=Cn;xs[va]=ua;xs[fa]=ca;xs[la]=ha;xs[da]=Ua;xs[pa]=ma;xs[wa]=Sa;xs[ya]=Ia;xs[_a]=Aa;xs[ei]=ni;xs[ai]=ii;xs[si]=vi;xs[ui]=ci;xs[li]=di;xs[pi]=wi;xs[Ti]=Si;xs[yi]=Ii;xs[_i]=Ai;xs[Ni]=Li;xs[Ci]=Ri;xs[xi]=ki;xs[zi]=Vi;xs[Wi]=Yi;xs[ji]=qi;xs[Qi]=$i;xs[ts]=rs;xs[ns]=ss;xs[Bi]=Pi;xs[os]=fs;xs[cs]=hs;xs[ds]=Es;xs[ms]=Ss;xs[ys]=As;xs[Ns]=Ms;xs[Os]=Cs;xs[Rs]=Bs;fromBytes=zs})();
//#endregion


/*
  Incoming arguments:
    * payload - array of bytes
    * metadata - key/value object
*/

var message = fromBytes(payload, config);

// there may be a message.error (e.g. mismatched LRC)
// in that case message.message will contain everything parsed successfully
// it should be used with caution

var result = {
    // required property, set to real device name from payload/metadata depending on integration
    // empty value throw an error in converter
    deviceName: '',

    deviceType: 'Water Meter',
    attributes: {
        model: 'Device Model',
        serialNumber: 'SN111',
        manufacturer: 'Device Manufacturer'
    },
    telemetry: {
        // telemetry display only primitive, i.e. string and numbers
        // for example only!
        message: JSON.stringify(message.message || message)
    },
    metadata: metadata
};

return result;
