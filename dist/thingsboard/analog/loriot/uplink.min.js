// IMPORTANT!!!
// This example only for default uplink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// these options can be edited
// available hardware types can be found here:
// https://github.com/jooby-dev/jooby-docs/blob/main/docs/analog/basics.md#hardware-types
var config = {
    // required field
    hardwareType: 0
};


//#region [autogenerated jooby-codec bundle from index.js]
var fromBytes,getBytesFromHex;(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function e(e){if(Array.isArray(e))return t(e)}function r(t,e,r){return(e=o(e))in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function n(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t){return e(t)||n(t)||u(t)||a()}function s(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function o(t){var e=s(t,"string");return"symbol"==typeof e?e:e+""}function u(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}var v={separator:" ",prefix:""};var f=1;var c=2;var g=3;var h=4;var l=Math.log,d=Math.pow,U=Math.LN2;var E=function(t,e,r,n,a){var i,s,o=a*8-n-1,u=(1<<o)-1,v=u>>1,f=-7,c=r?a-1:0,g=r?-1:1,h=t[e+c];c+=g;i=h&(1<<-f)-1;h>>=-f;f+=o;for(;f>0;i=i*256+t[e+c],c+=g,f-=8);s=i&(1<<-f)-1;i>>=-f;f+=n;for(;f>0;s=s*256+t[e+c],c+=g,f-=8);if(i===0){i=1-v}else if(i===u){return s?NaN:h?-Infinity:Infinity}else{s=s+d(2,n);i=i-v}return(h?-1:1)*s*d(2,i-n)};var p=function(t,e,r,n,a,i){var s,o,u,v=i*8-a-1,f=(1<<v)-1,c=f>>1,g=a===23?d(2,-24)-d(2,-77):0,h=n?0:i-1,E=n?1:-1,p=r<0||r===0&&1/r<0?1:0;r<0&&(r=-r);if(r!==r||r===Infinity){o=r!==r?1:0;s=f}else{s=l(r)/U|0;if(r*(u=d(2,-s))<1){s--;u*=2}if(s+c>=1){r+=g/u}else{r+=g*d(2,1-c)}if(r*u>=2){s++;u/=2}if(s+c>=f){o=0;s=f}else if(s+c>=1){o=(r*u-1)*d(2,a);s=s+c}else{o=r*d(2,c-1)*d(2,a);s=0}}for(;a>=8;t[e+h]=o&255,h+=E,o/=256,a-=8);s=s<<a|o;v+=a;for(;v>0;t[e+h]=s&255,h+=E,s/=256,v-=8);t[e+h-E]|=p*128};var m=[1,0];var w=[2,1,0];var T=[3,2,1,0];var S=[0,1];var y=[0,1,2];var I=[0,1,2,3];var _=function(t,e){return t[e]};var A=function(t,e,r){var n=r?S:m;var a=t[e+n[0]];var i=t[e+n[1]]<<8;return a|i};var N=function(t,e,r){var n=r?y:w;var a=t[e+n[0]];var i=t[e+n[1]]<<8;var s=t[e+n[2]]<<16;return a|i|s};var b=function(t,e,r){var n=r?I:T;var a=t[e+n[3]]*16777216;var i=t[e+n[2]]*65536;var s=t[e+n[1]]*256;var o=t[e+n[0]];return a+i+s+o};var O=function(t,e,r){t[e]=r&255};var L=function(t,e,r,n){var a=n?S:m;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255};var M=function(t,e,r,n){var a=n?y:w;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255;t[e+a[2]]=r>>>16&255};var C=function(t,e,r,n){var a=n?I:T;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255;t[e+a[2]]=r>>>16&255;t[e+a[3]]=r>>>24&255};function R(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var r=new Array(t).fill(0);this.data=r}else{this.data=t}this.offset=0;this.isLittleEndian=e}R.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){O(this.data,this.offset,t<0?t|256:t);this.offset+=f},getInt8:function(){var t=_(this.data,this.offset);this.offset+=f;return t&128?t^-256:t},setUint8:function(t){O(this.data,this.offset,t);this.offset+=f},getUint8:function(){var t=_(this.data,this.offset);this.offset+=f;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t<0?t|65536:t,e);this.offset+=c},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=A(this.data,this.offset,t);this.offset+=c;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t,e);this.offset+=c},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=A(this.data,this.offset,t);this.offset+=c;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;M(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=g},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=N(this.data,this.offset,t);this.offset+=g;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;M(this.data,this.offset,t,e);this.offset+=g},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=N(this.data,this.offset,t);this.offset+=g;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;C(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=h},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=b(this.data,this.offset,t);this.offset+=h;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;C(this.data,this.offset,t,e);this.offset+=h},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=b(this.data,this.offset,t);this.offset+=h;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;p(this.data,this.offset,t,e,23,4);this.offset+=h},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=E(this.data,this.offset,t,23,4);this.offset+=h;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var r=[];while(this.offset<e){r.push(String.fromCharCode(this.getUint8()))}return r.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var r=this.data;r.splice.apply(r,[e,t.length].concat(i(t)));this.data=r;this.offset=e+t.length}};Object.defineProperties(R.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var B=224;var F=31;var D=function(t){if(t.length===0){throw new Error("Invalid buffer size")}var e={shortCode:t[0]&B,extraCode:t[0]&F};if(e.shortCode!==0){return{headerSize:1,commandId:t[0]&~e.extraCode,commandSize:e.extraCode}}if(e.extraCode===F){if(t.length<3){throw new Error("Invalid buffer size")}return{headerSize:3,commandId:t[1]<<8|F,commandSize:t[2]}}if(t.length<2){throw new Error("Invalid buffer size")}return{headerSize:2,commandId:e.extraCode,commandSize:t[1]}};var P=2;var z=3;var x=4;var k=5;var H=6;var W=7;var V=9;var G=11;var Y=12;var j=20;var q=21;var Q=22;var X=23;var K=24;var J=25;var Z=26;var $=27;var tt=30;var et=32;var rt=64;var nt=96;var at=543;var it=1311;var st=1823;var ot=2591;var ut=2847;var vt=3103;var ft=3359;var ct=3871;var gt=5151;var ht=10783;var lt=11039;var dt=11295;var Ut=12319;var Et=12575;var pt=12831;var mt=13087;var wt=13343;var Tt=Object.freeze({__proto__:null,correctTime2000:Y,current:W,currentMc:K,dataSegment:tt,day:et,dayMc:Q,exAbsCurrentMc:ct,exAbsDayMc:ut,exAbsHourMc:ot,getArchiveDays:H,getArchiveDaysMc:$,getArchiveEvents:G,getArchiveHours:k,getArchiveHoursMc:Z,getArchiveHoursMcEx:Ut,getBatteryStatus:it,getChannelsStatus:pt,getChannelsTypes:mt,getExAbsArchiveDaysMc:ft,getExAbsArchiveHoursMc:vt,getLmicInfo:at,getParameter:x,hour:rt,hourMc:X,hourMcEx:Et,lastEvent:nt,newEvent:q,setParameter:z,setTime2000:P,signalQuality:wt,softRestart:J,status:j,time2000:V,updateRun:dt,usWaterMeterBatteryStatus:gt,usWaterMeterCommand:st,verifyImage:lt,writeImage:ht});var St=function(t){var e={};for(var r in t){var n=t[r];e[n]=r}return e};var yt=St(Tt);var It=Y;var _t=1;var At=function(t){if(t.length!==_t){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r={status:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var Nt=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=0;for(var n in e){if(n in t&&e[n]){r|=t[n]}}return r};var bt=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r={};for(var n in t){r[n]=(e&t[n])!==0}return r};var Ot=function(t,e,r){return(1<<e)-1&t>>r-1};var Lt=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=Object.assign({},v,e),n=r.separator,a=r.prefix;return t.map(function(t){return"".concat(a).concat(t.toString(16).padStart(2,"0"))}).join(n)};var Mt=function(t){var e=t.trim();if(!e){return[]}e=e.replace(/0x/g,"").split(/\s+/).map(function(t){return t.padStart(2,"0")}).join("");if(e.length%2!==0){e="0".concat(e)}var r=e.length/2;var n=new Array(r);for(var a=0;a<r;a++){n[a]=parseInt(e.substring(a*2,a*2+2),16)}return n};var Ct=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;var r=Math.pow(10,e);return Math.round(t*r*(1+Number.EPSILON))/r};var Rt=9466848e5;var Bt=1e3;var Ft=function(t){return(t.getTime()-Rt)/Bt};var Dt=1;var Pt=2;var zt=3;var xt=4;var kt=5;var Ht=6;var Wt=7;var Vt=8;var Gt=9;var Yt=10;var jt=11;var qt=12;var Qt=13;var Xt=14;var Kt=21;var Jt=24;var Zt=1;var $t=4;var te=5;var ee=8;var re=9;var ne=10;var ae=11;var ie=13;var se=18;var oe=23;var ue=24;var ve=25;var fe=26;var ce=28;var ge=29;var he=30;var le=31;var de=32;var Ue=33;var Ee=34;var pe=35;var me=36;var we=37;var Te=38;var Se=39;var ye=40;var Ie=41;var _e=42;var Ae=43;var Ne=44;var be=45;var Oe=46;var Le=47;var Me=48;var Ce=49;var Re=50;var Be=51;var Fe=52;var De=53;var Pe=54;var ze=55;var xe=56;var ke=57;var He=58;var We=59;var Ve=60;var Ge=61;var Ye=Object.freeze({__proto__:null,ABSOLUTE_DATA:oe,ABSOLUTE_DATA_ENABLE:ue,ABSOLUTE_DATA_ENABLE_MULTI_CHANNEL:he,ABSOLUTE_DATA_MULTI_CHANNEL:ge,ACTIVATE_MODULE:Ge,ACTIVATION_METHOD:re,BATTERY_DEPASSIVATION_CONFIG:Ue,BATTERY_DEPASSIVATION_INFO:ne,BATTERY_MINIMAL_LOAD_TIME:ae,CHANNELS_CONFIG:ie,CHANNEL_TYPE:xe,DAY_CHECKOUT_HOUR:$t,EVENTS_CONFIG:Re,EXTRA_FRAME_INTERVAL:ce,EXTRA_PAYLOAD_ENABLE:ke,GEOLOCATION:fe,KEEP_LORA_CONNECTION_ON_REMOVAL:We,MQTT_BROKER_ADDRESS:pe,MQTT_DATA_RECEIVE_CONFIG:Te,MQTT_DATA_SEND_CONFIG:Se,MQTT_SESSION_CONFIG:Ee,MQTT_SSL_ENABLE:me,MQTT_TOPIC_PREFIX:we,NBIOT_APN:De,NBIOT_BANDS:Fe,NBIOT_DEVICE_SOFTWARE_UPDATE:Le,NBIOT_LED_INDICATION:Pe,NBIOT_MODULE_FIRMWARE_UPDATE:Me,NBIOT_MODULE_INFO:Be,NBIOT_NTP_SERVER:Ve,NBIOT_SIM:ze,NBIOT_SSL_CACERT_SET:_e,NBIOT_SSL_CACERT_WRITE:Ie,NBIOT_SSL_CLIENT_CERT_SET:Ne,NBIOT_SSL_CLIENT_CERT_WRITE:Ae,NBIOT_SSL_CLIENT_KEY_SET:Oe,NBIOT_SSL_CLIENT_KEY_WRITE:be,NBIOT_SSL_CONFIG:ye,PRIORITY_DATA_DELIVERY_TYPE:ee,PULSE_CHANNELS_SCAN_CONFIG:le,PULSE_CHANNELS_SET_CONFIG:de,REPORTING_DATA_CONFIG:Ce,REPORTING_DATA_INTERVAL:Zt,REPORTING_DATA_TYPE:te,RX2_CONFIG:se,SERIAL_NUMBER:ve,TIME_SYNCHRONIZATION_PERIOD_VIA_MAC:He});var je=St(Ye);var qe=4294967295;var Qe=0;var Xe=1;var Ke=2;var Je=3;var Ze=4;var $e=Object.freeze({__proto__:null,BINARY_SENSOR:Je,IDLE:Qe,POWER_CHANNEL:Ke,PULSE_SENSOR:Xe,TEMPERATURE_SENSOR:Ze});var tr=0;var er=1;var rr=2;var nr=3;var ar=4;var ir=5;var sr=6;var or=Object.freeze({__proto__:null,SF10B125:rr,SF11B125:er,SF12B125:tr,SF7B125:ir,SF7B250:sr,SF8B125:ar,SF9B125:nr});var ur=St(or);var vr,fr;var cr=2e3;var gr=4;var hr=5;var lr=1;var dr=4095;var Ur=128;var Er=7;var pr=600;var mr=100;var wr=6;var Tr=8;var Sr=[Pt,zt,Dt,qt,Jt];var yr=[Vt,kt,Gt,xt];var Ir=[jt];var _r=[Ht,Yt];var Ar=[Wt];var Nr={isBatteryLow:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isButtonReleased:Math.pow(2,2),isConnectionLost:Math.pow(2,3)};var br={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5)};var Or={isConnectionLost:Math.pow(2,3)};var Lr={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5),isThirdChannelInactive:Math.pow(2,6),isForthChannelInactive:Math.pow(2,8)};var Mr={isMeterCaseOpen:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isParametersSetRemotely:Math.pow(2,2),isParametersSetLocally:Math.pow(2,3),isMeterProgramRestarted:Math.pow(2,4),isLockedOut:Math.pow(2,5),isTimeSet:Math.pow(2,6),isTimeCorrected:Math.pow(2,7),isMeterFailure:Math.pow(2,8),isMeterTerminalBoxOpen:Math.pow(2,9),isModuleCompartmentOpen:Math.pow(2,10),isTariffPlanChanged:Math.pow(2,11),isNewTariffPlanReceived:Math.pow(2,12)};var Cr={transportMode:1,frequencyOutput:2,reverseFlow:4,tamperBreak:8,leakage:16,pipeBreak:32,pipeEmpty:64,batteryDischarge:128};vr={},r(r(r(r(r(r(r(r(r(r(vr,Zt,1+4),$t,1+1),te,1+1),ee,1+1),re,1+1),ne,1+6),ae,1+4),ie,1+1),se,1+4),oe,1+9),r(r(r(r(r(r(r(r(r(r(vr,ue,1+1),ve,1+6),fe,1+10),ce,1+2),ge,1+10),he,1+2),le,1+3),de,1+1),Ue,1+4),me,1+1),r(r(r(r(r(r(r(r(r(r(vr,Te,1+3),Se,1+3),ye,1+2),_e,1+4),Ne,1+4),Oe,1+4),Ce,1+4),Re,1+3),Pe,1+2),ze,1+3),r(r(r(r(vr,ke,1+1),He,1+4),We,1+1),Ge,1+1);var Rr={channel1:Math.pow(2,0),channel2:Math.pow(2,1),channel3:Math.pow(2,2),channel4:Math.pow(2,3)};var Br=function(t){var e=bt(Rr,t);return{channel1:e.channel1,channel2:e.channel2,channel3:e.channel3,channel4:e.channel4}};var Fr=function(t){var e=t.channel1,r=t.channel2,n=t.channel3,a=t.channel4;return Nt(Rr,{channel1:e,channel2:r,channel3:n,channel4:a})};var Dr=function(t){return Br(t.getUint8())};var Pr=function(t,e){return t.setUint8(Fr(e))};var zr={128:1,129:5,130:10,131:100,132:1e3,133:1e4,134:1e5};var xr=St(zr);var kr=function(t){return!!(t&128)};var Hr=function(t){return{size:t.getUint16(),position:t.getUint16(),chunk:t.getBytesLeft()}};var Wr=function(t,e){if(e.size!==e.chunk.length){throw new Error("ssl chunk size parameter doesn't match actual ssl chunk size")}t.setUint16(e.size);t.setUint16(e.position);t.setBytes(e.chunk)};var Vr=function(t){return{crc32:t.getUint32()}};var Gr=function(t,e){t.setUint32(e.crc32)};var Yr=(fr={},r(r(r(r(r(r(r(r(r(r(fr,Zt,{get:function(t){return{specialSchedulePeriod:t.getUint8()*pr,firstDaysSpecialSchedule:t.getUint8(),lastDaysSpecialSchedule:t.getUint8(),period:t.getUint8()*pr}},set:function(t,e){t.setUint8(e.specialSchedulePeriod/pr);t.setUint8(e.firstDaysSpecialSchedule);t.setUint8(e.lastDaysSpecialSchedule);t.setUint8(e.period/pr)}}),$t,{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}}),te,{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}}),ee,{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}}),re,{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}}),ne,{get:function(t){return{loadTime:t.getUint16(),internalResistance:t.getUint16(),lowVoltage:t.getUint16()}},set:function(t,e){t.setUint16(e.loadTime);t.setUint16(e.internalResistance);t.setUint16(e.lowVoltage)}}),ae,{get:function(t){return{value:t.getUint32()}},set:function(t,e){t.setUint32(e.value)}}),ie,{get:function(t){return{value:t.getUint8()}},set:function(t,e){if(e.value<0||e.value>18){throw new Error("channels config must be between 0-18")}t.setUint8(e.value)}}),se,{get:function(t){var e=t.getUint8();var r=ur[e];var n=t.getUint24()*mr;return{spreadFactor:e,spreadFactorName:r,frequency:n}},set:function(t,e){t.setUint8(e.spreadFactor);t.setUint24(e.frequency/mr)}}),oe,{get:function(t){return{meterValue:t.getUint32(),pulseCoefficient:sn(t),value:t.getUint32()}},set:function(t,e){t.setUint32(e.meterValue);on(t,e.pulseCoefficient);t.setUint32(e.value)}}),r(r(r(r(r(r(r(r(r(r(fr,ue,{get:function(t){return{state:t.getUint8()}},set:function(t,e){t.setUint8(e.state)}}),ve,{get:function(t){return{value:Lt(t.getBytes(wr))}},set:function(t,e){Mt(e.value).forEach(function(e){return t.setUint8(e)})}}),fe,{get:function(t){return{latitude:Ct(t.getFloat32()),longitude:Ct(t.getFloat32()),altitude:Ct(t.getUint16())}},set:function(t,e){t.setFloat32(Ct(e.latitude));t.setFloat32(Ct(e.longitude));t.setUint16(Ct(e.altitude))}}),ce,{get:function(t){return{value:t.getUint16()}},set:function(t,e){t.setUint16(e.value)}}),ge,{get:function(t){return{channel:tn(t),meterValue:t.getUint32(),pulseCoefficient:sn(t),value:t.getUint32()}},set:function(t,e){en(t,e.channel);t.setUint32(e.meterValue);on(t,e.pulseCoefficient);t.setUint32(e.value)}}),he,{get:function(t){return{channel:tn(t),state:t.getUint8()}},set:function(t,e){en(t,e.channel);t.setUint8(e.state)}}),le,{get:function(t){return{channelList:Zr(t),pullUpTime:t.getUint8(),scanTime:t.getUint8()}},set:function(t,e){if(e.pullUpTime<17){throw new Error("minimal value for pullUpTime - 17")}if(e.scanTime<15){throw new Error("minimal value for scanTime - 15")}$r(t,e.channelList.map(function(t){return{index:t}}));t.setUint8(e.pullUpTime);t.setUint8(e.scanTime)}}),de,{get:Dr,set:Pr}),Ue,{get:function(t){return{resistanceStartThreshold:t.getUint16(),resistanceStopThreshold:t.getUint16()}},set:function(t,e){t.setUint16(e.resistanceStartThreshold);t.setUint16(e.resistanceStopThreshold)}}),Ee,{get:function(t){return{clientId:t.getString(),username:t.getString(),password:t.getString(),cleanSession:t.getUint8()}},set:function(t,e){t.setString(e.clientId);t.setString(e.username);t.setString(e.password);t.setUint8(e.cleanSession)}}),r(r(r(r(r(r(r(r(r(r(fr,pe,{get:function(t){return{hostName:t.getString(),port:t.getUint16()}},set:function(t,e){t.setString(e.hostName);t.setUint16(e.port)}}),me,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}),we,{get:function(t){return{topicPrefix:t.getString()}},set:function(t,e){t.setString(e.topicPrefix)}}),Te,{get:function(t){return{qos:t.getUint8(),count:t.getUint8(),timeout:t.getUint8()}},set:function(t,e){t.setUint8(e.qos);t.setUint8(e.count);t.setUint8(e.timeout)}}),Se,{get:function(t){return{qos:t.getUint8(),retain:t.getUint8(),newestSendFirst:t.getUint8()}},set:function(t,e){t.setUint8(e.qos);t.setUint8(e.retain);t.setUint8(e.newestSendFirst)}}),ye,{get:function(t){return{securityLevel:t.getUint8(),version:t.getUint8()}},set:function(t,e){t.setUint8(e.securityLevel);t.setUint8(e.version)}}),Ie,{get:Hr,set:Wr}),_e,{get:Vr,set:Gr}),Ae,{get:Hr,set:Wr}),Ne,{get:Vr,set:Gr}),r(r(r(r(r(r(r(r(r(r(fr,be,{get:Hr,set:Wr}),Oe,{get:Vr,set:Gr}),Le,{get:function(t){return{softwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.softwareImageUrl)}}),Me,{get:function(t){return{moduleFirmwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.moduleFirmwareImageUrl)}}),Ce,{get:function(t){return{dataType:t.getUint8(),hour:t.getUint8(),minutes:t.getUint8(),countToSend:t.getUint8()}},set:function(t,e){t.setUint8(e.dataType);t.setUint8(e.hour);t.setUint8(e.minutes);t.setUint8(e.countToSend)}}),Re,{get:function(t){return{eventId:t.getUint8(),sendEvent:t.getUint8(),saveEvent:t.getUint8()}},set:function(t,e){t.setUint8(e.eventId);t.setUint8(e.sendEvent);t.setUint8(e.saveEvent)}}),Be,{get:function(t){return{moduleInfo:t.getString()}},set:function(t,e){t.setString(e.moduleInfo)}}),Fe,{get:function(t){var e=t.getUint8();var r=[];for(var n=0;n<e;n++){r.push(t.getUint8())}return{bands:r}},set:function(t,e){t.setUint8(e.bands.length);for(var r of e.bands){t.setUint8(r)}}}),De,{get:function(t){return{apn:t.getString()}},set:function(t,e){t.setString(e.apn)}}),Pe,{get:function(t){return{enableLed:t.getUint8(),enableNbiotNetworkLed:t.getUint8()}},set:function(t,e){t.setUint8(e.enableLed);t.setUint8(e.enableNbiotNetworkLed)}}),r(r(r(r(r(r(r(fr,ze,{get:function(t){return{enable:t.getUint8(),pin:t.getUint16()}},set:function(t,e){t.setUint8(e.enable);t.setUint16(e.pin)}}),xe,{get:function(t){return wn(t)},set:function(t,e){return Tn(t,e)}}),ke,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}),He,{get:function(t){return{period:t.getUint32()}},set:function(t,e){t.setUint32(e.period)}}),We,{get:function(t){return{value:t.getUint8()!==0}},set:function(t,e){t.setUint8(e.value?1:0)}}),Ve,{get:function(t){return{server:t.getString(),port:t.getUint16()}},set:function(t,e){t.setString(e.server);t.setUint16(e.port)}}),Ge,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}));var jr=function(t){return!!Ot(t,1,Tr)};var qr=function(t){var e=0;var r=true;var n=0;while(r&&t.offset<=t.data.length){var a=t.getUint8();r=!!(a&Ur);e+=(a&127)<<7*n>>>0;++n}return e};var Qr=function(t){return t.getUint32()};var Xr=function(t){var e=t.getUint8();var r=t.getUint8();var n=t.getUint8();var a=e<<4;a|=(r&240)>>4;var i=(r&15)<<8|n;if(i===dr){i=undefined}if(a===dr){a=undefined}return{underLowLoad:a,underHighLoad:i}};var Kr=function(t){return t.getUint24()};var Jr=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t.getUint8();var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=Kr(t);return{isMagneticInfluence:jr(e),value:r&&n===qe?0:n}};var Zr=function(t){var e=[];var r=true;var n=1;while(r){var a=t.getUint8();var i=a.toString(2).padStart(Er+1,"0").split("").reverse();i.forEach(function(t,a){var i=Number(t);if(a===Er){r=!!i}else{if(i){e.push(n)}++n}})}return e};var $r=function(t,e){if(e.length===0){t.setUint8(0);return}e.sort(function(t,e){return t.index-e.index});var r=Math.max.apply(Math,i(e.map(function(t){var e=t.index;return e})));var n=(r-r%8)/8;var a=new Array(n+1).fill(0);var s=0;a.forEach(function(t,r){var n=r*Er+1;var i=n+Er;while(n<i){var o=e.find(function(t){return t.index===n});if(o!==undefined){s|=1<<(o.index-1)%Er}++n}if(a[r+1]!==undefined){s|=1<<Er}a[r]=s;s=0});a.forEach(function(e){return t.setUint8(e)})};var tn=function(t){return t.getUint8()+1};var en=function(t,e){if(e<1){throw new Error("channel must be 1 or greater")}t.setUint8(e-1)};var rn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=an(t);var n=nn(t),a=n.hour,i=n.hours;var s=Zr(t);var o=[];r.setUTCHours(a);s.forEach(function(r){var n=[];var a=qr(t);for(var s=1;s<i;++s){n.push(qr(t))}o.push({value:e&&a===qe?0:a,diff:n,index:r})});return{startTime2000:Ft(r),hours:i,channelList:o}};var nn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t.getUint8();if(e===0){return{hours:0,hour:0}}var r=((e&224)>>5)+1;var n=e&31;return{hours:r,hour:n}};var an=function(t){var e=t.getUint8();var r=t.getUint8();var n=e>>lr;var a=(e&1)<<gr-lr|r>>hr;var i=r&31;return new Date(Date.UTC(n+cr,a-1,i,0,0,0,0))};var sn=function(t){var e=t.getUint8();if(kr(e)){var r=zr[e];if(r){return r}throw new Error("pulseCoefficient MSB is set, but value unknown")}return e};var on=function(t,e){if(e in xr){var r=xr[e];if(r){t.setUint8(r)}else{throw new Error("pulseCoefficient MSB is set, but value unknown")}}else{t.setUint8(e)}};var un=function(t){var e=Zr(t);var r=[];e.forEach(function(e){r.push({pulseCoefficient:sn(t),value:qr(t),index:e})});return r};var vn=function(t,e){var r=Zr(t);var n=[];r.forEach(function(r){var a=sn(t);var i=qr(t);var s=[];for(var o=1;o<e;++o){s.push(qr(t))}n.push({diff:s,value:i,pulseCoefficient:a,index:r})});return n};var fn=function(t,e){var r;if(Sr.indexOf(e)!==-1){r=bt(Nr,t.getUint8())}else if(yr.indexOf(e)!==-1){r=bt(br,t.getUint8())}else if(Ir.indexOf(e)!==-1){r=bt(Or,t.getUint8())}else if(_r.indexOf(e)!==-1){r=bt(Lr,t.getUint16(true))}else if(Ar.indexOf(e)!==-1){r=bt(Mr,t.getUint16(true))}else if(e===Qt){var n=bt(Cr,t.getUint8());r={event:n,error:t.getUint8()}}else{throw new Error("wrong hardwareType")}return r};var cn=function(t){var e=t.getUint8();var r=je[e];var n;if(!Yr[e]||!Yr[e].get){throw new Error("parameter ".concat(e," is not supported"))}switch(e){case Ee:case Ie:case Ae:case be:case _e:case Ne:case Oe:case Le:case Me:n=null;break;default:n=Yr[e].get(t)}return{id:e,name:r,data:n}};var gn=function(t){var e=t.getUint8();var r=t.getUint8();return{isMagneticInfluence:jr(e),value:(e&31)<<8|r}};var hn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=an(t);var n=t.getUint8();var a=nn(t,n),i=a.hour;var s=Kr(t);var o={isMagneticInfluence:jr(n),value:e&&s===qe?0:s};var u=[];while(t.offset<t.data.length){u.push(gn(t))}r.setUTCHours(i);return{startTime2000:Ft(r),counter:o,diff:u}};var ln=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=an(t);var n=t.getUint8();var a=t.getUint8();var i=Zr(t);var s=[];r.setUTCHours(n);i.forEach(function(r){var n=[];var i=qr(t);for(var o=0;o<a;++o){n.push(qr(t))}s.push({value:e&&i===qe?0:i,diff:n,index:r})});return{startTime2000:Ft(r),hour:n,hours:a,channelList:s}};var dn=function(t){var e=t.getUint8();var r=t.getUint8();return{segmentationSessionId:e,segmentIndex:Ot(r,3,1),segmentsNumber:Ot(r,3,5),isLast:Boolean(Ot(r,1,8)),data:t.getBytesLeft()}};var Un=function(t){var e=t.getUint16();return{activeStateTimeMs:e}};var En=function(t,e){t.setUint16(e.activeStateTimeMs)};var pn=function(t){var e=t.getUint16();var r=t.getUint8();var n=t.getInt8();var a=t.getInt8();return{measurementPeriod:e,hysteresisSec:r,highTemperatureThreshold:n,lowTemperatureThreshold:a}};var mn=function(t,e){t.setUint16(e.measurementPeriod);t.setUint8(e.hysteresisSec);t.setInt8(e.highTemperatureThreshold);t.setInt8(e.lowTemperatureThreshold)};var wn=function(t){var e=tn(t);var r=t.getUint8();var n={};switch(r){case Je:n=Un(t);break;case Ze:n=pn(t);break}return{channel:e,type:r,parameters:n}};var Tn=function(t,e){var r=e.type,n=e.channel,a=e.parameters;en(t,n);t.setUint8(r);switch(r){case Je:En(t,a);break;case Ze:mn(t,a);break}};var Sn=W;var yn=4;var In=function(t){if(t.length>yn){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return Jr(e)};var _n=K;var An=37;var Nn=function(t){if(t.length>An){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e={channelList:[]};var r=new R(t,false);var n=Zr(r);e.channelList=n.map(function(t){return{value:qr(r),index:t}});return e};var bn=2;var On=3;var Ln=4;var Mn=5;var Cn=6;var Rn=7;var Bn=9;var Fn=11;var Dn=12;var Pn=20;var zn=24;var xn=25;var kn=26;var Hn=27;var Wn=30;var Vn=543;var Gn=1311;var Yn=1823;var jn=3103;var qn=3359;var Qn=3871;var Xn=10783;var Kn=11039;var Jn=11295;var Zn=12319;var $n=12831;var ta=13087;var ea=13343;var ra=Object.freeze({__proto__:null,correctTime2000:Dn,dataSegment:Wn,getArchiveDays:Cn,getArchiveDaysMc:Hn,getArchiveEvents:Fn,getArchiveHours:Mn,getArchiveHoursMc:kn,getArchiveHoursMcEx:Zn,getBatteryStatus:Gn,getChannelsStatus:$n,getChannelsTypes:ta,getCurrent:Rn,getCurrentMc:zn,getExAbsArchiveDaysMc:qn,getExAbsArchiveHoursMc:jn,getExAbsCurrentMc:Qn,getLmicInfo:Vn,getParameter:Ln,getSignalQuality:ea,getStatus:Pn,getTime2000:Bn,setParameter:On,setTime2000:bn,softRestart:xn,updateRun:Jn,usWaterMeterCommand:Yn,verifyImage:Kn,writeImage:Xn});St(ra);var na=Wn;var aa=function(t){var e=new R(t,false);return dn(e)};var ia=et;var sa=function(t){var e=new R(t,false);var r=an(e);var n=e.getUint8();var a=nn(e,n),i=a.hour;var s=jr(n);var o=Kr(e);r.setUTCHours(i);return{value:o,isMagneticInfluence:s,startTime2000:Ft(r)}};var oa=Q;var ua=32;var va=function(t){if(t.length>ua){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=an(e);var n=Zr(e);var a=n.map(function(t){return{value:qr(e),index:t}});return{startTime2000:Ft(r),channelList:a}};var fa=ct;var ca=function(t){var e=new R(t,false);return{channelList:un(e)}};var ga=ut;var ha=89;var la=function(t){if(t.length>ha){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=an(e);var n=un(e);return{startTime2000:Ft(r),channelList:n}};var da=ot;var Ua=168;var Ea=function(t){if(t.length>Ua){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=an(e);var n=nn(e),a=n.hour,i=n.hours;var s=vn(e,i);r.setUTCHours(a);return{startTime2000:Ft(r),hours:i,channelList:s}};var pa=H;var ma=function(t){var e=new R(t,false);var r=an(e);var n=[];while(e.offset<e.data.length){n.push(Jr(e,undefined,true))}return{startTime2000:Ft(r),dayList:n}};var wa=$;var Ta=function(t){var e=new R(t,false);var r=an(e);var n=Zr(e);var a=e.getUint8();var i=[];n.forEach(function(t){var r=[];i.push({dayList:r,index:t});for(var n=0;n<a;++n){var s=qr(e);r.push(s===qe?0:s)}});return{startTime2000:Ft(r),days:a,channelList:i}};var Sa=1;var ya=2;var Ia=3;var _a=4;var Aa=5;var Na=6;var ba=7;var Oa=8;var La=9;var Ma=10;var Ca=11;var Ra=12;var Ba=13;var Fa=14;var Da=15;var Pa=16;var za=17;var xa=18;var ka=19;var Ha=20;var Wa=21;var Va=22;var Ga=23;var Ya=24;var ja=25;var qa=26;var Qa=Object.freeze({__proto__:null,ACTIVATE:Ia,ACTIVATE_MTX:Ca,BATTERY_ALARM:Aa,BINARY_SENSOR_OFF:Ga,BINARY_SENSOR_ON:Va,CAN_OFF:Na,CONNECT:Ra,COUNTER_OVER:La,DEACTIVATE:_a,DEPASS_DONE:Fa,DISCONNECT:Ba,INSERT:ba,JOIN_ACCEPT:xa,MAGNET_OFF:ya,MAGNET_ON:Sa,MTX:za,OPTOFLASH:Pa,OPTOLOW:Da,OPTOSENSOR_ERROR:Wa,REMOVE:Oa,SET_TIME:Ma,TEMPERATURE_SENSOR_HIGH_TEMPERATURE:qa,TEMPERATURE_SENSOR_HYSTERESIS:Ya,TEMPERATURE_SENSOR_LOW_TEMPERATURE:ja,WATER_EVENT:ka,WATER_NO_RESPONSE:Ha});var Xa=St(Qa);var Ka=G;var Ja=function(t){var e=Qr(t);var r=t.getUint8();var n=t.getUint8();return{time2000:e,id:r,name:Xa[r],sequenceNumber:n}};var Za=function(t){var e=new R(t,false);var r=[];while(e.bytesLeft>0){r.push(Ja(e))}return{eventList:r}};var $a=k;var ti=function(t){var e=new R(t,false);return hn(e,true)};var ei=Z;var ri=164;var ni=function(t){if(t.length>ri){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return rn(e,true)};var ai=Ut;var ii=255;var si=function(t){if(t.length>ii){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return ln(e,true)};var oi=it;var ui=function(t){var e=new R(t,false);return{voltageUnderLowLoad:e.getUint16(),voltageUnderHighLoad:e.getUint16(),internalResistance:e.getUint16(),temperature:e.getUint8(),remainingCapacity:e.getUint8(),isLastDayOverconsumption:e.getUint8()===1,averageDailyOverconsumptionCounter:e.getUint16()}};var vi=St($e);var fi=pt;var ci=function(t){return{state:t.getUint8()!==0}};var gi=function(t){return{temperature:t.getInt8(),time2000:Qr(t)}};var hi=function(t){var e=new R(t,false);var r=[];while(e.bytesLeft!==0){var n=e.getUint8();var a={type:n,typeName:vi[n],channel:tn(e)};switch(a.type){case Je:a.status=ci(e);break;case Ze:a.status=gi(e);break}r.push(a)}return r};var li=mt;var di=function(t){return{channels:t.map(function(t){return{type:t,typeName:vi[t]}})}};var Ui=ft;var Ei=function(t){var e=new R(t,false);var r=an(e);var n=Zr(e);var a=e.getUint8();var i=[];n.forEach(function(t){var r=[];var n=sn(e);i.push({pulseCoefficient:n,dayList:r,index:t});for(var s=0;s<a;++s){var o=qr(e);r.push(o===qe?0:o)}});return{channelList:i,days:a,startTime2000:Ft(r)}};var pi=vt;var mi=function(t){var e=new R(t,false);return rn(e,true)};var wi=at;var Ti=2;var Si={isMulticastSupported:1<<0,isFragmentedDataSupported:1<<1};var yi=function(t){if(t.length!==Ti){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t);var r=bt(Si,e.getUint8());var n=e.getUint8();if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return{capabilities:r,version:n}};var Ii=x;var _i=function(t){var e=new R(t,false);return cn(e)};var Ai=wt;var Ni=6;var bi=function(t){if(t.length!==Ni){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r={rssi:e.getInt8(),rsrp:e.getInt8(),rsrq:e.getInt8(),sinr:e.getInt8(),txPower:e.getInt8(),ecl:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var Oi=rt;var Li=function(t){var e=new R(t,false);return hn(e)};var Mi=X;var Ci=164;var Ri=function(t){if(t.length>Ci){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return rn(e)};var Bi=Et;var Fi=255;var Di=function(t){if(t.length>Fi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return ln(e)};var Pi=nt;var zi=function(t,e){if(!e.hardwareType){throw new Error("hardwareType in config is mandatory")}var r=new R(t,false);var n=r.getUint8();var a=fn(r,e.hardwareType);return{sequenceNumber:n,status:a}};var xi=q;var ki=14;var Hi=8;var Wi=function(t){return t.getUint16()};var Vi=function(t){return Lt(t.getBytes(Hi))};var Gi=function(t){if(t.length>ki){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=e.getUint8();var n=Xa[r];var a=e.getUint8();var i;switch(r){case Sa:case ya:case Ia:case _a:case Na:case ba:case Oa:case La:case Da:case Pa:case xa:case Fa:case Ha:case Wa:i={time2000:Qr(e)};break;case Aa:i={voltage:Wi(e)};break;case Ca:i={time2000:Qr(e),deviceId:Vi(e)};break;case Ra:case Ba:i={channel:e.getUint8()+1,value:qr(e)};break;case za:i={status:fn(e,Wt)};break;case Va:case Ga:i={time2000:Qr(e),channel:tn(e)};break;case Ya:case ja:case qa:i={time2000:Qr(e),channel:tn(e),temperature:e.getInt8()};break;case ka:i={time2000:Qr(e),status:fn(e,Qt)};break;default:throw new Error("Event ".concat(r," is not supported"))}return{id:r,name:n,sequenceNumber:a,data:i}};var Yi=z;var ji=2;var qi=function(t){if(t.length!==ji){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r={id:e.getUint8(),status:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var Qi=P;var Xi=1;var Ki=function(t){if(t.length!==Xi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r={status:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var Ji=J;var Zi=0;var $i=function(t){if(t.length!==Zi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var ts=j;var es=65535;var rs=255;var ns=function(t){var e=new R(t,false);var r={type:e.getUint8(),version:e.getUint8()};var n={type:e.getUint8(),version:e.getUint8()};var a;switch(n.type){case Dt:case Pt:case zt:case xt:case kt:case Ht:case Vt:case Gt:case Yt:case qt:case Jt:case Qt:{var i={batteryVoltage:Xr(e),batteryInternalResistance:e.getUint16(),temperature:e.getUint8(),remainingBatteryCapacity:e.getUint8(),lastEventSequenceNumber:e.getUint8()};if(i.batteryInternalResistance===es){i.batteryInternalResistance=undefined}if(i.remainingBatteryCapacity===rs){i.remainingBatteryCapacity=undefined}else if(i.remainingBatteryCapacity!==undefined){i.remainingBatteryCapacity=Ct(i.remainingBatteryCapacity*100/(rs-1),1)}if(!e.isEmpty){i.downlinkQuality=e.getUint8()}a=i}break;case Wt:case Xt:case Kt:a={time2000:e.getUint32(),resetReason:e.getUint8(),rssiLastDownlinkFrame:e.getUint8(),snrLastDownlinkFrame:e.getUint8(),downlinkRequestsNumber:e.getUint8(),downlinkFragmentsNumber:e.getUint8(),uplinkResponsesNumber:e.getUint8(),uplinkFragmentsNumber:e.getUint8(),signalMarginToGateway:e.getUint8(),signalMarginFromGateway:e.getUint8(),detectedGatewaysNumber:e.getUint8(),gatewayDownlinkErrorRate:e.getUint8(),lastEventSequenceNumber:e.getUint8()};break;case jt:default:throw new Error("".concat(ts,": hardware type ").concat(n.type," is not supported"))}return{software:r,hardware:n,data:a}};var as=V;var is=5;var ss=function(t){if(t.length!==is){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r={sequenceNumber:e.getUint8(),time2000:Qr(e)};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var os=dt;var us=0;var vs=function(t){if(t.length!==us){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var fs=gt;var cs=function(t){var e=new R(t,false);return{voltage:Xr(e),internalResistance:e.getUint16(),lastDepassivationTime:e.getUint16()}};var gs=st;var hs=function(t){var e=new R(t,false);var r=e.getUint8();return{length:r,data:t.slice(1)}};var ls=lt;var ds=1;var Us=function(t){if(t.length!==ds){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return{status:e.getUint8()}};var Es=ht;var ps=function(t){var e=new R(t,false);return{offset:e.getUint32(),status:e.getUint8()}};var ms=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var r=e;t.forEach(function(t){r^=t});return r};var ws=3;var Ts=function(t,e){return function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1?arguments[1]:undefined;var a=[];var s={commands:a,bytes:r,lrc:{received:undefined,calculated:0}};var o=0;var u;var v;if(!r.length){return s}do{var f=D(r.slice(o,o+ws));var c=r.slice(o,o+f.headerSize);var g=r.slice(o+f.headerSize,o+f.headerSize+f.commandSize);var h={id:f.commandId,name:e[f.commandId],headerSize:f.headerSize,bytes:[].concat(i(c),i(g))};o=o+f.headerSize+f.commandSize;if(n){h.config=n}try{if(!t[f.commandId]){throw new Error("Unsupported command id: ".concat(f.commandId,"!"))}h.parameters=t[f.commandId](g,n);a.push(h)}catch(t){a.push({command:h,error:t.message})}}while(o<r.length-1);if(r.length-o===1){u=r[r.length-1];v=ms(r.slice(0,-1))}else{v=ms(r)}s.lrc.calculated=v;s.lrc.received=u;if(u===v){return s}return{message:s,error:"Mismatch LRC."}}};var Ss={};var ys=yt;var Is=Ts(Ss,ys);Ss[It]=At;Ss[Sn]=In;Ss[_n]=Nn;Ss[na]=aa;Ss[ia]=sa;Ss[oa]=va;Ss[fa]=ca;Ss[ga]=la;Ss[da]=Ea;Ss[pa]=ma;Ss[wa]=Ta;Ss[Ka]=Za;Ss[$a]=ti;Ss[ei]=ni;Ss[ai]=si;Ss[oi]=ui;Ss[fi]=hi;Ss[li]=di;Ss[Ui]=Ei;Ss[pi]=mi;Ss[wi]=yi;Ss[Ii]=_i;Ss[Oi]=Li;Ss[Mi]=Ri;Ss[Bi]=Di;Ss[Pi]=zi;Ss[xi]=Gi;Ss[Yi]=qi;Ss[Qi]=Ki;Ss[Ai]=bi;Ss[Ji]=$i;Ss[ts]=ns;Ss[as]=ss;Ss[os]=vs;Ss[fs]=cs;Ss[gs]=hs;Ss[ls]=Us;Ss[Es]=ps;getBytesFromHex=Mt;fromBytes=Is})();
//#endregion


/*
  Incoming arguments:
    * payload - array of bytes
    * metadata - key/value object
*/

var message = fromBytes(payload, config);

// there may be a message.error (e.g. mismatched LRC)
// in that case message.message will contain everything parsed successfully
// it should be used with caution

var result = {
    // required property, set to real device name from payload/metadata depending on integration
    // empty value throw an error in converter
    deviceName: '',

    deviceType: 'Water Meter',
    attributes: {
        model: 'Device Model',
        serialNumber: 'SN111',
        manufacturer: 'Device Manufacturer'
    },
    telemetry: {
        // telemetry display only primitive, i.e. string and numbers
        // for example only!
        message: JSON.stringify(message.message || message)
    },
    metadata: metadata
};

return result;
