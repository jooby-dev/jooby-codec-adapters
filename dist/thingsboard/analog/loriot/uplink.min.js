// IMPORTANT!!!
// This example only for default uplink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// these options can be edited
// available hardware types can be found here:
// https://github.com/jooby-dev/jooby-docs/blob/main/docs/analog/basics.md#hardware-types
var config = {
    // required field
    hardwareType: 0
};


//#region [autogenerated jooby-codec bundle from index.js]
var fromBytes,getBytesFromHex;(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function e(e){if(Array.isArray(e))return t(e)}function r(t,e,r){return(e=o(e))in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function n(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t){return e(t)||n(t)||v(t)||a()}function s(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function o(t){var e=s(t,"string");return"symbol"==typeof e?e:e+""}function v(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}var u={separator:" ",prefix:""};var f=1;var c=2;var l=3;var g=4;var h=Math.log,d=Math.pow,U=Math.LN2;var p=function(t,e,r,n,a){var i,s,o=a*8-n-1,v=(1<<o)-1,u=v>>1,f=-7,c=r?a-1:0,l=r?-1:1,g=t[e+c];c+=l;i=g&(1<<-f)-1;g>>=-f;f+=o;for(;f>0;i=i*256+t[e+c],c+=l,f-=8);s=i&(1<<-f)-1;i>>=-f;f+=n;for(;f>0;s=s*256+t[e+c],c+=l,f-=8);if(i===0){i=1-u}else if(i===v){return s?NaN:g?-Infinity:Infinity}else{s=s+d(2,n);i=i-u}return(g?-1:1)*s*d(2,i-n)};var E=function(t,e,r,n,a,i){var s,o,v,u=i*8-a-1,f=(1<<u)-1,c=f>>1,l=a===23?d(2,-24)-d(2,-77):0,g=n?0:i-1,p=n?1:-1,E=r<0||r===0&&1/r<0?1:0;r<0&&(r=-r);if(r!==r||r===Infinity){o=r!==r?1:0;s=f}else{s=h(r)/U|0;if(r*(v=d(2,-s))<1){s--;v*=2}if(s+c>=1){r+=l/v}else{r+=l*d(2,1-c)}if(r*v>=2){s++;v/=2}if(s+c>=f){o=0;s=f}else if(s+c>=1){o=(r*v-1)*d(2,a);s=s+c}else{o=r*d(2,c-1)*d(2,a);s=0}}for(;a>=8;t[e+g]=o&255,g+=p,o/=256,a-=8);s=s<<a|o;u+=a;for(;u>0;t[e+g]=s&255,g+=p,s/=256,u-=8);t[e+g-p]|=E*128};var m=[1,0];var w=[2,1,0];var T=[3,2,1,0];var S=[0,1];var y=[0,1,2];var I=[0,1,2,3];var _=function(t,e){return t[e]};var A=function(t,e,r){var n=r?S:m;var a=t[e+n[0]];var i=t[e+n[1]]<<8;return a|i};var N=function(t,e,r){var n=r?y:w;var a=t[e+n[0]];var i=t[e+n[1]]<<8;var s=t[e+n[2]]<<16;return a|i|s};var M=function(t,e,r){var n=r?I:T;var a=t[e+n[3]]*16777216;var i=t[e+n[2]]*65536;var s=t[e+n[1]]*256;var o=t[e+n[0]];return a+i+s+o};var O=function(t,e,r){t[e]=r&255};var L=function(t,e,r,n){var a=n?S:m;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255};var b=function(t,e,r,n){var a=n?y:w;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255;t[e+a[2]]=r>>>16&255};var C=function(t,e,r,n){var a=n?I:T;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255;t[e+a[2]]=r>>>16&255;t[e+a[3]]=r>>>24&255};function R(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var r=new Array(t).fill(0);this.data=r}else{this.data=t}this.offset=0;this.isLittleEndian=e}R.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){O(this.data,this.offset,t<0?t|256:t);this.offset+=f},getInt8:function(){var t=_(this.data,this.offset);this.offset+=f;return t&128?t^-256:t},setUint8:function(t){O(this.data,this.offset,t);this.offset+=f},getUint8:function(){var t=_(this.data,this.offset);this.offset+=f;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t<0?t|65536:t,e);this.offset+=c},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=A(this.data,this.offset,t);this.offset+=c;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t,e);this.offset+=c},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=A(this.data,this.offset,t);this.offset+=c;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;b(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=l},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=N(this.data,this.offset,t);this.offset+=l;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;b(this.data,this.offset,t,e);this.offset+=l},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=N(this.data,this.offset,t);this.offset+=l;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;C(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=g},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=M(this.data,this.offset,t);this.offset+=g;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;C(this.data,this.offset,t,e);this.offset+=g},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=M(this.data,this.offset,t);this.offset+=g;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;E(this.data,this.offset,t,e,23,4);this.offset+=g},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=p(this.data,this.offset,t,23,4);this.offset+=g;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var r=[];while(this.offset<e){r.push(String.fromCharCode(this.getUint8()))}return r.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var r=this.data;r.splice.apply(r,[e,t.length].concat(i(t)));this.data=r;this.offset=e+t.length}};Object.defineProperties(R.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var B=224;var x=31;var D=function(t){if(t.length===0){throw new Error("Invalid buffer size")}var e={shortCode:t[0]&B,extraCode:t[0]&x};if(e.shortCode!==0){return{headerSize:1,commandId:t[0]&~e.extraCode,commandSize:e.extraCode}}if(e.extraCode===x){if(t.length<3){throw new Error("Invalid buffer size")}return{headerSize:3,commandId:t[1]<<8|x,commandSize:t[2]}}if(t.length<2){throw new Error("Invalid buffer size")}return{headerSize:2,commandId:e.extraCode,commandSize:t[1]}};var P=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=Object.assign({},u,e),n=r.separator,a=r.prefix;return t.map(function(t){return"".concat(a).concat(t.toString(16).padStart(2,"0"))}).join(n)};var F=function(t,e,r){if(!t){throw new Error("Command name is required.")}if(e&&!Array.isArray(e)){throw new Error("Invalid payload for ".concat(t,". Expected array, got: ").concat(typeof e,"."))}if(r.min>0&&e.length<r.min||r.max>0&&e.length>r.max){var n=P(e,{separator:""});var a=r.min===r.max?"".concat(r.max):JSON.stringify(r);throw new Error("Wrong buffer size for ".concat(t,": ").concat(e.length,". Expected: ").concat(a,". Payload: 0x").concat(n,"."))}};var k=function(t,e,r){return F(t,e,{min:r,max:r})};var z=2;var H=3;var V=4;var G=5;var W=6;var Y=7;var j=9;var q=11;var Q=12;var X=20;var K=21;var J=22;var Z=23;var $=24;var tt=25;var et=26;var rt=27;var nt=30;var at=32;var it=64;var st=96;var ot=543;var vt=1311;var ut=1823;var ft=2591;var ct=2847;var lt=3103;var gt=3359;var ht=3871;var dt=5151;var Ut=10783;var pt=11039;var Et=11295;var mt=12319;var wt=12575;var Tt=12831;var St=13087;var yt=13343;var It=Object.freeze({__proto__:null,correctTime2000:Q,current:Y,currentMc:$,dataSegment:nt,day:at,dayMc:J,exAbsCurrentMc:ht,exAbsDayMc:ct,exAbsHourMc:ft,getArchiveDays:W,getArchiveDaysMc:rt,getArchiveEvents:q,getArchiveHours:G,getArchiveHoursMc:et,getArchiveHoursMcEx:mt,getBatteryStatus:vt,getChannelsStatus:Tt,getChannelsTypes:St,getExAbsArchiveDaysMc:gt,getExAbsArchiveHoursMc:lt,getLmicInfo:ot,getParameter:V,hour:it,hourMc:Z,hourMcEx:wt,lastEvent:st,newEvent:K,setParameter:H,setTime2000:z,signalQuality:yt,softRestart:tt,status:X,time2000:j,updateRun:Et,usWaterMeterBatteryStatus:dt,usWaterMeterCommand:ut,verifyImage:pt,writeImage:Ut});var _t=function(t){var e={};for(var r in t){var n=t[r];e[n]=r}return e};var At=_t(It);var Nt=Q;var Mt=At[Q];var Ot=1;var Lt=function(t){k(Mt,t,Ot);var e=new R(t,false);var r={status:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var bt=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=0;for(var n in e){if(n in t&&e[n]){r|=t[n]}}return r};var Ct=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r={};for(var n in t){r[n]=(e&t[n])!==0}return r};var Rt=function(t,e,r){return(1<<e)-1&t>>r-1};var Bt=function(t){var e=t.trim();if(!e){return[]}e=e.replace(/0x/g,"").split(/\s+/).map(function(t){return t.padStart(2,"0")}).join("");if(e.length%2!==0){e="0".concat(e)}var r=e.length/2;var n=new Array(r);for(var a=0;a<r;a++){n[a]=parseInt(e.substring(a*2,a*2+2),16)}return n};var xt=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;var r=Math.pow(10,e);return Math.round(t*r*(1+Number.EPSILON))/r};var Dt=9466848e5;var Pt=1e3;var Ft=function(t){return(t.getTime()-Dt)/Pt};var kt=1;var zt=2;var Ht=3;var Vt=4;var Gt=5;var Wt=6;var Yt=7;var jt=8;var qt=9;var Qt=10;var Xt=11;var Kt=12;var Jt=13;var Zt=14;var $t=21;var te=24;var ee=1;var re=4;var ne=5;var ae=8;var ie=9;var se=10;var oe=11;var ve=13;var ue=14;var fe=15;var ce=18;var le=23;var ge=24;var he=25;var de=26;var Ue=28;var pe=29;var Ee=30;var me=31;var we=32;var Te=33;var Se=34;var ye=35;var Ie=36;var _e=37;var Ae=38;var Ne=39;var Me=40;var Oe=41;var Le=42;var be=43;var Ce=44;var Re=45;var Be=46;var xe=47;var De=48;var Pe=49;var Fe=50;var ke=51;var ze=52;var He=53;var Ve=54;var Ge=55;var We=56;var Ye=57;var je=58;var qe=59;var Qe=60;var Xe=61;var Ke=64;var Je=Object.freeze({__proto__:null,ABSOLUTE_DATA:le,ABSOLUTE_DATA_ENABLE:ge,ABSOLUTE_DATA_ENABLE_MULTI_CHANNEL:Ee,ABSOLUTE_DATA_MULTI_CHANNEL:pe,ACTIVATE_MODULE:Xe,ACTIVATION_METHOD:ie,BATTERY_DEPASSIVATION_CONFIG:Te,BATTERY_DEPASSIVATION_INFO:se,BATTERY_MINIMAL_LOAD_TIME:oe,CHANNELS_CONFIG:ve,CHANNEL_TYPE:We,DAY_CHECKOUT_HOUR:re,EVENTS_CONFIG:Fe,EXTRA_FRAME_INTERVAL:Ue,EXTRA_PAYLOAD_ENABLE:Ye,GEOLOCATION:de,KEEP_LORA_CONNECTION_ON_REMOVAL:qe,MQTT_BROKER_ADDRESS:ye,MQTT_DATA_RECEIVE_CONFIG:Ae,MQTT_DATA_SEND_CONFIG:Ne,MQTT_SESSION_CONFIG:Se,MQTT_SSL_ENABLE:Ie,MQTT_TOPIC_PREFIX:_e,MTX_DATA_TRANSMISSION_SCHEDULE:ue,MTX_GET_CURRENT_DEMAND_SCHEDULE_CONFIG:Ke,MTX_POWER_CONFIG:fe,NBIOT_APN:He,NBIOT_BANDS:ze,NBIOT_DEVICE_SOFTWARE_UPDATE:xe,NBIOT_LED_INDICATION:Ve,NBIOT_MODULE_FIRMWARE_UPDATE:De,NBIOT_MODULE_INFO:ke,NBIOT_NTP_SERVER:Qe,NBIOT_SIM:Ge,NBIOT_SSL_CACERT_SET:Le,NBIOT_SSL_CACERT_WRITE:Oe,NBIOT_SSL_CLIENT_CERT_SET:Ce,NBIOT_SSL_CLIENT_CERT_WRITE:be,NBIOT_SSL_CLIENT_KEY_SET:Be,NBIOT_SSL_CLIENT_KEY_WRITE:Re,NBIOT_SSL_CONFIG:Me,PRIORITY_DATA_DELIVERY_TYPE:ae,PULSE_CHANNELS_SCAN_CONFIG:me,PULSE_CHANNELS_SET_CONFIG:we,REPORTING_DATA_CONFIG:Pe,REPORTING_DATA_INTERVAL:ee,REPORTING_DATA_TYPE:ne,RX2_CONFIG:ce,SERIAL_NUMBER:he,TIME_SYNCHRONIZATION_PERIOD_VIA_MAC:je});var Ze=_t(Je);var $e=4294967295;var tr=0;var er=1;var rr=2;var nr=3;var ar=4;var ir=5;var sr=Object.freeze({__proto__:null,BINARY_SENSOR:nr,BINARY_SENSOR_CONFIGURABLE:ir,IDLE:tr,POWER_CHANNEL:rr,PULSE_SENSOR:er,TEMPERATURE_SENSOR:ar});var or=0;var vr=1;var ur=2;var fr=3;var cr=4;var lr=5;var gr=6;var hr=Object.freeze({__proto__:null,SF10B125:ur,SF11B125:vr,SF12B125:or,SF7B125:lr,SF7B250:gr,SF8B125:cr,SF9B125:fr});var dr=_t(hr);var Ur,pr;var Er=2e3;var mr=4;var wr=5;var Tr=1;var Sr=4095;var yr=128;var Ir=7;var _r=600;var Ar=100;var Nr=6;var Mr=8;var Or=[zt,Ht,kt,Kt,te];var Lr=[jt,Gt,qt,Vt];var br=[Xt];var Cr=[Wt,Qt];var Rr=[Yt,Zt,$t];var Br={isBatteryLow:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isButtonReleased:Math.pow(2,2),isConnectionLost:Math.pow(2,3)};var xr={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5)};var Dr={isConnectionLost:Math.pow(2,3)};var Pr={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5),isThirdChannelInactive:Math.pow(2,6),isForthChannelInactive:Math.pow(2,8)};var Fr={isMeterCaseOpen:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isParametersSetRemotely:Math.pow(2,2),isParametersSetLocally:Math.pow(2,3),isMeterProgramRestarted:Math.pow(2,4),isLockedOut:Math.pow(2,5),isTimeSet:Math.pow(2,6),isTimeCorrected:Math.pow(2,7),isMeterFailure:Math.pow(2,8),isMeterTerminalBoxOpen:Math.pow(2,9),isModuleCompartmentOpen:Math.pow(2,10),isTariffPlanChanged:Math.pow(2,11),isNewTariffPlanReceived:Math.pow(2,12),isElectromagneticInfluenceReset:Math.pow(2,13),isMagneticInfluenceReset:Math.pow(2,14)};var kr={transportMode:1,frequencyOutput:2,reverseFlow:4,tamperBreak:8,leakage:16,pipeBreak:32,pipeEmpty:64,batteryDischarge:128};Ur={},r(r(r(r(r(r(r(r(r(r(Ur,ee,1+4),re,1+1),ne,1+1),ae,1+1),ie,1+1),se,1+6),oe,1+4),ve,1+1),ue,1+20),fe,1+1),r(r(r(r(r(r(r(r(r(r(Ur,ce,1+4),le,1+9),ge,1+1),he,1+6),de,1+10),Ue,1+2),pe,1+10),Ee,1+2),me,1+3),we,1+1),r(r(r(r(r(r(r(r(r(r(Ur,Te,1+4),Ie,1+1),Ae,1+3),Ne,1+3),Me,1+2),Le,1+4),Ce,1+4),Be,1+4),Pe,1+4),Fe,1+3),r(r(r(r(r(r(Ur,Ve,1+2),Ge,1+3),Ye,1+1),je,1+4),qe,1+1),Xe,1+1);var zr={channel1:Math.pow(2,0),channel2:Math.pow(2,1),channel3:Math.pow(2,2),channel4:Math.pow(2,3)};var Hr=function(t){var e=Ct(zr,t);return{channel1:e.channel1,channel2:e.channel2,channel3:e.channel3,channel4:e.channel4}};var Vr=function(t){var e=t.channel1,r=t.channel2,n=t.channel3,a=t.channel4;return bt(zr,{channel1:e,channel2:r,channel3:n,channel4:a})};var Gr=function(t){return Hr(t.getUint8())};var Wr=function(t,e){return t.setUint8(Vr(e))};var Yr={128:1,129:5,130:10,131:100,132:1e3,133:1e4,134:1e5};var jr=_t(Yr);var qr=function(t){return!!(t&128)};var Qr=function(t){return{size:t.getUint16(),position:t.getUint16(),chunk:t.getBytesLeft()}};var Xr=function(t,e){if(e.size!==e.chunk.length){throw new Error("ssl chunk size parameter doesn't match actual ssl chunk size")}t.setUint16(e.size);t.setUint16(e.position);t.setBytes(e.chunk)};var Kr=function(t){return{crc32:t.getUint32()}};var Jr=function(t,e){t.setUint32(e.crc32)};var Zr=(pr={},r(r(r(r(r(r(r(r(r(r(pr,ee,{get:function(t){return{specialSchedulePeriod:t.getUint8()*_r,firstDaysSpecialSchedule:t.getUint8(),lastDaysSpecialSchedule:t.getUint8(),period:t.getUint8()*_r}},set:function(t,e){t.setUint8(e.specialSchedulePeriod/_r);t.setUint8(e.firstDaysSpecialSchedule);t.setUint8(e.lastDaysSpecialSchedule);t.setUint8(e.period/_r)}}),re,{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}}),ne,{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}}),ae,{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}}),ie,{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}}),se,{get:function(t){return{loadTime:t.getUint16(),internalResistance:t.getUint16(),lowVoltage:t.getUint16()}},set:function(t,e){t.setUint16(e.loadTime);t.setUint16(e.internalResistance);t.setUint16(e.lowVoltage)}}),oe,{get:function(t){return{value:t.getUint32()}},set:function(t,e){t.setUint32(e.value)}}),ve,{get:function(t){return{value:t.getUint8()}},set:function(t,e){if(e.value<0||e.value>18){throw new Error("channels config must be between 0-18")}t.setUint8(e.value)}}),ue,{get:function(t){var e=[];for(var r=0;r<4;r++){var n=t.getUint8();var a=t.getUint8()*_r;var i=t.getUint24(true);var s={};for(var o=0;o<24;o++){s[o]=i&1<<o?1:0}e.push({dataType:n,transmissionPeriod:a,allowedHoursSchedule:s})}return{schedules:e}},set:function(t,e){for(var r of e.schedules){t.setUint8(r.dataType);t.setUint8(r.transmissionPeriod/_r);var n=0;for(var a=0;a<24;a++){if(r.allowedHoursSchedule[a]){n|=1<<a}}t.setUint24(n,true)}}}),fe,{get:function(t){var e=t.getUint8();return{active:!!(e&1),vari:!!(e&2),vare:!!(e&4),activeExp:!!(e&8),variExp:!!(e&16),vareExp:!!(e&32)}},set:function(t,e){var r=0;r|=e.active?1:0;r|=e.vari?2:0;r|=e.vare?4:0;r|=e.activeExp?8:0;r|=e.variExp?16:0;r|=e.vareExp?32:0;t.setUint8(r)}}),r(r(r(r(r(r(r(r(r(r(pr,ce,{get:function(t){var e=t.getUint8();var r=dr[e];var n=t.getUint24()*Ar;return{spreadFactor:e,spreadFactorName:r,frequency:n}},set:function(t,e){t.setUint8(e.spreadFactor);t.setUint24(e.frequency/Ar)}}),le,{get:function(t){return{meterValue:t.getUint32(),pulseCoefficient:gn(t),value:t.getUint32()}},set:function(t,e){t.setUint32(e.meterValue);hn(t,e.pulseCoefficient);t.setUint32(e.value)}}),ge,{get:function(t){return{state:t.getUint8()}},set:function(t,e){t.setUint8(e.state)}}),he,{get:function(t){return{value:P(t.getBytes(Nr))}},set:function(t,e){Bt(e.value).forEach(function(e){return t.setUint8(e)})}}),de,{get:function(t){return{latitude:xt(t.getFloat32()),longitude:xt(t.getFloat32()),altitude:xt(t.getUint16())}},set:function(t,e){t.setFloat32(xt(e.latitude));t.setFloat32(xt(e.longitude));t.setUint16(xt(e.altitude))}}),Ue,{get:function(t){return{value:t.getUint16()}},set:function(t,e){t.setUint16(e.value)}}),pe,{get:function(t){return{channel:vn(t),meterValue:t.getUint32(),pulseCoefficient:gn(t),value:t.getUint32()}},set:function(t,e){un(t,e.channel);t.setUint32(e.meterValue);hn(t,e.pulseCoefficient);t.setUint32(e.value)}}),Ee,{get:function(t){return{channel:vn(t),state:t.getUint8()}},set:function(t,e){un(t,e.channel);t.setUint8(e.state)}}),me,{get:function(t){return{channelList:sn(t),pullUpTime:t.getUint8(),scanTime:t.getUint8()}},set:function(t,e){if(e.pullUpTime<17){throw new Error("minimal value for pullUpTime - 17")}if(e.scanTime<15){throw new Error("minimal value for scanTime - 15")}on(t,e.channelList.map(function(t){return{index:t}}));t.setUint8(e.pullUpTime);t.setUint8(e.scanTime)}}),we,{get:Gr,set:Wr}),r(r(r(r(r(r(r(r(r(r(pr,Te,{get:function(t){return{resistanceStartThreshold:t.getUint16(),resistanceStopThreshold:t.getUint16()}},set:function(t,e){t.setUint16(e.resistanceStartThreshold);t.setUint16(e.resistanceStopThreshold)}}),Se,{get:function(t){return{clientId:t.getString(),username:t.getString(),password:t.getString(),cleanSession:t.getUint8()}},set:function(t,e){t.setString(e.clientId);t.setString(e.username);t.setString(e.password);t.setUint8(e.cleanSession)}}),ye,{get:function(t){return{hostName:t.getString(),port:t.getUint16()}},set:function(t,e){t.setString(e.hostName);t.setUint16(e.port)}}),Ie,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}),_e,{get:function(t){return{topicPrefix:t.getString()}},set:function(t,e){t.setString(e.topicPrefix)}}),Ae,{get:function(t){return{qos:t.getUint8(),count:t.getUint8(),timeout:t.getUint8()}},set:function(t,e){t.setUint8(e.qos);t.setUint8(e.count);t.setUint8(e.timeout)}}),Ne,{get:function(t){return{qos:t.getUint8(),retain:t.getUint8(),newestSendFirst:t.getUint8()}},set:function(t,e){t.setUint8(e.qos);t.setUint8(e.retain);t.setUint8(e.newestSendFirst)}}),Me,{get:function(t){return{securityLevel:t.getUint8(),version:t.getUint8()}},set:function(t,e){t.setUint8(e.securityLevel);t.setUint8(e.version)}}),Oe,{get:Qr,set:Xr}),Le,{get:Kr,set:Jr}),r(r(r(r(r(r(r(r(r(r(pr,be,{get:Qr,set:Xr}),Ce,{get:Kr,set:Jr}),Re,{get:Qr,set:Xr}),Be,{get:Kr,set:Jr}),xe,{get:function(t){return{softwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.softwareImageUrl)}}),De,{get:function(t){return{moduleFirmwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.moduleFirmwareImageUrl)}}),Pe,{get:function(t){return{dataType:t.getUint8(),hour:t.getUint8(),minutes:t.getUint8(),countToSend:t.getUint8()}},set:function(t,e){t.setUint8(e.dataType);t.setUint8(e.hour);t.setUint8(e.minutes);t.setUint8(e.countToSend)}}),Fe,{get:function(t){return{eventId:t.getUint8(),sendEvent:t.getUint8(),saveEvent:t.getUint8()}},set:function(t,e){t.setUint8(e.eventId);t.setUint8(e.sendEvent);t.setUint8(e.saveEvent)}}),ke,{get:function(t){return{moduleInfo:t.getString()}},set:function(t,e){t.setString(e.moduleInfo)}}),ze,{get:function(t){var e=t.getUint8();var r=[];for(var n=0;n<e;n++){r.push(t.getUint8())}return{bands:r}},set:function(t,e){t.setUint8(e.bands.length);for(var r of e.bands){t.setUint8(r)}}}),r(r(r(r(r(r(r(r(r(r(pr,He,{get:function(t){return{apn:t.getString()}},set:function(t,e){t.setString(e.apn)}}),Ve,{get:function(t){return{enableLed:t.getUint8(),enableNbiotNetworkLed:t.getUint8()}},set:function(t,e){t.setUint8(e.enableLed);t.setUint8(e.enableNbiotNetworkLed)}}),Ge,{get:function(t){return{enable:t.getUint8(),pin:t.getUint16()}},set:function(t,e){t.setUint8(e.enable);t.setUint16(e.pin)}}),We,{get:function(t){return On(t)},set:function(t,e){return Ln(t,e)}}),Ye,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}),je,{get:function(t){return{period:t.getUint32()}},set:function(t,e){t.setUint32(e.period)}}),qe,{get:function(t){return{value:t.getUint8()!==0}},set:function(t,e){t.setUint8(e.value?1:0)}}),Qe,{get:function(t){return{server:t.getString(),port:t.getUint16()}},set:function(t,e){t.setString(e.server);t.setUint16(e.port)}}),Xe,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}),Ke,{get:function(t){var e=[];while(t.bytesLeft>0){var r=t.getUint8();var n=t.getUint8()*_r;var a=t.getUint8();var i=t.getUint8();var s=t.getUint8();e.push({id:r,transmissionPeriod:n,demandType0:a,demandType1:i,demandType2:s})}return{schedules:e}},set:function(t,e){for(var r of e.schedules){t.setUint8(r.id);t.setUint8(r.transmissionPeriod/_r);t.setUint8(r.demandType0);t.setUint8(r.demandType1);t.setUint8(r.demandType2)}}}));var $r=function(t){return!!Rt(t,1,Mr)};var tn=function(t){var e=0;var r=true;var n=0;while(r&&t.offset<=t.data.length){var a=t.getUint8();r=!!(a&yr);e+=(a&127)<<7*n>>>0;++n}return e};var en=function(t){return t.getUint32()};var rn=function(t){var e=t.getUint8();var r=t.getUint8();var n=t.getUint8();var a=e<<4;a|=(r&240)>>4;var i=(r&15)<<8|n;if(i===Sr){i=undefined}if(a===Sr){a=undefined}return{underLowLoad:a,underHighLoad:i}};var nn=function(t){return t.getUint24()};var an=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t.getUint8();var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=nn(t);return{isMagneticInfluence:$r(e),value:r&&n===$e?0:n}};var sn=function(t){var e=[];var r=true;var n=1;while(r){var a=t.getUint8();var i=a.toString(2).padStart(Ir+1,"0").split("").reverse();i.forEach(function(t,a){var i=Number(t);if(a===Ir){r=!!i}else{if(i){e.push(n)}++n}})}return e};var on=function(t,e){if(e.length===0){t.setUint8(0);return}e.sort(function(t,e){return t.index-e.index});var r=Math.max.apply(Math,i(e.map(function(t){var e=t.index;return e})));var n=(r-r%8)/8;var a=new Array(n+1).fill(0);var s=0;a.forEach(function(t,r){var n=r*Ir+1;var i=n+Ir;while(n<i){var o=e.find(function(t){return t.index===n});if(o!==undefined){s|=1<<(o.index-1)%Ir}++n}if(a[r+1]!==undefined){s|=1<<Ir}a[r]=s;s=0});a.forEach(function(e){return t.setUint8(e)})};var vn=function(t){return t.getUint8()+1};var un=function(t,e){if(e<1){throw new Error("channel must be 1 or greater")}t.setUint8(e-1)};var fn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=ln(t);var n=cn(t),a=n.hour,i=n.hours;var s=sn(t);var o=[];r.setUTCHours(a);s.forEach(function(r){var n=[];var a=tn(t);for(var s=1;s<i;++s){n.push(tn(t))}o.push({value:e&&a===$e?0:a,diff:n,index:r})});return{startTime2000:Ft(r),hours:i,channelList:o}};var cn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t.getUint8();if(e===0){return{hours:0,hour:0}}var r=((e&224)>>5)+1;var n=e&31;return{hours:r,hour:n}};var ln=function(t){var e=t.getUint8();var r=t.getUint8();var n=e>>Tr;var a=(e&1)<<mr-Tr|r>>wr;var i=r&31;return new Date(Date.UTC(n+Er,a-1,i,0,0,0,0))};var gn=function(t){var e=t.getUint8();if(qr(e)){var r=Yr[e];if(r){return r}throw new Error("pulseCoefficient MSB is set, but value unknown")}return e};var hn=function(t,e){if(e in jr){var r=jr[e];if(r){t.setUint8(r)}else{throw new Error("pulseCoefficient MSB is set, but value unknown")}}else{t.setUint8(e)}};var dn=function(t){var e=sn(t);var r=[];e.forEach(function(e){r.push({pulseCoefficient:gn(t),value:tn(t),index:e})});return r};var Un=function(t,e){var r=sn(t);var n=[];r.forEach(function(r){var a=gn(t);var i=tn(t);var s=[];for(var o=1;o<e;++o){s.push(tn(t))}n.push({diff:s,value:i,pulseCoefficient:a,index:r})});return n};var pn=function(t,e){var r;if(Or.indexOf(e)!==-1){r=Ct(Br,t.getUint8())}else if(Lr.indexOf(e)!==-1){r=Ct(xr,t.getUint8())}else if(br.indexOf(e)!==-1){r=Ct(Dr,t.getUint8())}else if(Cr.indexOf(e)!==-1){r=Ct(Pr,t.getUint16(true))}else if(Rr.indexOf(e)!==-1){r=Ct(Fr,t.getUint16(true))}else if(e===Jt){var n=Ct(kr,t.getUint8());r={event:n,error:t.getUint8()}}else{throw new Error("wrong hardwareType")}return r};var En=function(t){var e=t.getUint8();var r=Ze[e];var n;if(!Zr[e]||!Zr[e].get){throw new Error("parameter ".concat(e," is not supported"))}switch(e){case Se:case Oe:case be:case Re:case Le:case Ce:case Be:case xe:case De:n=null;break;default:n=Zr[e].get(t)}return{id:e,name:r,data:n}};var mn=function(t){var e=t.getUint8();var r=t.getUint8();return{isMagneticInfluence:$r(e),value:(e&31)<<8|r}};var wn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=ln(t);var n=t.getUint8();var a=cn(t,n),i=a.hour;var s=nn(t);var o={isMagneticInfluence:$r(n),value:e&&s===$e?0:s};var v=[];while(t.offset<t.data.length){v.push(mn(t))}r.setUTCHours(i);return{startTime2000:Ft(r),counter:o,diff:v}};var Tn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=ln(t);var n=t.getUint8();var a=t.getUint8();var i=sn(t);var s=[];r.setUTCHours(n);i.forEach(function(r){var n=[];var i=tn(t);for(var o=0;o<a;++o){n.push(tn(t))}s.push({value:e&&i===$e?0:i,diff:n,index:r})});return{startTime2000:Ft(r),hour:n,hours:a,channelList:s}};var Sn=function(t){var e=t.getUint8();var r=t.getUint8();return{segmentationSessionId:e,segmentIndex:Rt(r,3,1),segmentsNumber:Rt(r,3,5),isLast:Boolean(Rt(r,1,8)),data:t.getBytesLeft()}};var yn=function(t){var e=t.getUint16();return{activeStateTimeMs:e}};var In=function(t,e){t.setUint16(e.activeStateTimeMs)};var _n=function(t){var e=t.getUint8();var r=t.getUint16();var n=t.getUint8();return{type:e,activeStateTimeMs:r,halState:n}};var An=function(t,e){t.setUint8(e.type);t.setUint16(e.activeStateTimeMs);t.setUint8(e.halState)};var Nn=function(t){var e=t.getUint16();var r=t.getUint8();var n=t.getInt8();var a=t.getInt8();return{measurementPeriod:e,hysteresisSec:r,highTemperatureThreshold:n,lowTemperatureThreshold:a}};var Mn=function(t,e){t.setUint16(e.measurementPeriod);t.setUint8(e.hysteresisSec);t.setInt8(e.highTemperatureThreshold);t.setInt8(e.lowTemperatureThreshold)};var On=function(t){var e=vn(t);var r=t.getUint8();var n={};switch(r){case nr:n=yn(t);break;case ar:n=Nn(t);break;case ir:n=_n(t);break}return{channel:e,type:r,parameters:n}};var Ln=function(t,e){var r=e.type,n=e.channel,a=e.parameters;un(t,n);t.setUint8(r);switch(r){case nr:In(t,a);break;case ar:Mn(t,a);break;case ir:An(t,a);break}};var bn=Y;var Cn=4;var Rn=function(t){if(t.length>Cn){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return an(e)};var Bn=$;var xn=37;var Dn=function(t){if(t.length>xn){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e={channelList:[]};var r=new R(t,false);var n=sn(r);e.channelList=n.map(function(t){return{value:tn(r),index:t}});return e};var Pn=2;var Fn=3;var kn=4;var zn=5;var Hn=6;var Vn=7;var Gn=9;var Wn=11;var Yn=12;var jn=20;var qn=24;var Qn=25;var Xn=26;var Kn=27;var Jn=30;var Zn=543;var $n=1311;var ta=1823;var ea=3103;var ra=3359;var na=3871;var aa=10783;var ia=11039;var sa=11295;var oa=12319;var va=12831;var ua=13087;var fa=13343;var ca=Object.freeze({__proto__:null,correctTime2000:Yn,dataSegment:Jn,getArchiveDays:Hn,getArchiveDaysMc:Kn,getArchiveEvents:Wn,getArchiveHours:zn,getArchiveHoursMc:Xn,getArchiveHoursMcEx:oa,getBatteryStatus:$n,getChannelsStatus:va,getChannelsTypes:ua,getCurrent:Vn,getCurrentMc:qn,getExAbsArchiveDaysMc:ra,getExAbsArchiveHoursMc:ea,getExAbsCurrentMc:na,getLmicInfo:Zn,getParameter:kn,getSignalQuality:fa,getStatus:jn,getTime2000:Gn,setParameter:Fn,setTime2000:Pn,softRestart:Qn,updateRun:sa,usWaterMeterCommand:ta,verifyImage:ia,writeImage:aa});_t(ca);var la=Jn;var ga=function(t){var e=new R(t,false);return Sn(e)};var ha=at;var da=function(t){var e=new R(t,false);var r=ln(e);var n=e.getUint8();var a=cn(e,n),i=a.hour;var s=$r(n);var o=nn(e);r.setUTCHours(i);return{value:o,isMagneticInfluence:s,startTime2000:Ft(r)}};var Ua=J;var pa=32;var Ea=function(t){if(t.length>pa){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=ln(e);var n=sn(e);var a=n.map(function(t){return{value:tn(e),index:t}});return{startTime2000:Ft(r),channelList:a}};var ma=ht;var wa=function(t){var e=new R(t,false);return{channelList:dn(e)}};var Ta=ct;var Sa=89;var ya=function(t){if(t.length>Sa){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=ln(e);var n=dn(e);return{startTime2000:Ft(r),channelList:n}};var Ia=ft;var _a=168;var Aa=function(t){if(t.length>_a){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=ln(e);var n=cn(e),a=n.hour,i=n.hours;var s=Un(e,i);r.setUTCHours(a);return{startTime2000:Ft(r),hours:i,channelList:s}};var Na=W;var Ma=function(t){var e=new R(t,false);var r=ln(e);var n=[];while(e.offset<e.data.length){n.push(an(e,undefined,true))}return{startTime2000:Ft(r),dayList:n}};var Oa=rt;var La=function(t){var e=new R(t,false);var r=ln(e);var n=sn(e);var a=e.getUint8();var i=[];n.forEach(function(t){var r=[];i.push({dayList:r,index:t});for(var n=0;n<a;++n){var s=tn(e);r.push(s===$e?0:s)}});return{startTime2000:Ft(r),days:a,channelList:i}};var ba=1;var Ca=2;var Ra=3;var Ba=4;var xa=5;var Da=6;var Pa=7;var Fa=8;var ka=9;var za=10;var Ha=11;var Va=12;var Ga=13;var Wa=14;var Ya=15;var ja=16;var qa=17;var Qa=18;var Xa=19;var Ka=20;var Ja=21;var Za=22;var $a=23;var ti=24;var ei=25;var ri=26;var ni=Object.freeze({__proto__:null,ACTIVATE:Ra,ACTIVATE_MTX:Ha,BATTERY_ALARM:xa,BINARY_SENSOR_OFF:$a,BINARY_SENSOR_ON:Za,CAN_OFF:Da,CONNECT:Va,COUNTER_OVER:ka,DEACTIVATE:Ba,DEPASS_DONE:Wa,DISCONNECT:Ga,INSERT:Pa,JOIN_ACCEPT:Qa,MAGNET_OFF:Ca,MAGNET_ON:ba,MTX:qa,OPTOFLASH:ja,OPTOLOW:Ya,OPTOSENSOR_ERROR:Ja,REMOVE:Fa,SET_TIME:za,TEMPERATURE_SENSOR_HIGH_TEMPERATURE:ri,TEMPERATURE_SENSOR_HYSTERESIS:ti,TEMPERATURE_SENSOR_LOW_TEMPERATURE:ei,WATER_EVENT:Xa,WATER_NO_RESPONSE:Ka});var ai=_t(ni);var ii=q;var si=function(t){var e=en(t);var r=t.getUint8();var n=t.getUint8();return{time2000:e,id:r,name:ai[r],sequenceNumber:n}};var oi=function(t){var e=new R(t,false);var r=[];while(e.bytesLeft>0){r.push(si(e))}return{eventList:r}};var vi=G;var ui=function(t){var e=new R(t,false);return wn(e,true)};var fi=et;var ci=164;var li=function(t){if(t.length>ci){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return fn(e,true)};var gi=mt;var hi=255;var di=function(t){if(t.length>hi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return Tn(e,true)};var Ui=vt;var pi=At[vt];var Ei=11;var mi=function(t){k(pi,t,Ei);var e=new R(t,false);return{voltageUnderLowLoad:e.getUint16(),voltageUnderHighLoad:e.getUint16(),internalResistance:e.getUint16(),temperature:e.getInt8(),remainingCapacity:e.getUint8(),isLastDayOverconsumption:e.getUint8()===1,averageDailyOverconsumptionCounter:e.getUint16()}};var wi=_t(sr);var Ti=Tt;var Si=function(t){return{state:t.getUint8()!==0}};var yi=function(t){return{temperature:t.getInt8(),time2000:en(t)}};var Ii=function(t){var e=new R(t,false);var r=[];while(e.bytesLeft!==0){var n=e.getUint8();var a={type:n,typeName:wi[n],channel:vn(e)};switch(a.type){case rr:case er:case tr:break;case nr:case ir:a.status=Si(e);break;case ar:a.status=yi(e);break;default:return r}r.push(a)}return r};var _i=St;var Ai=function(t){return{channels:t.map(function(t){return{type:t,typeName:wi[t]}})}};var Ni=gt;var Mi=function(t){var e=new R(t,false);var r=ln(e);var n=sn(e);var a=e.getUint8();var i=[];n.forEach(function(t){var r=[];var n=gn(e);i.push({pulseCoefficient:n,dayList:r,index:t});for(var s=0;s<a;++s){var o=tn(e);r.push(o===$e?0:o)}});return{channelList:i,days:a,startTime2000:Ft(r)}};var Oi=lt;var Li=function(t){var e=new R(t,false);return fn(e,true)};var bi=ot;var Ci=At[ot];var Ri=2;var Bi={isMulticastSupported:1<<0,isFragmentedDataSupported:1<<1};var xi=function(t){k(Ci,t,Ri);var e=new R(t);var r=Ct(Bi,e.getUint8());var n=e.getUint8();if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return{capabilities:r,version:n}};var Di=V;var Pi=function(t){var e=new R(t,false);return En(e)};var Fi=yt;var ki=At[yt];var zi=6;var Hi=function(t){k(ki,t,zi);var e=new R(t,false);var r={rssi:e.getInt8(),rsrp:e.getInt8(),rsrq:e.getInt8(),sinr:e.getInt8(),txPower:e.getInt8(),ecl:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var Vi=it;var Gi=function(t){var e=new R(t,false);return wn(e)};var Wi=Z;var Yi=164;var ji=function(t){if(t.length>Yi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return fn(e)};var qi=wt;var Qi=255;var Xi=function(t){if(t.length>Qi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return Tn(e)};var Ki=st;var Ji=function(t,e){if(!e.hardwareType){throw new Error("hardwareType in config is mandatory")}var r=new R(t,false);var n=r.getUint8();var a=pn(r,e.hardwareType);return{sequenceNumber:n,status:a}};var Zi=K;var $i=14;var ts=8;var es=function(t){return t.getUint16()};var rs=function(t){return P(t.getBytes(ts))};var ns=function(t){var e=t.getUint8();var r=t.getUint8();var n=t.getUint8();var a=e<<4|r>>4;var i=(r&15)<<8|n;return{noLoadBatteryVoltage:a,loadBatteryVoltage:i}};var as=function(t){if(t.length>$i){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=e.getUint8();var n=ai[r];var a=e.getUint8();var i;switch(r){case ba:case Ca:case Ra:case Ba:case Da:case Pa:case Fa:case ka:case Ya:case ja:case Qa:case Ka:case Ja:i={time2000:en(e)};break;case Wa:i={duration:e.getUint32(),status:e.getUint8(),...ns(e),internalResistance:e.getUint16()};break;case xa:i={voltage:es(e)};break;case Ha:i={time2000:en(e),deviceId:rs(e)};break;case Va:case Ga:i={channel:e.getUint8()+1,value:tn(e)};break;case qa:i={status:pn(e,Yt)};break;case Za:case $a:i={time2000:en(e),channel:vn(e)};break;case ti:case ei:case ri:i={time2000:en(e),channel:vn(e),temperature:e.getInt8()};break;case Xa:i={time2000:en(e),status:pn(e,Jt)};break;default:throw new Error("Event ".concat(r," is not supported"))}return{id:r,name:n,sequenceNumber:a,data:i}};var is=H;var ss=At[H];var os=2;var vs=10;var us=function(t){F(ss,t,{min:os,max:vs});var e=new R(t,false);var r={id:e.getUint8(),status:e.getUint8()};if(r.id===Ke){var n=[];while(e.bytesLeft){n.push({id:e.getUint8(),isSuccessful:e.getUint8()!==0})}if(n.length>0){r.scheduleStatuses=n}}if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var fs=z;var cs=At[z];var ls=1;var gs=function(t){k(cs,t,ls);var e=new R(t,false);var r={status:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var hs=tt;var ds=At[tt];var Us=0;var ps=function(t){k(ds,t,Us);return{}};var Es=X;var ms=65535;var ws=255;var Ts=function(t){var e=new R(t,false);var r={type:e.getUint8(),version:e.getUint8()};var n={type:e.getUint8(),version:e.getUint8()};var a;switch(n.type){case kt:case zt:case Ht:case Vt:case Gt:case Wt:case jt:case qt:case Qt:case Kt:case te:case Jt:{var i={batteryVoltage:rn(e),batteryInternalResistance:e.getUint16(),temperature:e.getInt8(),remainingBatteryCapacity:e.getUint8(),lastEventSequenceNumber:e.getUint8()};if(i.batteryInternalResistance===ms){i.batteryInternalResistance=undefined}if(i.remainingBatteryCapacity===ws){i.remainingBatteryCapacity=undefined}else if(i.remainingBatteryCapacity!==undefined){i.remainingBatteryCapacity=xt(i.remainingBatteryCapacity*100/(ws-1),1)}if(!e.isEmpty){i.downlinkQuality=e.getUint8()}a=i}break;case Yt:case Zt:case $t:a={uptime:e.getUint32(),resetReason:e.getUint8(),rssiLastDownlinkFrame:e.getInt8(),snrLastDownlinkFrame:e.getInt8(),downlinkRequestsNumber:e.getUint8(),downlinkFragmentsNumber:e.getUint8(),uplinkResponsesNumber:e.getUint8(),uplinkFragmentsNumber:e.getUint8(),signalMarginToGateway:e.getUint8(),signalMarginFromGateway:e.getUint8(),detectedGatewaysNumber:e.getUint8(),gatewayDownlinkErrorRate:e.getUint8(),lastEventSequenceNumber:e.getUint8()};break;case Xt:default:throw new Error("".concat(Es,": hardware type ").concat(n.type," is not supported"))}return{software:r,hardware:n,data:a}};var Ss=j;var ys=At[j];var Is=5;var _s=function(t){k(ys,t,Is);var e=new R(t,false);var r={sequenceNumber:e.getUint8(),time2000:en(e)};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var As=Et;var Ns=At[Et];var Ms=0;var Os=function(t){k(Ns,t,Ms);return{}};var Ls=dt;var bs=At[dt];var Cs=7;var Rs=function(t){k(bs,t,Cs);var e=new R(t,false);return{voltage:rn(e),internalResistance:e.getUint16(),lastDepassivationTime:e.getUint16()}};var Bs=ut;var xs=function(t){var e=new R(t,false);var r=e.getUint8();return{length:r,data:t.slice(1)}};var Ds=pt;var Ps=At[pt];var Fs=1;var ks=function(t){k(Ps,t,Fs);var e=new R(t,false);return{status:e.getUint8()}};var zs=Ut;var Hs=function(t){var e=new R(t,false);return{offset:e.getUint32(),status:e.getUint8()}};var Vs=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var r=e;t.forEach(function(t){r^=t});return r};var Gs=3;var Ws=function(t,e){return function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1?arguments[1]:undefined;var a=[];var s={commands:a,bytes:r,lrc:{received:undefined,calculated:0}};var o=0;var v;var u;if(!r.length){return s}do{var f=D(r.slice(o,o+Gs));var c=r.slice(o,o+f.headerSize);var l=r.slice(o+f.headerSize,o+f.headerSize+f.commandSize);var g={id:f.commandId,name:e[f.commandId],headerSize:f.headerSize,bytes:[].concat(i(c),i(l))};o=o+f.headerSize+f.commandSize;if(n){g.config=n}try{if(!t[f.commandId]){throw new Error("Unsupported command id: ".concat(f.commandId,"!"))}g.parameters=t[f.commandId](l,n);a.push(g)}catch(t){a.push({command:g,error:t.message})}}while(o<r.length-1);if(r.length-o===1){v=r[r.length-1];u=Vs(r.slice(0,-1))}else{u=Vs(r)}s.lrc.calculated=u;s.lrc.received=v;if(v===u){return s}return{message:s,error:"Mismatch LRC."}}};var Ys={};var js=At;var qs=Ws(Ys,js);Ys[Nt]=Lt;Ys[bn]=Rn;Ys[Bn]=Dn;Ys[la]=ga;Ys[ha]=da;Ys[Ua]=Ea;Ys[ma]=wa;Ys[Ta]=ya;Ys[Ia]=Aa;Ys[Na]=Ma;Ys[Oa]=La;Ys[ii]=oi;Ys[vi]=ui;Ys[fi]=li;Ys[gi]=di;Ys[Ui]=mi;Ys[Ti]=Ii;Ys[_i]=Ai;Ys[Ni]=Mi;Ys[Oi]=Li;Ys[bi]=xi;Ys[Di]=Pi;Ys[Vi]=Gi;Ys[Wi]=ji;Ys[qi]=Xi;Ys[Ki]=Ji;Ys[Zi]=as;Ys[is]=us;Ys[fs]=gs;Ys[Fi]=Hi;Ys[hs]=ps;Ys[Es]=Ts;Ys[Ss]=_s;Ys[As]=Os;Ys[Ls]=Rs;Ys[Bs]=xs;Ys[Ds]=ks;Ys[zs]=Hs;getBytesFromHex=Bt;fromBytes=qs})();
//#endregion


/*
  Incoming arguments:
    * payload - array of bytes
    * metadata - key/value object
*/

var message = fromBytes(payload, config);

// there may be a message.error (e.g. mismatched LRC)
// in that case message.message will contain everything parsed successfully
// it should be used with caution

var result = {
    // required property, set to real device name from payload/metadata depending on integration
    // empty value throw an error in converter
    deviceName: '',

    deviceType: 'Water Meter',
    attributes: {
        model: 'Device Model',
        serialNumber: 'SN111',
        manufacturer: 'Device Manufacturer'
    },
    telemetry: {
        // telemetry display only primitive, i.e. string and numbers
        // for example only!
        message: JSON.stringify(message.message || message)
    },
    metadata: metadata
};

return result;
