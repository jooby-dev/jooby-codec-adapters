// IMPORTANT!!!
// This example only for default uplink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// these options can be edited
// available hardware types can be found here:
// https://github.com/jooby-dev/jooby-docs/blob/main/docs/analog/basics.md#hardware-types
var config = {
    // required field
    hardwareType: 0
};


//#region [autogenerated jooby-codec bundle from index.js]
var fromBytes,getBytesFromHex;(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function e(e){if(Array.isArray(e))return t(e)}function r(t,e,r){return(e=o(e))in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function n(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t){return e(t)||n(t)||u(t)||a()}function s(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function o(t){var e=s(t,"string");return"symbol"==typeof e?e:e+""}function u(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}var v={separator:" ",prefix:""};var f=1;var c=2;var g=3;var l=4;var h=Math.log,d=Math.pow,U=Math.LN2;var E=function(t,e,r,n,a){var i,s,o=a*8-n-1,u=(1<<o)-1,v=u>>1,f=-7,c=r?a-1:0,g=r?-1:1,l=t[e+c];c+=g;i=l&(1<<-f)-1;l>>=-f;f+=o;for(;f>0;i=i*256+t[e+c],c+=g,f-=8);s=i&(1<<-f)-1;i>>=-f;f+=n;for(;f>0;s=s*256+t[e+c],c+=g,f-=8);if(i===0){i=1-v}else if(i===u){return s?NaN:l?-Infinity:Infinity}else{s=s+d(2,n);i=i-v}return(l?-1:1)*s*d(2,i-n)};var p=function(t,e,r,n,a,i){var s,o,u,v=i*8-a-1,f=(1<<v)-1,c=f>>1,g=a===23?d(2,-24)-d(2,-77):0,l=n?0:i-1,E=n?1:-1,p=r<0||r===0&&1/r<0?1:0;r<0&&(r=-r);if(r!==r||r===Infinity){o=r!==r?1:0;s=f}else{s=h(r)/U|0;if(r*(u=d(2,-s))<1){s--;u*=2}if(s+c>=1){r+=g/u}else{r+=g*d(2,1-c)}if(r*u>=2){s++;u/=2}if(s+c>=f){o=0;s=f}else if(s+c>=1){o=(r*u-1)*d(2,a);s=s+c}else{o=r*d(2,c-1)*d(2,a);s=0}}for(;a>=8;t[e+l]=o&255,l+=E,o/=256,a-=8);s=s<<a|o;v+=a;for(;v>0;t[e+l]=s&255,l+=E,s/=256,v-=8);t[e+l-E]|=p*128};var m=[1,0];var w=[2,1,0];var T=[3,2,1,0];var S=[0,1];var y=[0,1,2];var I=[0,1,2,3];var _=function(t,e){return t[e]};var A=function(t,e,r){var n=r?S:m;var a=t[e+n[0]];var i=t[e+n[1]]<<8;return a|i};var N=function(t,e,r){var n=r?y:w;var a=t[e+n[0]];var i=t[e+n[1]]<<8;var s=t[e+n[2]]<<16;return a|i|s};var b=function(t,e,r){var n=r?I:T;var a=t[e+n[3]]*16777216;var i=t[e+n[2]]*65536;var s=t[e+n[1]]*256;var o=t[e+n[0]];return a+i+s+o};var M=function(t,e,r){t[e]=r&255};var O=function(t,e,r,n){var a=n?S:m;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255};var L=function(t,e,r,n){var a=n?y:w;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255;t[e+a[2]]=r>>>16&255};var C=function(t,e,r,n){var a=n?I:T;t[e+a[0]]=r&255;t[e+a[1]]=r>>>8&255;t[e+a[2]]=r>>>16&255;t[e+a[3]]=r>>>24&255};function R(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var r=new Array(t).fill(0);this.data=r}else{this.data=t}this.offset=0;this.isLittleEndian=e}R.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){M(this.data,this.offset,t<0?t|256:t);this.offset+=f},getInt8:function(){var t=_(this.data,this.offset);this.offset+=f;return t&128?t^-256:t},setUint8:function(t){M(this.data,this.offset,t);this.offset+=f},getUint8:function(){var t=_(this.data,this.offset);this.offset+=f;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;O(this.data,this.offset,t<0?t|65536:t,e);this.offset+=c},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=A(this.data,this.offset,t);this.offset+=c;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;O(this.data,this.offset,t,e);this.offset+=c},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=A(this.data,this.offset,t);this.offset+=c;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=g},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=N(this.data,this.offset,t);this.offset+=g;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t,e);this.offset+=g},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=N(this.data,this.offset,t);this.offset+=g;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;C(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=l},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=b(this.data,this.offset,t);this.offset+=l;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;C(this.data,this.offset,t,e);this.offset+=l},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=b(this.data,this.offset,t);this.offset+=l;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;p(this.data,this.offset,t,e,23,4);this.offset+=l},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=E(this.data,this.offset,t,23,4);this.offset+=l;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var r=[];while(this.offset<e){r.push(String.fromCharCode(this.getUint8()))}return r.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var r=this.data;r.splice.apply(r,[e,t.length].concat(i(t)));this.data=r;this.offset=e+t.length}};Object.defineProperties(R.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var B=224;var F=31;var D=function(t){if(t.length===0){throw new Error("Invalid buffer size")}var e={shortCode:t[0]&B,extraCode:t[0]&F};if(e.shortCode!==0){return{headerSize:1,commandId:t[0]&~e.extraCode,commandSize:e.extraCode}}if(e.extraCode===F){if(t.length<3){throw new Error("Invalid buffer size")}return{headerSize:3,commandId:t[1]<<8|F,commandSize:t[2]}}if(t.length<2){throw new Error("Invalid buffer size")}return{headerSize:2,commandId:e.extraCode,commandSize:t[1]}};var P=2;var z=3;var x=4;var k=5;var H=6;var W=7;var V=9;var G=11;var Y=12;var j=20;var q=21;var Q=22;var X=23;var K=24;var J=25;var Z=26;var $=27;var tt=30;var et=32;var rt=64;var nt=96;var at=543;var it=1311;var st=1823;var ot=2591;var ut=2847;var vt=3103;var ft=3359;var ct=3871;var gt=5151;var lt=10783;var ht=11039;var dt=11295;var Ut=12319;var Et=12575;var pt=12831;var mt=13087;var wt=13343;var Tt=Object.freeze({__proto__:null,correctTime2000:Y,current:W,currentMc:K,dataSegment:tt,day:et,dayMc:Q,exAbsCurrentMc:ct,exAbsDayMc:ut,exAbsHourMc:ot,getArchiveDays:H,getArchiveDaysMc:$,getArchiveEvents:G,getArchiveHours:k,getArchiveHoursMc:Z,getArchiveHoursMcEx:Ut,getBatteryStatus:it,getChannelsStatus:pt,getChannelsTypes:mt,getExAbsArchiveDaysMc:ft,getExAbsArchiveHoursMc:vt,getLmicInfo:at,getParameter:x,hour:rt,hourMc:X,hourMcEx:Et,lastEvent:nt,newEvent:q,setParameter:z,setTime2000:P,signalQuality:wt,softRestart:J,status:j,time2000:V,updateRun:dt,usWaterMeterBatteryStatus:gt,usWaterMeterCommand:st,verifyImage:ht,writeImage:lt});var St=function(t){var e={};for(var r in t){var n=t[r];e[n]=r}return e};var yt=St(Tt);var It=Y;var _t=1;var At=function(t){if(t.length!==_t){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r={status:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var Nt=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=0;for(var n in e){if(n in t&&e[n]){r|=t[n]}}return r};var bt=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r={};for(var n in t){r[n]=(e&t[n])!==0}return r};var Mt=function(t,e,r){return(1<<e)-1&t>>r-1};var Ot=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=Object.assign({},v,e),n=r.separator,a=r.prefix;return t.map(function(t){return"".concat(a).concat(t.toString(16).padStart(2,"0"))}).join(n)};var Lt=function(t){var e=t.trim();if(!e){return[]}e=e.replace(/0x/g,"").split(/\s+/).map(function(t){return t.padStart(2,"0")}).join("");if(e.length%2!==0){e="0".concat(e)}var r=e.length/2;var n=new Array(r);for(var a=0;a<r;a++){n[a]=parseInt(e.substring(a*2,a*2+2),16)}return n};var Ct=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;var r=Math.pow(10,e);return Math.round(t*r*(1+Number.EPSILON))/r};var Rt=9466848e5;var Bt=1e3;var Ft=function(t){return(t.getTime()-Rt)/Bt};var Dt=1;var Pt=2;var zt=3;var xt=4;var kt=5;var Ht=6;var Wt=7;var Vt=8;var Gt=9;var Yt=10;var jt=11;var qt=12;var Qt=13;var Xt=14;var Kt=21;var Jt=24;var Zt=1;var $t=4;var te=5;var ee=8;var re=9;var ne=10;var ae=11;var ie=13;var se=18;var oe=23;var ue=24;var ve=25;var fe=26;var ce=28;var ge=29;var le=30;var he=31;var de=32;var Ue=33;var Ee=34;var pe=35;var me=36;var we=37;var Te=38;var Se=39;var ye=40;var Ie=41;var _e=42;var Ae=43;var Ne=44;var be=45;var Me=46;var Oe=47;var Le=48;var Ce=49;var Re=50;var Be=51;var Fe=52;var De=53;var Pe=54;var ze=55;var xe=56;var ke=57;var He=58;var We=59;var Ve=60;var Ge=61;var Ye=Object.freeze({__proto__:null,ABSOLUTE_DATA:oe,ABSOLUTE_DATA_ENABLE:ue,ABSOLUTE_DATA_ENABLE_MULTI_CHANNEL:le,ABSOLUTE_DATA_MULTI_CHANNEL:ge,ACTIVATE_MODULE:Ge,ACTIVATION_METHOD:re,BATTERY_DEPASSIVATION_CONFIG:Ue,BATTERY_DEPASSIVATION_INFO:ne,BATTERY_MINIMAL_LOAD_TIME:ae,CHANNELS_CONFIG:ie,CHANNEL_TYPE:xe,DAY_CHECKOUT_HOUR:$t,EVENTS_CONFIG:Re,EXTRA_FRAME_INTERVAL:ce,EXTRA_PAYLOAD_ENABLE:ke,GEOLOCATION:fe,KEEP_LORA_CONNECTION_ON_REMOVAL:We,MQTT_BROKER_ADDRESS:pe,MQTT_DATA_RECEIVE_CONFIG:Te,MQTT_DATA_SEND_CONFIG:Se,MQTT_SESSION_CONFIG:Ee,MQTT_SSL_ENABLE:me,MQTT_TOPIC_PREFIX:we,NBIOT_APN:De,NBIOT_BANDS:Fe,NBIOT_DEVICE_SOFTWARE_UPDATE:Oe,NBIOT_LED_INDICATION:Pe,NBIOT_MODULE_FIRMWARE_UPDATE:Le,NBIOT_MODULE_INFO:Be,NBIOT_NTP_SERVER:Ve,NBIOT_SIM:ze,NBIOT_SSL_CACERT_SET:_e,NBIOT_SSL_CACERT_WRITE:Ie,NBIOT_SSL_CLIENT_CERT_SET:Ne,NBIOT_SSL_CLIENT_CERT_WRITE:Ae,NBIOT_SSL_CLIENT_KEY_SET:Me,NBIOT_SSL_CLIENT_KEY_WRITE:be,NBIOT_SSL_CONFIG:ye,PRIORITY_DATA_DELIVERY_TYPE:ee,PULSE_CHANNELS_SCAN_CONFIG:he,PULSE_CHANNELS_SET_CONFIG:de,REPORTING_DATA_CONFIG:Ce,REPORTING_DATA_INTERVAL:Zt,REPORTING_DATA_TYPE:te,RX2_CONFIG:se,SERIAL_NUMBER:ve,TIME_SYNCHRONIZATION_PERIOD_VIA_MAC:He});var je=St(Ye);var qe=4294967295;var Qe=0;var Xe=1;var Ke=2;var Je=3;var Ze=4;var $e=5;var tr=Object.freeze({__proto__:null,BINARY_SENSOR:Je,BINARY_SENSOR_CONFIGURABLE:$e,IDLE:Qe,POWER_CHANNEL:Ke,PULSE_SENSOR:Xe,TEMPERATURE_SENSOR:Ze});var er=0;var rr=1;var nr=2;var ar=3;var ir=4;var sr=5;var or=6;var ur=Object.freeze({__proto__:null,SF10B125:nr,SF11B125:rr,SF12B125:er,SF7B125:sr,SF7B250:or,SF8B125:ir,SF9B125:ar});var vr=St(ur);var fr,cr;var gr=2e3;var lr=4;var hr=5;var dr=1;var Ur=4095;var Er=128;var pr=7;var mr=600;var wr=100;var Tr=6;var Sr=8;var yr=[Pt,zt,Dt,qt,Jt];var Ir=[Vt,kt,Gt,xt];var _r=[jt];var Ar=[Ht,Yt];var Nr=[Wt];var br={isBatteryLow:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isButtonReleased:Math.pow(2,2),isConnectionLost:Math.pow(2,3)};var Mr={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5)};var Or={isConnectionLost:Math.pow(2,3)};var Lr={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5),isThirdChannelInactive:Math.pow(2,6),isForthChannelInactive:Math.pow(2,8)};var Cr={isMeterCaseOpen:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isParametersSetRemotely:Math.pow(2,2),isParametersSetLocally:Math.pow(2,3),isMeterProgramRestarted:Math.pow(2,4),isLockedOut:Math.pow(2,5),isTimeSet:Math.pow(2,6),isTimeCorrected:Math.pow(2,7),isMeterFailure:Math.pow(2,8),isMeterTerminalBoxOpen:Math.pow(2,9),isModuleCompartmentOpen:Math.pow(2,10),isTariffPlanChanged:Math.pow(2,11),isNewTariffPlanReceived:Math.pow(2,12),isElectromagneticInfluenceReset:Math.pow(2,13),isMagneticInfluenceReset:Math.pow(2,14)};var Rr={transportMode:1,frequencyOutput:2,reverseFlow:4,tamperBreak:8,leakage:16,pipeBreak:32,pipeEmpty:64,batteryDischarge:128};fr={},r(r(r(r(r(r(r(r(r(r(fr,Zt,1+4),$t,1+1),te,1+1),ee,1+1),re,1+1),ne,1+6),ae,1+4),ie,1+1),se,1+4),oe,1+9),r(r(r(r(r(r(r(r(r(r(fr,ue,1+1),ve,1+6),fe,1+10),ce,1+2),ge,1+10),le,1+2),he,1+3),de,1+1),Ue,1+4),me,1+1),r(r(r(r(r(r(r(r(r(r(fr,Te,1+3),Se,1+3),ye,1+2),_e,1+4),Ne,1+4),Me,1+4),Ce,1+4),Re,1+3),Pe,1+2),ze,1+3),r(r(r(r(fr,ke,1+1),He,1+4),We,1+1),Ge,1+1);var Br={channel1:Math.pow(2,0),channel2:Math.pow(2,1),channel3:Math.pow(2,2),channel4:Math.pow(2,3)};var Fr=function(t){var e=bt(Br,t);return{channel1:e.channel1,channel2:e.channel2,channel3:e.channel3,channel4:e.channel4}};var Dr=function(t){var e=t.channel1,r=t.channel2,n=t.channel3,a=t.channel4;return Nt(Br,{channel1:e,channel2:r,channel3:n,channel4:a})};var Pr=function(t){return Fr(t.getUint8())};var zr=function(t,e){return t.setUint8(Dr(e))};var xr={128:1,129:5,130:10,131:100,132:1e3,133:1e4,134:1e5};var kr=St(xr);var Hr=function(t){return!!(t&128)};var Wr=function(t){return{size:t.getUint16(),position:t.getUint16(),chunk:t.getBytesLeft()}};var Vr=function(t,e){if(e.size!==e.chunk.length){throw new Error("ssl chunk size parameter doesn't match actual ssl chunk size")}t.setUint16(e.size);t.setUint16(e.position);t.setBytes(e.chunk)};var Gr=function(t){return{crc32:t.getUint32()}};var Yr=function(t,e){t.setUint32(e.crc32)};var jr=(cr={},r(r(r(r(r(r(r(r(r(r(cr,Zt,{get:function(t){return{specialSchedulePeriod:t.getUint8()*mr,firstDaysSpecialSchedule:t.getUint8(),lastDaysSpecialSchedule:t.getUint8(),period:t.getUint8()*mr}},set:function(t,e){t.setUint8(e.specialSchedulePeriod/mr);t.setUint8(e.firstDaysSpecialSchedule);t.setUint8(e.lastDaysSpecialSchedule);t.setUint8(e.period/mr)}}),$t,{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}}),te,{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}}),ee,{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}}),re,{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}}),ne,{get:function(t){return{loadTime:t.getUint16(),internalResistance:t.getUint16(),lowVoltage:t.getUint16()}},set:function(t,e){t.setUint16(e.loadTime);t.setUint16(e.internalResistance);t.setUint16(e.lowVoltage)}}),ae,{get:function(t){return{value:t.getUint32()}},set:function(t,e){t.setUint32(e.value)}}),ie,{get:function(t){return{value:t.getUint8()}},set:function(t,e){if(e.value<0||e.value>18){throw new Error("channels config must be between 0-18")}t.setUint8(e.value)}}),se,{get:function(t){var e=t.getUint8();var r=vr[e];var n=t.getUint24()*wr;return{spreadFactor:e,spreadFactorName:r,frequency:n}},set:function(t,e){t.setUint8(e.spreadFactor);t.setUint24(e.frequency/wr)}}),oe,{get:function(t){return{meterValue:t.getUint32(),pulseCoefficient:on(t),value:t.getUint32()}},set:function(t,e){t.setUint32(e.meterValue);un(t,e.pulseCoefficient);t.setUint32(e.value)}}),r(r(r(r(r(r(r(r(r(r(cr,ue,{get:function(t){return{state:t.getUint8()}},set:function(t,e){t.setUint8(e.state)}}),ve,{get:function(t){return{value:Ot(t.getBytes(Tr))}},set:function(t,e){Lt(e.value).forEach(function(e){return t.setUint8(e)})}}),fe,{get:function(t){return{latitude:Ct(t.getFloat32()),longitude:Ct(t.getFloat32()),altitude:Ct(t.getUint16())}},set:function(t,e){t.setFloat32(Ct(e.latitude));t.setFloat32(Ct(e.longitude));t.setUint16(Ct(e.altitude))}}),ce,{get:function(t){return{value:t.getUint16()}},set:function(t,e){t.setUint16(e.value)}}),ge,{get:function(t){return{channel:en(t),meterValue:t.getUint32(),pulseCoefficient:on(t),value:t.getUint32()}},set:function(t,e){rn(t,e.channel);t.setUint32(e.meterValue);un(t,e.pulseCoefficient);t.setUint32(e.value)}}),le,{get:function(t){return{channel:en(t),state:t.getUint8()}},set:function(t,e){rn(t,e.channel);t.setUint8(e.state)}}),he,{get:function(t){return{channelList:$r(t),pullUpTime:t.getUint8(),scanTime:t.getUint8()}},set:function(t,e){if(e.pullUpTime<17){throw new Error("minimal value for pullUpTime - 17")}if(e.scanTime<15){throw new Error("minimal value for scanTime - 15")}tn(t,e.channelList.map(function(t){return{index:t}}));t.setUint8(e.pullUpTime);t.setUint8(e.scanTime)}}),de,{get:Pr,set:zr}),Ue,{get:function(t){return{resistanceStartThreshold:t.getUint16(),resistanceStopThreshold:t.getUint16()}},set:function(t,e){t.setUint16(e.resistanceStartThreshold);t.setUint16(e.resistanceStopThreshold)}}),Ee,{get:function(t){return{clientId:t.getString(),username:t.getString(),password:t.getString(),cleanSession:t.getUint8()}},set:function(t,e){t.setString(e.clientId);t.setString(e.username);t.setString(e.password);t.setUint8(e.cleanSession)}}),r(r(r(r(r(r(r(r(r(r(cr,pe,{get:function(t){return{hostName:t.getString(),port:t.getUint16()}},set:function(t,e){t.setString(e.hostName);t.setUint16(e.port)}}),me,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}),we,{get:function(t){return{topicPrefix:t.getString()}},set:function(t,e){t.setString(e.topicPrefix)}}),Te,{get:function(t){return{qos:t.getUint8(),count:t.getUint8(),timeout:t.getUint8()}},set:function(t,e){t.setUint8(e.qos);t.setUint8(e.count);t.setUint8(e.timeout)}}),Se,{get:function(t){return{qos:t.getUint8(),retain:t.getUint8(),newestSendFirst:t.getUint8()}},set:function(t,e){t.setUint8(e.qos);t.setUint8(e.retain);t.setUint8(e.newestSendFirst)}}),ye,{get:function(t){return{securityLevel:t.getUint8(),version:t.getUint8()}},set:function(t,e){t.setUint8(e.securityLevel);t.setUint8(e.version)}}),Ie,{get:Wr,set:Vr}),_e,{get:Gr,set:Yr}),Ae,{get:Wr,set:Vr}),Ne,{get:Gr,set:Yr}),r(r(r(r(r(r(r(r(r(r(cr,be,{get:Wr,set:Vr}),Me,{get:Gr,set:Yr}),Oe,{get:function(t){return{softwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.softwareImageUrl)}}),Le,{get:function(t){return{moduleFirmwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.moduleFirmwareImageUrl)}}),Ce,{get:function(t){return{dataType:t.getUint8(),hour:t.getUint8(),minutes:t.getUint8(),countToSend:t.getUint8()}},set:function(t,e){t.setUint8(e.dataType);t.setUint8(e.hour);t.setUint8(e.minutes);t.setUint8(e.countToSend)}}),Re,{get:function(t){return{eventId:t.getUint8(),sendEvent:t.getUint8(),saveEvent:t.getUint8()}},set:function(t,e){t.setUint8(e.eventId);t.setUint8(e.sendEvent);t.setUint8(e.saveEvent)}}),Be,{get:function(t){return{moduleInfo:t.getString()}},set:function(t,e){t.setString(e.moduleInfo)}}),Fe,{get:function(t){var e=t.getUint8();var r=[];for(var n=0;n<e;n++){r.push(t.getUint8())}return{bands:r}},set:function(t,e){t.setUint8(e.bands.length);for(var r of e.bands){t.setUint8(r)}}}),De,{get:function(t){return{apn:t.getString()}},set:function(t,e){t.setString(e.apn)}}),Pe,{get:function(t){return{enableLed:t.getUint8(),enableNbiotNetworkLed:t.getUint8()}},set:function(t,e){t.setUint8(e.enableLed);t.setUint8(e.enableNbiotNetworkLed)}}),r(r(r(r(r(r(r(cr,ze,{get:function(t){return{enable:t.getUint8(),pin:t.getUint16()}},set:function(t,e){t.setUint8(e.enable);t.setUint16(e.pin)}}),xe,{get:function(t){return yn(t)},set:function(t,e){return In(t,e)}}),ke,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}),He,{get:function(t){return{period:t.getUint32()}},set:function(t,e){t.setUint32(e.period)}}),We,{get:function(t){return{value:t.getUint8()!==0}},set:function(t,e){t.setUint8(e.value?1:0)}}),Ve,{get:function(t){return{server:t.getString(),port:t.getUint16()}},set:function(t,e){t.setString(e.server);t.setUint16(e.port)}}),Ge,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}));var qr=function(t){return!!Mt(t,1,Sr)};var Qr=function(t){var e=0;var r=true;var n=0;while(r&&t.offset<=t.data.length){var a=t.getUint8();r=!!(a&Er);e+=(a&127)<<7*n>>>0;++n}return e};var Xr=function(t){return t.getUint32()};var Kr=function(t){var e=t.getUint8();var r=t.getUint8();var n=t.getUint8();var a=e<<4;a|=(r&240)>>4;var i=(r&15)<<8|n;if(i===Ur){i=undefined}if(a===Ur){a=undefined}return{underLowLoad:a,underHighLoad:i}};var Jr=function(t){return t.getUint24()};var Zr=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t.getUint8();var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=Jr(t);return{isMagneticInfluence:qr(e),value:r&&n===qe?0:n}};var $r=function(t){var e=[];var r=true;var n=1;while(r){var a=t.getUint8();var i=a.toString(2).padStart(pr+1,"0").split("").reverse();i.forEach(function(t,a){var i=Number(t);if(a===pr){r=!!i}else{if(i){e.push(n)}++n}})}return e};var tn=function(t,e){if(e.length===0){t.setUint8(0);return}e.sort(function(t,e){return t.index-e.index});var r=Math.max.apply(Math,i(e.map(function(t){var e=t.index;return e})));var n=(r-r%8)/8;var a=new Array(n+1).fill(0);var s=0;a.forEach(function(t,r){var n=r*pr+1;var i=n+pr;while(n<i){var o=e.find(function(t){return t.index===n});if(o!==undefined){s|=1<<(o.index-1)%pr}++n}if(a[r+1]!==undefined){s|=1<<pr}a[r]=s;s=0});a.forEach(function(e){return t.setUint8(e)})};var en=function(t){return t.getUint8()+1};var rn=function(t,e){if(e<1){throw new Error("channel must be 1 or greater")}t.setUint8(e-1)};var nn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=sn(t);var n=an(t),a=n.hour,i=n.hours;var s=$r(t);var o=[];r.setUTCHours(a);s.forEach(function(r){var n=[];var a=Qr(t);for(var s=1;s<i;++s){n.push(Qr(t))}o.push({value:e&&a===qe?0:a,diff:n,index:r})});return{startTime2000:Ft(r),hours:i,channelList:o}};var an=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t.getUint8();if(e===0){return{hours:0,hour:0}}var r=((e&224)>>5)+1;var n=e&31;return{hours:r,hour:n}};var sn=function(t){var e=t.getUint8();var r=t.getUint8();var n=e>>dr;var a=(e&1)<<lr-dr|r>>hr;var i=r&31;return new Date(Date.UTC(n+gr,a-1,i,0,0,0,0))};var on=function(t){var e=t.getUint8();if(Hr(e)){var r=xr[e];if(r){return r}throw new Error("pulseCoefficient MSB is set, but value unknown")}return e};var un=function(t,e){if(e in kr){var r=kr[e];if(r){t.setUint8(r)}else{throw new Error("pulseCoefficient MSB is set, but value unknown")}}else{t.setUint8(e)}};var vn=function(t){var e=$r(t);var r=[];e.forEach(function(e){r.push({pulseCoefficient:on(t),value:Qr(t),index:e})});return r};var fn=function(t,e){var r=$r(t);var n=[];r.forEach(function(r){var a=on(t);var i=Qr(t);var s=[];for(var o=1;o<e;++o){s.push(Qr(t))}n.push({diff:s,value:i,pulseCoefficient:a,index:r})});return n};var cn=function(t,e){var r;if(yr.indexOf(e)!==-1){r=bt(br,t.getUint8())}else if(Ir.indexOf(e)!==-1){r=bt(Mr,t.getUint8())}else if(_r.indexOf(e)!==-1){r=bt(Or,t.getUint8())}else if(Ar.indexOf(e)!==-1){r=bt(Lr,t.getUint16(true))}else if(Nr.indexOf(e)!==-1){r=bt(Cr,t.getUint16(true))}else if(e===Qt){var n=bt(Rr,t.getUint8());r={event:n,error:t.getUint8()}}else{throw new Error("wrong hardwareType")}return r};var gn=function(t){var e=t.getUint8();var r=je[e];var n;if(!jr[e]||!jr[e].get){throw new Error("parameter ".concat(e," is not supported"))}switch(e){case Ee:case Ie:case Ae:case be:case _e:case Ne:case Me:case Oe:case Le:n=null;break;default:n=jr[e].get(t)}return{id:e,name:r,data:n}};var ln=function(t){var e=t.getUint8();var r=t.getUint8();return{isMagneticInfluence:qr(e),value:(e&31)<<8|r}};var hn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=sn(t);var n=t.getUint8();var a=an(t,n),i=a.hour;var s=Jr(t);var o={isMagneticInfluence:qr(n),value:e&&s===qe?0:s};var u=[];while(t.offset<t.data.length){u.push(ln(t))}r.setUTCHours(i);return{startTime2000:Ft(r),counter:o,diff:u}};var dn=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=sn(t);var n=t.getUint8();var a=t.getUint8();var i=$r(t);var s=[];r.setUTCHours(n);i.forEach(function(r){var n=[];var i=Qr(t);for(var o=0;o<a;++o){n.push(Qr(t))}s.push({value:e&&i===qe?0:i,diff:n,index:r})});return{startTime2000:Ft(r),hour:n,hours:a,channelList:s}};var Un=function(t){var e=t.getUint8();var r=t.getUint8();return{segmentationSessionId:e,segmentIndex:Mt(r,3,1),segmentsNumber:Mt(r,3,5),isLast:Boolean(Mt(r,1,8)),data:t.getBytesLeft()}};var En=function(t){var e=t.getUint16();return{activeStateTimeMs:e}};var pn=function(t,e){t.setUint16(e.activeStateTimeMs)};var mn=function(t){var e=t.getUint8();var r=t.getUint16();var n=t.getUint8();return{type:e,activeStateTimeMs:r,halState:n}};var wn=function(t,e){t.setUint8(e.type);t.setUint16(e.activeStateTimeMs);t.setUint8(e.halState)};var Tn=function(t){var e=t.getUint16();var r=t.getUint8();var n=t.getInt8();var a=t.getInt8();return{measurementPeriod:e,hysteresisSec:r,highTemperatureThreshold:n,lowTemperatureThreshold:a}};var Sn=function(t,e){t.setUint16(e.measurementPeriod);t.setUint8(e.hysteresisSec);t.setInt8(e.highTemperatureThreshold);t.setInt8(e.lowTemperatureThreshold)};var yn=function(t){var e=en(t);var r=t.getUint8();var n={};switch(r){case Je:n=En(t);break;case Ze:n=Tn(t);break;case $e:n=mn(t);break}return{channel:e,type:r,parameters:n}};var In=function(t,e){var r=e.type,n=e.channel,a=e.parameters;rn(t,n);t.setUint8(r);switch(r){case Je:pn(t,a);break;case Ze:Sn(t,a);break;case $e:wn(t,a);break}};var _n=W;var An=4;var Nn=function(t){if(t.length>An){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return Zr(e)};var bn=K;var Mn=37;var On=function(t){if(t.length>Mn){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e={channelList:[]};var r=new R(t,false);var n=$r(r);e.channelList=n.map(function(t){return{value:Qr(r),index:t}});return e};var Ln=2;var Cn=3;var Rn=4;var Bn=5;var Fn=6;var Dn=7;var Pn=9;var zn=11;var xn=12;var kn=20;var Hn=24;var Wn=25;var Vn=26;var Gn=27;var Yn=30;var jn=543;var qn=1311;var Qn=1823;var Xn=3103;var Kn=3359;var Jn=3871;var Zn=10783;var $n=11039;var ta=11295;var ea=12319;var ra=12831;var na=13087;var aa=13343;var ia=Object.freeze({__proto__:null,correctTime2000:xn,dataSegment:Yn,getArchiveDays:Fn,getArchiveDaysMc:Gn,getArchiveEvents:zn,getArchiveHours:Bn,getArchiveHoursMc:Vn,getArchiveHoursMcEx:ea,getBatteryStatus:qn,getChannelsStatus:ra,getChannelsTypes:na,getCurrent:Dn,getCurrentMc:Hn,getExAbsArchiveDaysMc:Kn,getExAbsArchiveHoursMc:Xn,getExAbsCurrentMc:Jn,getLmicInfo:jn,getParameter:Rn,getSignalQuality:aa,getStatus:kn,getTime2000:Pn,setParameter:Cn,setTime2000:Ln,softRestart:Wn,updateRun:ta,usWaterMeterCommand:Qn,verifyImage:$n,writeImage:Zn});St(ia);var sa=Yn;var oa=function(t){var e=new R(t,false);return Un(e)};var ua=et;var va=function(t){var e=new R(t,false);var r=sn(e);var n=e.getUint8();var a=an(e,n),i=a.hour;var s=qr(n);var o=Jr(e);r.setUTCHours(i);return{value:o,isMagneticInfluence:s,startTime2000:Ft(r)}};var fa=Q;var ca=32;var ga=function(t){if(t.length>ca){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=sn(e);var n=$r(e);var a=n.map(function(t){return{value:Qr(e),index:t}});return{startTime2000:Ft(r),channelList:a}};var la=ct;var ha=function(t){var e=new R(t,false);return{channelList:vn(e)}};var da=ut;var Ua=89;var Ea=function(t){if(t.length>Ua){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=sn(e);var n=vn(e);return{startTime2000:Ft(r),channelList:n}};var pa=ot;var ma=168;var wa=function(t){if(t.length>ma){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=sn(e);var n=an(e),a=n.hour,i=n.hours;var s=fn(e,i);r.setUTCHours(a);return{startTime2000:Ft(r),hours:i,channelList:s}};var Ta=H;var Sa=function(t){var e=new R(t,false);var r=sn(e);var n=[];while(e.offset<e.data.length){n.push(Zr(e,undefined,true))}return{startTime2000:Ft(r),dayList:n}};var ya=$;var Ia=function(t){var e=new R(t,false);var r=sn(e);var n=$r(e);var a=e.getUint8();var i=[];n.forEach(function(t){var r=[];i.push({dayList:r,index:t});for(var n=0;n<a;++n){var s=Qr(e);r.push(s===qe?0:s)}});return{startTime2000:Ft(r),days:a,channelList:i}};var _a=1;var Aa=2;var Na=3;var ba=4;var Ma=5;var Oa=6;var La=7;var Ca=8;var Ra=9;var Ba=10;var Fa=11;var Da=12;var Pa=13;var za=14;var xa=15;var ka=16;var Ha=17;var Wa=18;var Va=19;var Ga=20;var Ya=21;var ja=22;var qa=23;var Qa=24;var Xa=25;var Ka=26;var Ja=Object.freeze({__proto__:null,ACTIVATE:Na,ACTIVATE_MTX:Fa,BATTERY_ALARM:Ma,BINARY_SENSOR_OFF:qa,BINARY_SENSOR_ON:ja,CAN_OFF:Oa,CONNECT:Da,COUNTER_OVER:Ra,DEACTIVATE:ba,DEPASS_DONE:za,DISCONNECT:Pa,INSERT:La,JOIN_ACCEPT:Wa,MAGNET_OFF:Aa,MAGNET_ON:_a,MTX:Ha,OPTOFLASH:ka,OPTOLOW:xa,OPTOSENSOR_ERROR:Ya,REMOVE:Ca,SET_TIME:Ba,TEMPERATURE_SENSOR_HIGH_TEMPERATURE:Ka,TEMPERATURE_SENSOR_HYSTERESIS:Qa,TEMPERATURE_SENSOR_LOW_TEMPERATURE:Xa,WATER_EVENT:Va,WATER_NO_RESPONSE:Ga});var Za=St(Ja);var $a=G;var ti=function(t){var e=Xr(t);var r=t.getUint8();var n=t.getUint8();return{time2000:e,id:r,name:Za[r],sequenceNumber:n}};var ei=function(t){var e=new R(t,false);var r=[];while(e.bytesLeft>0){r.push(ti(e))}return{eventList:r}};var ri=k;var ni=function(t){var e=new R(t,false);return hn(e,true)};var ai=Z;var ii=164;var si=function(t){if(t.length>ii){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return nn(e,true)};var oi=Ut;var ui=255;var vi=function(t){if(t.length>ui){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return dn(e,true)};var fi=it;var ci=function(t){var e=new R(t,false);return{voltageUnderLowLoad:e.getUint16(),voltageUnderHighLoad:e.getUint16(),internalResistance:e.getUint16(),temperature:e.getUint8(),remainingCapacity:e.getUint8(),isLastDayOverconsumption:e.getUint8()===1,averageDailyOverconsumptionCounter:e.getUint16()}};var gi=St(tr);var li=pt;var hi=function(t){return{state:t.getUint8()!==0}};var di=function(t){return{temperature:t.getInt8(),time2000:Xr(t)}};var Ui=function(t){var e=new R(t,false);var r=[];while(e.bytesLeft!==0){var n=e.getUint8();var a={type:n,typeName:gi[n],channel:en(e)};switch(a.type){case Ke:case Xe:case Qe:break;case Je:case $e:a.status=hi(e);break;case Ze:a.status=di(e);break;default:return r}r.push(a)}return r};var Ei=mt;var pi=function(t){return{channels:t.map(function(t){return{type:t,typeName:gi[t]}})}};var mi=ft;var wi=function(t){var e=new R(t,false);var r=sn(e);var n=$r(e);var a=e.getUint8();var i=[];n.forEach(function(t){var r=[];var n=on(e);i.push({pulseCoefficient:n,dayList:r,index:t});for(var s=0;s<a;++s){var o=Qr(e);r.push(o===qe?0:o)}});return{channelList:i,days:a,startTime2000:Ft(r)}};var Ti=vt;var Si=function(t){var e=new R(t,false);return nn(e,true)};var yi=at;var Ii=2;var _i={isMulticastSupported:1<<0,isFragmentedDataSupported:1<<1};var Ai=function(t){if(t.length!==Ii){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t);var r=bt(_i,e.getUint8());var n=e.getUint8();if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return{capabilities:r,version:n}};var Ni=x;var bi=function(t){var e=new R(t,false);return gn(e)};var Mi=wt;var Oi=6;var Li=function(t){if(t.length!==Oi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r={rssi:e.getInt8(),rsrp:e.getInt8(),rsrq:e.getInt8(),sinr:e.getInt8(),txPower:e.getInt8(),ecl:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var Ci=rt;var Ri=function(t){var e=new R(t,false);return hn(e)};var Bi=X;var Fi=164;var Di=function(t){if(t.length>Fi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return nn(e)};var Pi=Et;var zi=255;var xi=function(t){if(t.length>zi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return dn(e)};var ki=nt;var Hi=function(t,e){if(!e.hardwareType){throw new Error("hardwareType in config is mandatory")}var r=new R(t,false);var n=r.getUint8();var a=cn(r,e.hardwareType);return{sequenceNumber:n,status:a}};var Wi=q;var Vi=14;var Gi=8;var Yi=function(t){return t.getUint16()};var ji=function(t){return Ot(t.getBytes(Gi))};var qi=function(t){if(t.length>Vi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r=e.getUint8();var n=Za[r];var a=e.getUint8();var i;switch(r){case _a:case Aa:case Na:case ba:case Oa:case La:case Ca:case Ra:case xa:case ka:case Wa:case za:case Ga:case Ya:i={time2000:Xr(e)};break;case Ma:i={voltage:Yi(e)};break;case Fa:i={time2000:Xr(e),deviceId:ji(e)};break;case Da:case Pa:i={channel:e.getUint8()+1,value:Qr(e)};break;case Ha:i={status:cn(e,Wt)};break;case ja:case qa:i={time2000:Xr(e),channel:en(e)};break;case Qa:case Xa:case Ka:i={time2000:Xr(e),channel:en(e),temperature:e.getInt8()};break;case Va:i={time2000:Xr(e),status:cn(e,Qt)};break;default:throw new Error("Event ".concat(r," is not supported"))}return{id:r,name:n,sequenceNumber:a,data:i}};var Qi=z;var Xi=2;var Ki=function(t){if(t.length!==Xi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r={id:e.getUint8(),status:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var Ji=P;var Zi=1;var $i=function(t){if(t.length!==Zi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r={status:e.getUint8()};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var ts=J;var es=0;var rs=function(t){if(t.length!==es){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var ns=j;var as=65535;var is=255;var ss=function(t){var e=new R(t,false);var r={type:e.getUint8(),version:e.getUint8()};var n={type:e.getUint8(),version:e.getUint8()};var a;switch(n.type){case Dt:case Pt:case zt:case xt:case kt:case Ht:case Vt:case Gt:case Yt:case qt:case Jt:case Qt:{var i={batteryVoltage:Kr(e),batteryInternalResistance:e.getUint16(),temperature:e.getUint8(),remainingBatteryCapacity:e.getUint8(),lastEventSequenceNumber:e.getUint8()};if(i.batteryInternalResistance===as){i.batteryInternalResistance=undefined}if(i.remainingBatteryCapacity===is){i.remainingBatteryCapacity=undefined}else if(i.remainingBatteryCapacity!==undefined){i.remainingBatteryCapacity=Ct(i.remainingBatteryCapacity*100/(is-1),1)}if(!e.isEmpty){i.downlinkQuality=e.getUint8()}a=i}break;case Wt:case Xt:case Kt:a={time2000:e.getUint32(),resetReason:e.getUint8(),rssiLastDownlinkFrame:e.getUint8(),snrLastDownlinkFrame:e.getUint8(),downlinkRequestsNumber:e.getUint8(),downlinkFragmentsNumber:e.getUint8(),uplinkResponsesNumber:e.getUint8(),uplinkFragmentsNumber:e.getUint8(),signalMarginToGateway:e.getUint8(),signalMarginFromGateway:e.getUint8(),detectedGatewaysNumber:e.getUint8(),gatewayDownlinkErrorRate:e.getUint8(),lastEventSequenceNumber:e.getUint8()};break;case jt:default:throw new Error("".concat(ns,": hardware type ").concat(n.type," is not supported"))}return{software:r,hardware:n,data:a}};var os=V;var us=5;var vs=function(t){if(t.length!==us){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);var r={sequenceNumber:e.getUint8(),time2000:Xr(e)};if(!e.isEmpty){throw new Error("BinaryBuffer is not empty.")}return r};var fs=dt;var cs=0;var gs=function(t){if(t.length!==cs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var ls=gt;var hs=function(t){var e=new R(t,false);return{voltage:Kr(e),internalResistance:e.getUint16(),lastDepassivationTime:e.getUint16()}};var ds=st;var Us=function(t){var e=new R(t,false);var r=e.getUint8();return{length:r,data:t.slice(1)}};var Es=ht;var ps=1;var ms=function(t){if(t.length!==ps){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new R(t,false);return{status:e.getUint8()}};var ws=lt;var Ts=function(t){var e=new R(t,false);return{offset:e.getUint32(),status:e.getUint8()}};var Ss=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var r=e;t.forEach(function(t){r^=t});return r};var ys=3;var Is=function(t,e){return function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1?arguments[1]:undefined;var a=[];var s={commands:a,bytes:r,lrc:{received:undefined,calculated:0}};var o=0;var u;var v;if(!r.length){return s}do{var f=D(r.slice(o,o+ys));var c=r.slice(o,o+f.headerSize);var g=r.slice(o+f.headerSize,o+f.headerSize+f.commandSize);var l={id:f.commandId,name:e[f.commandId],headerSize:f.headerSize,bytes:[].concat(i(c),i(g))};o=o+f.headerSize+f.commandSize;if(n){l.config=n}try{if(!t[f.commandId]){throw new Error("Unsupported command id: ".concat(f.commandId,"!"))}l.parameters=t[f.commandId](g,n);a.push(l)}catch(t){a.push({command:l,error:t.message})}}while(o<r.length-1);if(r.length-o===1){u=r[r.length-1];v=Ss(r.slice(0,-1))}else{v=Ss(r)}s.lrc.calculated=v;s.lrc.received=u;if(u===v){return s}return{message:s,error:"Mismatch LRC."}}};var _s={};var As=yt;var Ns=Is(_s,As);_s[It]=At;_s[_n]=Nn;_s[bn]=On;_s[sa]=oa;_s[ua]=va;_s[fa]=ga;_s[la]=ha;_s[da]=Ea;_s[pa]=wa;_s[Ta]=Sa;_s[ya]=Ia;_s[$a]=ei;_s[ri]=ni;_s[ai]=si;_s[oi]=vi;_s[fi]=ci;_s[li]=Ui;_s[Ei]=pi;_s[mi]=wi;_s[Ti]=Si;_s[yi]=Ai;_s[Ni]=bi;_s[Ci]=Ri;_s[Bi]=Di;_s[Pi]=xi;_s[ki]=Hi;_s[Wi]=qi;_s[Qi]=Ki;_s[Ji]=$i;_s[Mi]=Li;_s[ts]=rs;_s[ns]=ss;_s[os]=vs;_s[fs]=gs;_s[ls]=hs;_s[ds]=Us;_s[Es]=ms;_s[ws]=Ts;getBytesFromHex=Lt;fromBytes=Ns})();
//#endregion


/*
  Incoming arguments:
    * payload - array of bytes
    * metadata - key/value object
*/

var message = fromBytes(payload, config);

// there may be a message.error (e.g. mismatched LRC)
// in that case message.message will contain everything parsed successfully
// it should be used with caution

var result = {
    // required property, set to real device name from payload/metadata depending on integration
    // empty value throw an error in converter
    deviceName: '',

    deviceType: 'Water Meter',
    attributes: {
        model: 'Device Model',
        serialNumber: 'SN111',
        manufacturer: 'Device Manufacturer'
    },
    telemetry: {
        // telemetry display only primitive, i.e. string and numbers
        // for example only!
        message: JSON.stringify(message.message || message)
    },
    metadata: metadata
};

return result;
