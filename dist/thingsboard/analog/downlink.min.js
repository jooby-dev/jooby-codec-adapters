// IMPORTANT!!!
// This example only for default downlink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// these options can be edited
// available hardware types can be found here:
// https://github.com/jooby-dev/jooby-docs/blob/main/docs/analog/basics.md#hardware-types
var config = {
    hardwareType: 0
};


//#region [autogenerated jooby-codec bundle from index.js]
var toBytes,getBase64FromBytes;(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function e(e){if(Array.isArray(e))return t(e)}function n(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true}):t[e]=n,t}function r(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t){return e(t)||r(t)||u(t)||a()}function s(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function o(t){var e=s(t,"string");return"symbol"==typeof e?e:e+""}function u(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}var f={separator:" ",prefix:""};var c=1;var v=2;var h=3;var l=4;var g=Math.log,d=Math.pow,p=Math.LN2;var U=function(t,e,n,r,a){var i,s,o=a*8-r-1,u=(1<<o)-1,f=u>>1,c=-7,v=n?a-1:0,h=n?-1:1,l=t[e+v];v+=h;i=l&(1<<-c)-1;l>>=-c;c+=o;for(;c>0;i=i*256+t[e+v],v+=h,c-=8);s=i&(1<<-c)-1;i>>=-c;c+=r;for(;c>0;s=s*256+t[e+v],v+=h,c-=8);if(i===0){i=1-f}else if(i===u){return s?NaN:l?-Infinity:Infinity}else{s=s+d(2,r);i=i-f}return(l?-1:1)*s*d(2,i-r)};var m=function(t,e,n,r,a,i){var s,o,u,f=i*8-a-1,c=(1<<f)-1,v=c>>1,h=a===23?d(2,-24)-d(2,-77):0,l=r?0:i-1,U=r?1:-1,m=n<0||n===0&&1/n<0?1:0;n<0&&(n=-n);if(n!==n||n===Infinity){o=n!==n?1:0;s=c}else{s=g(n)/p|0;if(n*(u=d(2,-s))<1){s--;u*=2}if(s+v>=1){n+=h/u}else{n+=h*d(2,1-v)}if(n*u>=2){s++;u/=2}if(s+v>=c){o=0;s=c}else if(s+v>=1){o=(n*u-1)*d(2,a);s=s+v}else{o=n*d(2,v-1)*d(2,a);s=0}}for(;a>=8;t[e+l]=o&255,l+=U,o/=256,a-=8);s=s<<a|o;f+=a;for(;f>0;t[e+l]=s&255,l+=U,s/=256,f-=8);t[e+l-U]|=m*128};var E=[1,0];var T=[2,1,0];var y=[3,2,1,0];var C=[0,1];var w=[0,1,2];var I=[0,1,2,3];var S=function(t,e){return t[e]};var _=function(t,e,n){var r=n?C:E;var a=t[e+r[0]];var i=t[e+r[1]]<<8;return a|i};var L=function(t,e,n){var r=n?w:T;var a=t[e+r[0]];var i=t[e+r[1]]<<8;var s=t[e+r[2]]<<16;return a|i|s};var A=function(t,e,n){var r=n?I:y;var a=t[e+r[3]]*16777216;var i=t[e+r[2]]*65536;var s=t[e+r[1]]*256;var o=t[e+r[0]];return a+i+s+o};var M=function(t,e,n){t[e]=n&255};var b=function(t,e,n,r){var a=r?C:E;t[e+a[0]]=n&255;t[e+a[1]]=n>>>8&255};var N=function(t,e,n,r){var a=r?w:T;t[e+a[0]]=n&255;t[e+a[1]]=n>>>8&255;t[e+a[2]]=n>>>16&255};var O=function(t,e,n,r){var a=r?I:y;t[e+a[0]]=n&255;t[e+a[1]]=n>>>8&255;t[e+a[2]]=n>>>16&255;t[e+a[3]]=n>>>24&255};function B(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var n=new Array(t).fill(0);this.data=n}else{this.data=t}this.offset=0;this.isLittleEndian=e}B.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){M(this.data,this.offset,t<0?t|256:t);this.offset+=c},getInt8:function(){var t=S(this.data,this.offset);this.offset+=c;return t&128?t^-256:t},setUint8:function(t){M(this.data,this.offset,t);this.offset+=c},getUint8:function(){var t=S(this.data,this.offset);this.offset+=c;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;b(this.data,this.offset,t<0?t|65536:t,e);this.offset+=v},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=_(this.data,this.offset,t);this.offset+=v;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;b(this.data,this.offset,t,e);this.offset+=v},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=_(this.data,this.offset,t);this.offset+=v;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;N(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=h},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=L(this.data,this.offset,t);this.offset+=h;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;N(this.data,this.offset,t,e);this.offset+=h},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=L(this.data,this.offset,t);this.offset+=h;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;O(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=l},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=A(this.data,this.offset,t);this.offset+=l;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;O(this.data,this.offset,t,e);this.offset+=l},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=A(this.data,this.offset,t);this.offset+=l;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;m(this.data,this.offset,t,e,23,4);this.offset+=l},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=U(this.data,this.offset,t,23,4);this.offset+=l;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var n=[];while(this.offset<e){n.push(String.fromCharCode(this.getUint8()))}return n.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var n=this.data;n.splice.apply(n,[e,t.length].concat(i(t)));this.data=n;this.offset=e+t.length}};Object.defineProperties(B.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var D=31;var V=function(t,e){if((t&D)===0){if(e>D){throw new Error("Wrong command id/size. Id: ".concat(t,", size: ").concat(e,"."))}return[t|e]}if(t>D){return[D,t>>8,e]}return[t,e]};var x=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=V(t,e.length);return[].concat(i(n),i(e))};var P=2;var R=3;var k=4;var F=5;var H=6;var W=7;var j=9;var G=11;var Y=12;var z=20;var q=24;var Q=25;var K=26;var X=27;var Z=30;var $=543;var J=1311;var tt=1823;var et=3103;var nt=3359;var rt=3871;var at=10783;var it=11039;var st=11295;var ot=12319;var ut=12831;var ft=13087;var ct=13343;var vt=Object.freeze({__proto__:null,correctTime2000:Y,dataSegment:Z,getArchiveDays:H,getArchiveDaysMc:X,getArchiveEvents:G,getArchiveHours:F,getArchiveHoursMc:K,getArchiveHoursMcEx:ot,getBatteryStatus:J,getChannelsStatus:ut,getChannelsTypes:ft,getCurrent:W,getCurrentMc:q,getExAbsArchiveDaysMc:nt,getExAbsArchiveHoursMc:et,getExAbsCurrentMc:rt,getLmicInfo:$,getParameter:k,getSignalQuality:ct,getStatus:z,getTime2000:j,setParameter:R,setTime2000:P,softRestart:Q,updateRun:st,usWaterMeterCommand:tt,verifyImage:it,writeImage:at});var ht=function(t){var e={};for(var n in t){var r=t[n];e[r]=n}return e};ht(vt);var lt=Y;var gt=2;var dt=function(t){var e=t.sequenceNumber,n=t.seconds;var r=new B(gt,false);r.setUint8(e);r.setInt8(n);return x(lt,r.data)};var pt=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=0;for(var r in e){if(r in t&&e[r]){n|=t[r]}}return n};var Ut=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n={};for(var r in t){n[r]=(e&t[r])!==0}return n};var mt=function(t,e,n){return(1<<e)-1&t>>n-1};var Et=function(t,e,n,r){var a=(1<<e)-1<<n-1;var i=r;var s=t;s&=~a;i<<=n-1;s|=i;return s};var Tt=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=Object.assign({},f,e),r=n.separator,a=n.prefix;return t.map(function(t){return"".concat(a).concat(t.toString(16).padStart(2,"0"))}).join(r)};var yt=function(t){var e=t.trim();if(!e){return[]}e=e.replace(/0x/g,"").split(/\s+/).map(function(t){return t.padStart(2,"0")}).join("");if(e.length%2!==0){e="0".concat(e)}var n=e.length/2;var r=new Array(n);for(var a=0;a<n;a++){r[a]=parseInt(e.substring(a*2,a*2+2),16)}return r};var Ct=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;var n=Math.pow(10,e);return Math.round(t*n*(1+Number.EPSILON))/n};var wt=9466848e5;var It=1e3;var St=function(t){return new Date(wt+t*It)};var _t=function(t){return(t.getTime()-wt)/It};var Lt=1;var At=2;var Mt=3;var bt=4;var Nt=5;var Ot=6;var Bt=7;var Dt=8;var Vt=9;var xt=10;var Pt=11;var Rt=12;var kt=13;var Ft=24;var Ht=1;var Wt=4;var jt=5;var Gt=8;var Yt=9;var zt=10;var qt=11;var Qt=13;var Kt=18;var Xt=23;var Zt=24;var $t=25;var Jt=26;var te=28;var ee=29;var ne=30;var re=31;var ae=32;var ie=33;var se=34;var oe=35;var ue=36;var fe=37;var ce=38;var ve=39;var he=40;var le=41;var ge=42;var de=43;var pe=44;var Ue=45;var me=46;var Ee=47;var Te=48;var ye=49;var Ce=50;var we=51;var Ie=52;var Se=53;var _e=54;var Le=55;var Ae=56;var Me=57;var be=58;var Ne=59;var Oe=60;var Be=61;var De=Object.freeze({__proto__:null,ABSOLUTE_DATA:Xt,ABSOLUTE_DATA_ENABLE:Zt,ABSOLUTE_DATA_ENABLE_MULTI_CHANNEL:ne,ABSOLUTE_DATA_MULTI_CHANNEL:ee,ACTIVATE_MODULE:Be,ACTIVATION_METHOD:Yt,BATTERY_DEPASSIVATION_CONFIG:ie,BATTERY_DEPASSIVATION_INFO:zt,BATTERY_MINIMAL_LOAD_TIME:qt,CHANNELS_CONFIG:Qt,CHANNEL_TYPE:Ae,DAY_CHECKOUT_HOUR:Wt,EVENTS_CONFIG:Ce,EXTRA_FRAME_INTERVAL:te,EXTRA_PAYLOAD_ENABLE:Me,GEOLOCATION:Jt,KEEP_LORA_CONNECTION_ON_REMOVAL:Ne,MQTT_BROKER_ADDRESS:oe,MQTT_DATA_RECEIVE_CONFIG:ce,MQTT_DATA_SEND_CONFIG:ve,MQTT_SESSION_CONFIG:se,MQTT_SSL_ENABLE:ue,MQTT_TOPIC_PREFIX:fe,NBIOT_APN:Se,NBIOT_BANDS:Ie,NBIOT_DEVICE_SOFTWARE_UPDATE:Ee,NBIOT_LED_INDICATION:_e,NBIOT_MODULE_FIRMWARE_UPDATE:Te,NBIOT_MODULE_INFO:we,NBIOT_NTP_SERVER:Oe,NBIOT_SIM:Le,NBIOT_SSL_CACERT_SET:ge,NBIOT_SSL_CACERT_WRITE:le,NBIOT_SSL_CLIENT_CERT_SET:pe,NBIOT_SSL_CLIENT_CERT_WRITE:de,NBIOT_SSL_CLIENT_KEY_SET:me,NBIOT_SSL_CLIENT_KEY_WRITE:Ue,NBIOT_SSL_CONFIG:he,PRIORITY_DATA_DELIVERY_TYPE:Gt,PULSE_CHANNELS_SCAN_CONFIG:re,PULSE_CHANNELS_SET_CONFIG:ae,REPORTING_DATA_CONFIG:ye,REPORTING_DATA_INTERVAL:Ht,REPORTING_DATA_TYPE:jt,RX2_CONFIG:Kt,SERIAL_NUMBER:$t,TIME_SYNCHRONIZATION_PERIOD_VIA_MAC:be});var Ve=ht(De);var xe=4294967295;var Pe=0;var Re=1;var ke=2;var Fe=3;var He=4;var We=0;var je=1;var Ge=2;var Ye=3;var ze=4;var qe=5;var Qe=6;var Ke=Object.freeze({__proto__:null,SF10B125:Ge,SF11B125:je,SF12B125:We,SF7B125:qe,SF7B250:Qe,SF8B125:ze,SF9B125:Ye});var Xe=ht(Ke);var Ze,$e;var Je=2e3;var tn=4;var en=5;var nn=1;var rn=4095;var an=128;var sn=7;var on=600;var un=100;var fn=6;var cn=8;var vn=2+4;var hn=2;var ln=[At,Mt,Lt,Rt,Ft];var gn=[Dt,Nt,Vt,bt];var dn=[Pt];var pn=[Ot,xt];var Un=[Bt];var mn={isBatteryLow:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isButtonReleased:Math.pow(2,2),isConnectionLost:Math.pow(2,3)};var En={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5)};var Tn={isConnectionLost:Math.pow(2,3)};var yn={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5),isThirdChannelInactive:Math.pow(2,6),isForthChannelInactive:Math.pow(2,8)};var Cn={isMeterCaseOpen:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isParametersSetRemotely:Math.pow(2,2),isParametersSetLocally:Math.pow(2,3),isMeterProgramRestarted:Math.pow(2,4),isLockedOut:Math.pow(2,5),isTimeSet:Math.pow(2,6),isTimeCorrected:Math.pow(2,7),isMeterFailure:Math.pow(2,8),isMeterTerminalBoxOpen:Math.pow(2,9),isModuleCompartmentOpen:Math.pow(2,10),isTariffPlanChanged:Math.pow(2,11),isNewTariffPlanReceived:Math.pow(2,12)};var wn={transportMode:1,frequencyOutput:2,reverseFlow:4,tamperBreak:8,leakage:16,pipeBreak:32,pipeEmpty:64,batteryDischarge:128};var In=function(t){var e=t.type;var n=1;switch(e){case Pe:case Re:case ke:break;case Fe:n+=2;break;case He:n+=5;break}return n};var Sn=(Ze={},n(n(n(n(n(n(n(n(n(n(Ze,Ht,1+4),Wt,1+1),jt,1+1),Gt,1+1),Yt,1+1),zt,1+6),qt,1+4),Qt,1+1),Kt,1+4),Xt,1+9),n(n(n(n(n(n(n(n(n(n(Ze,Zt,1+1),$t,1+6),Jt,1+10),te,1+2),ee,1+10),ne,1+2),re,1+3),ae,1+1),ie,1+4),ue,1+1),n(n(n(n(n(n(n(n(n(n(Ze,ce,1+3),ve,1+3),he,1+2),ge,1+4),pe,1+4),me,1+4),ye,1+4),Ce,1+3),_e,1+2),Le,1+3),n(n(n(n(Ze,Me,1+1),be,1+4),Ne,1+1),Be,1+1));var _n={channel1:Math.pow(2,0),channel2:Math.pow(2,1),channel3:Math.pow(2,2),channel4:Math.pow(2,3)};var Ln=function(t){var e=Ut(_n,t);return{channel1:e.channel1,channel2:e.channel2,channel3:e.channel3,channel4:e.channel4}};var An=function(t){var e=t.channel1,n=t.channel2,r=t.channel3,a=t.channel4;return pt(_n,{channel1:e,channel2:n,channel3:r,channel4:a})};var Mn=function(t){return Ln(t.getUint8())};var bn=function(t,e){return t.setUint8(An(e))};var Nn={128:1,129:5,130:10,131:100,132:1e3,133:1e4,134:1e5};var On=ht(Nn);var Bn=function(t){return!!(t&128)};var Dn=function(t){return{size:t.getUint16(),position:t.getUint16(),chunk:t.getBytesLeft()}};var Vn=function(t,e){if(e.size!==e.chunk.length){throw new Error("ssl chunk size parameter doesn't match actual ssl chunk size")}t.setUint16(e.size);t.setUint16(e.position);t.setBytes(e.chunk)};var xn=function(t){return{crc32:t.getUint32()}};var Pn=function(t,e){t.setUint32(e.crc32)};var Rn=($e={},n(n(n(n(n(n(n(n(n(n($e,Ht,{get:function(t){return{specialSchedulePeriod:t.getUint8()*on,firstDaysSpecialSchedule:t.getUint8(),lastDaysSpecialSchedule:t.getUint8(),period:t.getUint8()*on}},set:function(t,e){t.setUint8(e.specialSchedulePeriod/on);t.setUint8(e.firstDaysSpecialSchedule);t.setUint8(e.lastDaysSpecialSchedule);t.setUint8(e.period/on)}}),Wt,{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}}),jt,{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}}),Gt,{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}}),Yt,{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}}),zt,{get:function(t){return{loadTime:t.getUint16(),internalResistance:t.getUint16(),lowVoltage:t.getUint16()}},set:function(t,e){t.setUint16(e.loadTime);t.setUint16(e.internalResistance);t.setUint16(e.lowVoltage)}}),qt,{get:function(t){return{value:t.getUint32()}},set:function(t,e){t.setUint32(e.value)}}),Qt,{get:function(t){return{value:t.getUint8()}},set:function(t,e){if(e.value<0||e.value>18){throw new Error("channels config must be between 0-18")}t.setUint8(e.value)}}),Kt,{get:function(t){var e=t.getUint8();var n=Xe[e];var r=t.getUint24()*un;return{spreadFactor:e,spreadFactorName:n,frequency:r}},set:function(t,e){t.setUint8(e.spreadFactor);t.setUint24(e.frequency/un)}}),Xt,{get:function(t){return{meterValue:t.getUint32(),pulseCoefficient:t.getPulseCoefficient(),value:t.getUint32()}},set:function(t,e){t.setUint32(e.meterValue);t.setPulseCoefficient(e.pulseCoefficient);t.setUint32(e.value)}}),n(n(n(n(n(n(n(n(n(n($e,Zt,{get:function(t){return{state:t.getUint8()}},set:function(t,e){t.setUint8(e.state)}}),$t,{get:function(t){return{value:Tt(t.getBytes(fn))}},set:function(t,e){yt(e.value).forEach(function(e){return t.setUint8(e)})}}),Jt,{get:function(t){return{latitude:Ct(t.getFloat32()),longitude:Ct(t.getFloat32()),altitude:Ct(t.getUint16())}},set:function(t,e){t.setFloat32(Ct(e.latitude));t.setFloat32(Ct(e.longitude));t.setUint16(Ct(e.altitude))}}),te,{get:function(t){return{value:t.getUint16()}},set:function(t,e){t.setUint16(e.value)}}),ee,{get:function(t){return{channel:t.getChannelValue(),meterValue:t.getUint32(),pulseCoefficient:t.getPulseCoefficient(),value:t.getUint32()}},set:function(t,e){t.setChannelValue(e.channel);t.setUint32(e.meterValue);t.setPulseCoefficient(e.pulseCoefficient);t.setUint32(e.value)}}),ne,{get:function(t){return{channel:t.getChannelValue(),state:t.getUint8()}},set:function(t,e){t.setChannelValue(e.channel);t.setUint8(e.state)}}),re,{get:function(t){return{channelList:t.getChannels(),pullUpTime:t.getUint8(),scanTime:t.getUint8()}},set:function(t,e){if(e.pullUpTime<17){throw new Error("minimal value for pullUpTime - 17")}if(e.scanTime<15){throw new Error("minimal value for scanTime - 15")}t.setChannels(e.channelList.map(function(t){return{index:t}}));t.setUint8(e.pullUpTime);t.setUint8(e.scanTime)}}),ae,{get:Mn,set:bn}),ie,{get:function(t){return{resistanceStartThreshold:t.getUint16(),resistanceStopThreshold:t.getUint16()}},set:function(t,e){t.setUint16(e.resistanceStartThreshold);t.setUint16(e.resistanceStopThreshold)}}),se,{get:function(t){return{clientId:t.getString(),username:t.getString(),password:t.getString(),cleanSession:t.getUint8()}},set:function(t,e){t.setString(e.clientId);t.setString(e.username);t.setString(e.password);t.setUint8(e.cleanSession)}}),n(n(n(n(n(n(n(n(n(n($e,oe,{get:function(t){return{hostName:t.getString(),port:t.getUint16()}},set:function(t,e){t.setString(e.hostName);t.setUint16(e.port)}}),ue,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}),fe,{get:function(t){return{topicPrefix:t.getString()}},set:function(t,e){t.setString(e.topicPrefix)}}),ce,{get:function(t){return{qos:t.getUint8(),count:t.getUint8(),timeout:t.getUint8()}},set:function(t,e){t.setUint8(e.qos);t.setUint8(e.count);t.setUint8(e.timeout)}}),ve,{get:function(t){return{qos:t.getUint8(),retain:t.getUint8(),newestSendFirst:t.getUint8()}},set:function(t,e){t.setUint8(e.qos);t.setUint8(e.retain);t.setUint8(e.newestSendFirst)}}),he,{get:function(t){return{securityLevel:t.getUint8(),version:t.getUint8()}},set:function(t,e){t.setUint8(e.securityLevel);t.setUint8(e.version)}}),le,{get:Dn,set:Vn}),ge,{get:xn,set:Pn}),de,{get:Dn,set:Vn}),pe,{get:xn,set:Pn}),n(n(n(n(n(n(n(n(n(n($e,Ue,{get:Dn,set:Vn}),me,{get:xn,set:Pn}),Ee,{get:function(t){return{softwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.softwareImageUrl)}}),Te,{get:function(t){return{moduleFirmwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.moduleFirmwareImageUrl)}}),ye,{get:function(t){return{dataType:t.getUint8(),hour:t.getUint8(),minutes:t.getUint8(),countToSend:t.getUint8()}},set:function(t,e){t.setUint8(e.dataType);t.setUint8(e.hour);t.setUint8(e.minutes);t.setUint8(e.countToSend)}}),Ce,{get:function(t){return{eventId:t.getUint8(),sendEvent:t.getUint8(),saveEvent:t.getUint8()}},set:function(t,e){t.setUint8(e.eventId);t.setUint8(e.sendEvent);t.setUint8(e.saveEvent)}}),we,{get:function(t){return{moduleInfo:t.getString()}},set:function(t,e){t.setString(e.moduleInfo)}}),Ie,{get:function(t){var e=t.getUint8();var n=[];for(var r=0;r<e;r++){n.push(t.getUint8())}return{bands:n}},set:function(t,e){t.setUint8(e.bands.length);for(var n of e.bands){t.setUint8(n)}}}),Se,{get:function(t){return{apn:t.getString()}},set:function(t,e){t.setString(e.apn)}}),_e,{get:function(t){return{enableLed:t.getUint8(),enableNbiotNetworkLed:t.getUint8()}},set:function(t,e){t.setUint8(e.enableLed);t.setUint8(e.enableNbiotNetworkLed)}}),n(n(n(n(n(n(n($e,Le,{get:function(t){return{enable:t.getUint8(),pin:t.getUint16()}},set:function(t,e){t.setUint8(e.enable);t.setUint16(e.pin)}}),Ae,{get:function(t){return t.getChannelType()},set:function(t,e){return t.setChannelType(e)}}),Me,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}),be,{get:function(t){return{period:t.getUint32()}},set:function(t,e){t.setUint32(e.period)}}),Ne,{get:function(t){return{value:t.getUint8()!==0}},set:function(t,e){t.setUint8(e.value?1:0)}}),Oe,{get:function(t){return{server:t.getString(),port:t.getUint16()}},set:function(t,e){t.setString(e.server);t.setUint16(e.port)}}),Be,{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}}));var kn=function(t){var e;var n;switch(t.id){case se:n=t.data;e=1+1;e+=n.clientId.length+1;e+=n.username.length+1;e+=n.password.length+1;break;case oe:n=t.data;e=1+2;e+=n.hostName.length+1;break;case fe:n=t.data;e=1;e+=n.topicPrefix.length+1;break;case le:case de:case Ue:n=t.data;e=1+2+2;e+=n.chunk.length;break;case Ee:n=t.data;e=1;e+=n.softwareImageUrl.length+1;break;case Te:n=t.data;e=1;e+=n.moduleFirmwareImageUrl.length+1;break;case we:n=t.data;e=1+1+n.moduleInfo.length;break;case Ie:n=t.data;e=1+1;e+=n.bands.length;break;case Se:n=t.data;e=1+1+n.apn.length;break;case Ae:n=t.data;e=1+In(n);break;case Oe:n=t.data;e=1+1+n.server.length+2;break;default:e=Sn[t.id]}if(e===undefined){throw new Error("unknown parameter id")}return e};var Fn=function(t){var e;switch(t.id){case ee:case ne:case ye:case Ce:case Ae:e=2;break;default:e=1;break}return e};function Hn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;B.call(this,t,e)}Hn.prototype=Object.create(B.prototype);Hn.prototype.constructor=Hn;Hn.getMagneticInfluenceBit=function(t){return!!mt(t,1,cn)};Hn.setMagneticInfluenceBit=function(t,e){return Et(t,1,cn,+e)};Hn.getLegacyHourCounterSize=function(t){return vn+t.diff.length*hn};Hn.prototype.getExtendedValue=function(){var t=0;var e=true;var n=0;while(e&&this.offset<=this.data.length){var r=this.getUint8();e=!!(r&an);t+=(r&127)<<7*n>>>0;++n}return t};Hn.prototype.setExtendedValue=function(t){var e=this;if(t===0){this.setUint8(0);return}var n=[];var r=t;while(r){n.push(an|r&127);r>>>=7}var a=n.pop();if(a){n.push(a&127)}n.forEach(function(t){return e.setUint8(t)})};Hn.prototype.getExtendedValueSize=function(t){var e=Math.ceil(t/7);var n=t+e;var r=Math.ceil(n/8);return r};Hn.prototype.getTime=function(){return this.getUint32()};Hn.prototype.setTime=function(t){this.setUint32(t)};Hn.prototype.getBatteryVoltage=function(){var t=this.getUint8();var e=this.getUint8();var n=this.getUint8();var r=t<<4;r|=(e&240)>>4;var a=(e&15)<<8|n;if(a===rn){a=undefined}if(r===rn){r=undefined}return{underLowLoad:r,underHighLoad:a}};Hn.prototype.setBatteryVoltage=function(t){var e=this;var n=t.underLowLoad,r=t.underHighLoad;if(n===undefined){n=rn}if(r===undefined){r=rn}var a=n>>4&255;var i=(n&15)<<4|r>>8&15;var s=r&255;[a,i,s].forEach(function(t){return e.setUint8(t)})};Hn.prototype.getLegacyCounterValue=function(){return this.getUint24()};Hn.prototype.setLegacyCounterValue=function(t){this.setUint24(t)};Hn.prototype.getLegacyCounter=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getUint8();var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=this.getLegacyCounterValue();return{isMagneticInfluence:Hn.getMagneticInfluenceBit(t),value:e&&n===xe?0:n}};Hn.prototype.setLegacyCounter=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this.setUint8(Hn.setMagneticInfluenceBit(e,t.isMagneticInfluence));this.setLegacyCounterValue(n&&t.value===0?xe:t.value)};Hn.prototype.getChannels=function(){var t=[];var e=true;var n=1;while(e){var r=this.getUint8();var a=r.toString(2).padStart(sn+1,"0").split("").reverse();a.forEach(function(r,a){var i=Number(r);if(a===sn){e=!!i}else{if(i){t.push(n)}++n}})}return t};Hn.prototype.setChannels=function(t){var e=this;if(t.length===0){this.setUint8(0);return}t.sort(function(t,e){return t.index-e.index});var n=Math.max.apply(Math,i(t.map(function(t){var e=t.index;return e})));var r=(n-n%8)/8;var a=new Array(r+1).fill(0);var s=0;a.forEach(function(e,n){var r=n*sn+1;var i=r+sn;while(r<i){var o=t.find(function(t){return t.index===r});if(o!==undefined){s|=1<<(o.index-1)%sn}++r}if(a[n+1]!==undefined){s|=1<<sn}a[n]=s;s=0});a.forEach(function(t){return e.setUint8(t)})};Hn.prototype.getChannelValue=function(){return this.getUint8()+1};Hn.prototype.setChannelValue=function(t){if(t<1){throw new Error("channel must be 1 or greater")}this.setUint8(t-1)};Hn.prototype.getChannelsValuesWithHourDiff=function(){var t=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var n=this.getDate();var r=this.getHours(),a=r.hour,i=r.hours;var s=this.getChannels();var o=[];n.setUTCHours(a);s.forEach(function(n){var r=[];var a=t.getExtendedValue();for(var s=1;s<i;++s){r.push(t.getExtendedValue())}o.push({value:a===e&&xe?0:a,diff:r,index:n})});return{startTime2000:_t(n),hours:i,channelList:o}};Hn.prototype.setChannelsValuesWithHourDiff=function(t,e,n){var r=this;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=St(e);var s=i.getUTCHours();this.setDate(i);this.setHours(s,t);this.setChannels(n);n.forEach(function(t){var e=t.value,n=t.diff;r.setExtendedValue(a&&e===0?xe:e);n.forEach(function(t){return r.setExtendedValue(t)})})};Hn.prototype.getHours=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getUint8();if(t===0){return{hours:0,hour:0}}var e=((t&224)>>5)+1;var n=t&31;return{hours:e,hour:n}};Hn.prototype.setHours=function(t,e){if(t===0&&e===0){this.setUint8(0);return}this.setUint8((e-1&7)<<5|t&31)};Hn.prototype.getDate=function(){var t=this.getUint8();var e=this.getUint8();var n=t>>nn;var r=(t&1)<<tn-nn|e>>en;var a=e&31;return new Date(Date.UTC(n+Je,r-1,a,0,0,0,0))};Hn.prototype.setDate=function(t){var e=this;var n;if(t instanceof Date){n=t}else{n=St(t)}var r=n.getUTCFullYear()-Je;var a=n.getUTCMonth()+1;var i=n.getUTCDate();var s=r<<nn|a>>tn-nn;var o=(a&7)<<en|i;[s,o].forEach(function(t){return e.setUint8(t)})};Hn.prototype.getPulseCoefficient=function(){var t=this.getUint8();if(Bn(t)){var e=Nn[t];if(e){return e}throw new Error("pulseCoefficient MSB is set, but value unknown")}return t};Hn.prototype.setPulseCoefficient=function(t){if(t in On){var e=On[t];if(e){this.setUint8(e)}else{throw new Error("pulseCoefficient MSB is set, but value unknown")}}else{this.setUint8(t)}};Hn.prototype.getChannelsWithAbsoluteValues=function(){var t=this;var e=this.getChannels();var n=[];e.forEach(function(e){n.push({pulseCoefficient:t.getPulseCoefficient(),value:t.getExtendedValue(),index:e})});return n};Hn.prototype.setChannelsWithAbsoluteValues=function(t){var e=this;this.setChannels(t);t.forEach(function(t){var n=t.value,r=t.pulseCoefficient;e.setPulseCoefficient(r);e.setExtendedValue(n)})};Hn.prototype.getChannelsAbsoluteValuesWithHourDiff=function(t){var e=this;var n=this.getChannels();var r=[];n.forEach(function(n){var a=e.getPulseCoefficient();var i=e.getExtendedValue();var s=[];for(var o=1;o<t;++o){s.push(e.getExtendedValue())}r.push({diff:s,value:i,pulseCoefficient:a,index:n})});return r};Hn.prototype.setChannelsAbsoluteValuesWithHourDiff=function(t){var e=this;this.setChannels(t);t.forEach(function(t){var n=t.value,r=t.diff,a=t.pulseCoefficient;e.setPulseCoefficient(a);e.setExtendedValue(n);r.forEach(function(t){return e.setExtendedValue(t)})})};Hn.prototype.getEventStatus=function(t){var e;if(ln.indexOf(t)!==-1){e=Ut(mn,this.getUint8())}else if(gn.indexOf(t)!==-1){e=Ut(En,this.getUint8())}else if(dn.indexOf(t)!==-1){e=Ut(Tn,this.getUint8())}else if(pn.indexOf(t)!==-1){e=Ut(yn,this.getUint16(true))}else if(Un.indexOf(t)!==-1){e=Ut(Cn,this.getUint16(true))}else if(t===kt){var n=Ut(wn,this.getUint8());e={event:n,error:this.getUint8()}}else{throw new Error("wrong hardwareType")}return e};Hn.prototype.setEventStatus=function(t,e){if(ln.indexOf(t)!==-1){this.setUint8(pt(mn,e))}else if(gn.indexOf(t)!==-1){this.setUint8(pt(En,e))}else if(dn.indexOf(t)!==-1){this.setUint8(pt(Tn,e))}else if(pn.indexOf(t)!==-1){this.setUint16(pt(yn,e)|1<<7,true)}else if(Un.indexOf(t)!==-1){this.setUint16(pt(Cn,e),true)}else if(t===kt){var n=e;this.setUint8(pt(wn,n.event));this.setUint8(n.error)}else{throw new Error("wrong hardwareType")}};Hn.prototype.getParameter=function(){var t=this.getUint8();var e=Ve[t];if(!Rn[t]||!Rn[t].get){throw new Error("parameter ".concat(t," is not supported"))}var n=Rn[t].get(this);return{id:t,name:e,data:n}};Hn.prototype.setParameter=function(t){var e=t.id,n=t.data;if(!Rn[e]||!Rn[e].set){throw new Error("parameter ".concat(e," is not supported"))}this.setUint8(e);Rn[e].set(this,n)};Hn.prototype.getRequestParameter=function(){var t=this.getUint8();var e=Ve[t];var n=null;switch(t){case ne:case ee:case Ae:n={channel:this.getChannelValue()};break;case ye:n={dataType:this.getUint8()};break;case Ce:n={eventId:this.getUint8()};break}return{id:t,name:e,data:n}};Hn.prototype.setRequestParameter=function(t){var e=t.id,n=t.data;var r;this.setUint8(e);switch(e){case ee:case ne:case Ae:r=n;this.setChannelValue(r.channel);break;case ye:r=n;this.setUint8(r.dataType);break;case Ce:r=n;this.setUint8(r.eventId);break}};Hn.prototype.getResponseParameter=function(){var t=this.getUint8();var e=Ve[t];var n;if(!Rn[t]||!Rn[t].get){throw new Error("parameter ".concat(t," is not supported"))}switch(t){case se:case le:case de:case Ue:case ge:case pe:case me:case Ee:case Te:n=null;break;default:n=Rn[t].get(this)}return{id:t,name:e,data:n}};Hn.prototype.setResponseParameter=function(t){var e=t.id,n=t.data;if(!Rn[e]||!Rn[e].set){throw new Error("parameter ".concat(e," is not supported"))}this.setUint8(e);switch(e){case se:case le:case de:case Ue:case ge:case pe:case me:case Ee:case Te:break;default:Rn[e].set(this,n)}};Hn.prototype.getLegacyHourDiff=function(){var t=this.getUint8();var e=this.getUint8();return{isMagneticInfluence:Hn.getMagneticInfluenceBit(t),value:(t&31)<<8|e}};Hn.prototype.setLegacyHourDiff=function(t){var e=this;var n=[t.value>>8,t.value&255];n[0]=Hn.setMagneticInfluenceBit(n[0],t.isMagneticInfluence);n.forEach(function(t){return e.setUint8(t)})};Hn.prototype.getLegacyHourCounterWithDiff=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this.getDate();var n=this.getUint8();var r=this.getHours(n),a=r.hour;var i=this.getLegacyCounterValue();var s={isMagneticInfluence:Hn.getMagneticInfluenceBit(n),value:t&&i===xe?0:i};var o=[];while(this.offset<this.data.length){o.push(this.getLegacyHourDiff())}e.setUTCHours(a);return{startTime2000:_t(e),counter:s,diff:o}};Hn.prototype.setLegacyHourCounterWithDiff=function(t){var e=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=St(t.startTime2000);var a=r.getUTCHours();var i=t.counter.value;this.setDate(r);this.setHours(a,1);this.seek(this.offset-1);var s=this.getUint8();this.seek(this.offset-1);this.setUint8(Hn.setMagneticInfluenceBit(s,t.counter.isMagneticInfluence));this.setLegacyCounterValue(n&&i===0?xe:i);t.diff.forEach(function(t){return e.setLegacyHourDiff(t)})};Hn.prototype.getChannelsValuesWithHourDiffExtended=function(){var t=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var n=this.getDate();var r=this.getUint8();var a=this.getUint8();var i=this.getChannels();var s=[];n.setUTCHours(r);i.forEach(function(n){var r=[];var i=t.getExtendedValue();for(var o=0;o<a;++o){r.push(t.getExtendedValue())}s.push({value:i===e&&xe?0:i,diff:r,index:n})});return{startTime2000:_t(n),hour:r,hours:a,channelList:s}};Hn.prototype.setChannelsValuesWithHourDiffExtended=function(t){var e=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=St(t.startTime2000);this.setDate(r);this.setUint8(t.hour);this.setUint8(t.hours);this.setChannels(t.channelList);t.channelList.forEach(function(t){var r=t.value,a=t.diff;e.setExtendedValue(n&&r===0?xe:r);a.forEach(function(t){return e.setExtendedValue(t)})})};Hn.prototype.getDataSegment=function(){var t=this.getUint8();var e=this.getUint8();return{segmentationSessionId:t,segmentIndex:mt(e,3,1),segmentsNumber:mt(e,3,5),isLast:Boolean(mt(e,1,8)),data:this.getBytesLeft()}};Hn.prototype.setDataSegment=function(t){var e=Et(0,3,1,t.segmentIndex);e=Et(e,3,5,t.segmentsNumber);e=Et(e,1,8,+t.isLast);this.setUint8(t.segmentationSessionId);this.setUint8(e);this.setBytes(t.data)};Hn.prototype.getBinarySensor=function(){var t=this.getUint16();return{activeStateTimeMs:t}};Hn.prototype.setBinarySensor=function(t){this.setUint16(t.activeStateTimeMs)};Hn.prototype.getTemperatureSensor=function(){var t=this.getUint16();var e=this.getUint8();var n=this.getInt8();var r=this.getInt8();return{measurementPeriod:t,hysteresisSec:e,highTemperatureThreshold:n,lowTemperatureThreshold:r}};Hn.prototype.setTemperatureSensor=function(t){this.setInt16(t.measurementPeriod);this.setInt8(t.hysteresisSec);this.setInt8(t.highTemperatureThreshold);this.setInt8(t.lowTemperatureThreshold)};Hn.prototype.getChannelType=function(){var t=this.getChannelValue();var e=this.getUint8();var n={};switch(e){case Fe:n=this.getBinarySensor();break;case He:n=this.getTemperatureSensor();break}return{channel:t,type:e,parameters:n}};Hn.prototype.setChannelType=function(t){var e=t.type,n=t.channel,r=t.parameters;this.setChannelValue(n);this.setUint8(e);switch(e){case Fe:this.setBinarySensor(r);break;case He:this.setTemperatureSensor(r);break}};var Wn=function(t){return btoa(t.map(function(t){return String.fromCharCode(t)}).join(""))};var jn=Z;var Gn=2;var Yn=function(t){var e=new Hn(Gn+t.data.length);e.setDataSegment(t);return x(jn,e.data)};var zn=H;var qn=3;var Qn=function(t){var e=new Hn(qn);var n=t.startTime2000,r=t.days;var a=St(n);e.setDate(a);e.setUint8(r);return x(zn,e.data)};var Kn=X;var Xn=4;var Zn=function(t){var e=new Hn(Xn);var n=t.startTime2000,r=t.days,a=t.channelList;var i=St(n);e.setDate(i);e.setChannels(a.map(function(t){return{index:t}}));e.setUint8(r);return x(Kn,e.data)};var $n=G;var Jn=5;var tr=function(t){var e=t.startTime2000,n=t.events;var r=new Hn(Jn);r.setTime(e);r.setUint8(n);return x($n,r.data)};var er=F;var nr=4;var rr=function(t){var e=t.startTime2000,n=t.hours;var r=new Hn(nr);var a=St(e);var i=a.getUTCHours();r.setDate(a);r.setHours(i,1);r.setUint8(n);return x(er,r.data)};var ar=K;var ir=4;var sr=function(t){var e=new Hn(ir);var n=t.hours,r=t.startTime2000,a=t.channelList;var i=St(r);var s=i.getUTCHours();e.setDate(i);e.setHours(s,n);e.setChannels(a.map(function(t){return{index:t}}));return x(ar,e.data)};var or=ot;var ur=5;var fr=function(t){var e=new Hn(ur);var n=t.channelList,r=t.hour,a=t.hours,i=t.startTime2000;var s=St(i);e.setDate(s);e.setUint8(r);e.setUint8(a);e.setChannels(n.map(function(t){return{index:t}}));return x(or,e.data)};var cr=J;var vr=function(){return x(cr)};var hr=ut;var lr=function(t){return x(hr,Object.keys(t).length!==0?[An(t)]:[])};var gr=ft;var dr=function(){return x(gr)};var pr=W;var Ur=function(){return x(pr)};var mr=q;var Er=function(){return x(mr)};var Tr=nt;var yr=4;var Cr=function(t){var e=new Hn(yr);var n=t.startTime2000,r=t.days,a=t.channelList;e.setDate(n);e.setChannels(a.map(function(t){return{index:t}}));e.setUint8(r);return x(Tr,e.data)};var wr=et;var Ir=4;var Sr=function(t){var e=new Hn(Ir);var n=t.startTime2000,r=t.hours,a=t.channelList;var i=St(n);var s=i.getUTCHours();e.setDate(i);e.setHours(s,r);e.setChannels(a.map(function(t){return{index:t}}));return x(wr,e.data)};var _r=rt;var Lr=function(){return x(_r)};var Ar=$;var Mr=function(){return x(Ar)};var br=k;var Nr=function(t){var e=new Hn(Fn(t));e.setRequestParameter(t);return x(br,e.data)};var Or=ct;var Br=function(){return x(Or,[])};var Dr=z;var Vr=function(){return x(Dr)};var xr=j;var Pr=function(){return x(xr,[])};var Rr=R;var kr=function(t){var e=new Hn(kn(t));e.setParameter(t);return x(Rr,e.data)};var Fr=P;var Hr=5;var Wr=function(t){var e=t.sequenceNumber,n=t.seconds;var r=new B(Hr,false);r.setUint8(e);r.setInt32(n);return x(Fr,r.data)};var jr=Q;var Gr=function(){return x(jr)};var Yr=st;var zr=function(){return x(Yr)};var qr=tt;var Qr=function(t){var e=t.data,n=t.length;var r=new Hn(n);r.setUint8(n);r.setBytes(e);return x(qr,r.data)};var Kr=it;var Xr=function(){return x(Kr)};var Zr=at;var $r=4;var Jr=function(t){var e=new Hn($r);e.setUint32(t.offset);e.setBytes(t.data);return x(Zr,e.data)};var ta=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var n=e;t.forEach(function(t){n^=t});return n};var ea=function(t){return function(e){var n;var r=e.map(function(e){if("id"in e){return t[e.id](e.parameters||{},e.config)}if("command"in e){return e.command.bytes}throw new Error("wrong command format")});var a=(n=[]).concat.apply(n,i(r));return[].concat(i(a),[ta(a)])}};var na={};var ra=ea(na);na[lt]=dt;na[jn]=Yn;na[zn]=Qn;na[Kn]=Zn;na[$n]=tr;na[er]=rr;na[ar]=sr;na[or]=fr;na[cr]=vr;na[hr]=lr;na[gr]=dr;na[pr]=Ur;na[mr]=Er;na[Tr]=Cr;na[wr]=Sr;na[_r]=Lr;na[Ar]=Mr;na[br]=Nr;na[Or]=Br;na[Dr]=Vr;na[xr]=Pr;na[Rr]=kr;na[Fr]=Wr;na[jr]=Gr;na[Yr]=zr;na[qr]=Qr;na[Kr]=Xr;na[Zr]=Jr;getBase64FromBytes=Wn;toBytes=ra})();
//#endregion


/*
  Incoming arguments:
    * msg - JSON message payload downlink message json
    * msgType - type of message, for ex. 'ATTRIBUTES_UPDATED', 'POST_TELEMETRY_REQUEST', etc.
    * metadata - list of key-value pairs with additional data about the message
    * integrationMetadata - list of key-value pairs with additional data defined in Integration executing this converter

  Output must be an object with the following fields:
    * contentType - BINARY
    * data - payload in base64
*/

var result = {
    contentType: 'BINARY',
    data: getBase64FromBytes(toBytes(msg.commands, config))
};

return result;
