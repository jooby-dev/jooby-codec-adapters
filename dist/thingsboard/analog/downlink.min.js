// these options can be edited
// available hardware types can be found here:
// https://github.com/jooby-dev/jooby-docs/blob/main/docs/analog/basics.md#hardware-types
var config = {
    hardwareType: 0
};


//#region [autogenerated jooby-codec bundle]
var toBytes,getBase64FromBytes;(function(){"use strict";function t(t){return e(t)||n(t)||r(t)||a()}function e(t){if(Array.isArray(t))return i(t)}function n(t){if(typeof Symbol!=="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r(t,e){if(!t)return;if(typeof t==="string")return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor)n=t.constructor.name;if(n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}function i(t,e){if(e==null||e>t.length)e=t.length;for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s={separator:" ",prefix:""};var o=1;var u=2;var f=3;var c=4;var v=Math.log,h=Math.pow,l=Math.LN2;var g=function(t,e,n,r,i){var a,s,o=i*8-r-1,u=(1<<o)-1,f=u>>1,c=-7,v=n?i-1:0,l=n?-1:1,g=t[e+v];v+=l;a=g&(1<<-c)-1;g>>=-c;c+=o;for(;c>0;a=a*256+t[e+v],v+=l,c-=8);s=a&(1<<-c)-1;a>>=-c;c+=r;for(;c>0;s=s*256+t[e+v],v+=l,c-=8);if(a===0){a=1-f}else if(a===u){return s?NaN:g?-Infinity:Infinity}else{s=s+h(2,r);a=a-f}return(g?-1:1)*s*h(2,a-r)};var d=function(t,e,n,r,i,a){var s,o,u,f=a*8-i-1,c=(1<<f)-1,g=c>>1,d=i===23?h(2,-24)-h(2,-77):0,p=r?0:a-1,U=r?1:-1,w=n<0||n===0&&1/n<0?1:0;n<0&&(n=-n);if(n!==n||n===Infinity){o=n!==n?1:0;s=c}else{s=v(n)/l|0;if(n*(u=h(2,-s))<1){s--;u*=2}if(s+g>=1){n+=d/u}else{n+=d*h(2,1-g)}if(n*u>=2){s++;u/=2}if(s+g>=c){o=0;s=c}else if(s+g>=1){o=(n*u-1)*h(2,i);s=s+g}else{o=n*h(2,g-1)*h(2,i);s=0}}for(;i>=8;t[e+p]=o&255,p+=U,o/=256,i-=8);s=s<<i|o;f+=i;for(;f>0;t[e+p]=s&255,p+=U,s/=256,f-=8);t[e+p-U]|=w*128};var p=[1,0];var U=[2,1,0];var w=[3,2,1,0];var m=[0,1];var y=[0,1,2];var C=[0,1,2,3];var E=function(t,e){return t[e]};var M=function(t,e,n){var r=n?m:p;var i=t[e+r[0]];var a=t[e+r[1]]<<8;return i|a};var L=function(t,e,n){var r=n?y:U;var i=t[e+r[0]];var a=t[e+r[1]]<<8;var s=t[e+r[2]]<<16;return i|a|s};var S=function(t,e,n){var r=n?C:w;var i=t[e+r[3]]*16777216;var a=t[e+r[2]]*65536;var s=t[e+r[1]]*256;var o=t[e+r[0]];return i+a+s+o};var T=function(t,e,n){t[e]=n&255};var x=function(t,e,n,r){var i=r?m:p;t[e+i[0]]=n&255;t[e+i[1]]=n>>>8&255};var b=function(t,e,n,r){var i=r?y:U;t[e+i[0]]=n&255;t[e+i[1]]=n>>>8&255;t[e+i[2]]=n>>>16&255};var I=function(t,e,n,r){var i=r?C:w;t[e+i[0]]=n&255;t[e+i[1]]=n>>>8&255;t[e+i[2]]=n>>>16&255;t[e+i[3]]=n>>>24&255};function V(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var n=new Array(t).fill(0);this.data=n}else{this.data=t}this.offset=0;this.isLittleEndian=e}V.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){T(this.data,this.offset,t<0?t|256:t);this.offset+=o},getInt8:function(){var t=E(this.data,this.offset);this.offset+=o;return t&128?t^-256:t},setUint8:function(t){T(this.data,this.offset,t);this.offset+=o},getUint8:function(){var t=E(this.data,this.offset);this.offset+=o;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;x(this.data,this.offset,t<0?t|65536:t,e);this.offset+=u},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=M(this.data,this.offset,t);this.offset+=u;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;x(this.data,this.offset,t,e);this.offset+=u},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=M(this.data,this.offset,t);this.offset+=u;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;b(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=f},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=L(this.data,this.offset,t);this.offset+=f;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;b(this.data,this.offset,t,e);this.offset+=f},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=L(this.data,this.offset,t);this.offset+=f;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;I(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=c},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=S(this.data,this.offset,t);this.offset+=c;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;I(this.data,this.offset,t,e);this.offset+=c},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=S(this.data,this.offset,t);this.offset+=c;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;d(this.data,this.offset,t,e,23,4);this.offset+=c},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=g(this.data,this.offset,t,23,4);this.offset+=c;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var n=[];while(this.offset<e){n.push(String.fromCharCode(this.getUint8()))}return n.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var r=this.data;r.splice.apply(r,[n,e.length].concat(t(e)));this.data=r;this.offset=n+e.length}};Object.defineProperties(V.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var B=31;var P=function(t,e){if((t&B)===0){if(e>B){throw new Error("Wrong command id/size. Id: ".concat(t,", size: ").concat(e,"."))}return[t|e]}if(t>B){return[B,t>>8,e]}return[t,e]};var O=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var r=P(e,n.length);return[].concat(t(r),t(n))};var A=12;var F=2;var D=function(t){var e=t.sequenceNumber,n=t.seconds;var r=new V(F,false);r.setUint8(e);r.setInt8(n);return O(A,r.data)};var H=9466848e5;var k=1e3;var N=function(t){return new Date(H+t*k)};var q=function(t){return(t.getTime()-H)/k};var R=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=0;for(var r in e){if(r in t&&e[r]){n|=t[r]}}return n};var j=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n={};for(var r in t){n[r]=(e&t[r])!==0}return n};var z=function(t,e,n){return(1<<e)-1&t>>n-1};var W=function(t,e,n,r){var i=(1<<e)-1<<n-1;var a=r;var s=t;s&=~i;a<<=n-1;s|=a;return s};var Y=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=Object.assign({},s,e),r=n.separator,i=n.prefix;return t.map((function(t){return"".concat(i).concat(t.toString(16).padStart(2,"0"))})).join(r)};var $=function(t){var e=t.replace(/\s+|0x/g,"");if(e.length%2!==0){e="0".concat(e)}var n=e.length/2;var r=new Array(n);for(var i=0;i<n;i++){r[i]=parseInt(e.substring(i*2,i*2+2),16)}return r};var G=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;var n=Math.pow(10,e);return Math.round(t*n*(1+Number.EPSILON))/n};var J=1;var K=2;var Q=3;var X=4;var Z=5;var _=6;var tt=7;var et=8;var nt=9;var rt=10;var it=11;var at=12;var st=1;var ot=4;var ut=5;var ft=8;var ct=9;var vt=10;var ht=11;var lt=13;var gt=18;var dt=23;var pt=24;var Ut=25;var wt=26;var mt=28;var yt=29;var Ct=30;var Et=31;var Mt=32;var Lt=33;var St=34;var Tt=35;var xt=36;var bt=37;var It=38;var Vt=39;var Bt=40;var Pt=41;var Ot=42;var At=43;var Ft=44;var Dt=45;var Ht=46;var kt=47;var Nt=48;var qt=49;var Rt=50;var jt=function(t){var e={};for(var n in t){var r=t[n];e[r]=n}return e};var zt=2e3;var Wt=4;var Yt=5;var $t=1;var Gt=4095;var Jt=128;var Kt=7;var Qt=600;var Xt=3;var Zt=100;var _t=6;var te=8;var ee=[K,Q,J,at];var ne=[et,Z,nt,X];var re=[it];var ie=[_,rt];var ae=[tt];var se={isBatteryLow:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isButtonReleased:Math.pow(2,2),isConnectionLost:Math.pow(2,3)};var oe={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5)};var ue={isConnectionLost:Math.pow(2,3)};var fe={isBatteryLow:Math.pow(2,0),isConnectionLost:Math.pow(2,3),isFirstChannelInactive:Math.pow(2,4),isSecondChannelInactive:Math.pow(2,5),isThirdChannelInactive:Math.pow(2,6),isForthChannelInactive:Math.pow(2,7)};var ce={isMeterCaseOpen:Math.pow(2,0),isMagneticInfluence:Math.pow(2,1),isParametersSetRemotely:Math.pow(2,2),isParametersSetLocally:Math.pow(2,3),isMeterProgramRestarted:Math.pow(2,4),isLockedOut:Math.pow(2,5),isTimeSet:Math.pow(2,6),isTimeCorrected:Math.pow(2,7),isMeterFailure:Math.pow(2,8),isMeterTerminalBoxOpen:Math.pow(2,9),isModuleCompartmentOpen:Math.pow(2,10),isTariffPlanChanged:Math.pow(2,11),isNewTariffPlanReceived:Math.pow(2,12)};var ve={channel1:Math.pow(2,0),channel2:Math.pow(2,1),channel3:Math.pow(2,2),channel4:Math.pow(2,3)};var he={128:1,129:5,130:10,131:100,132:1e3,133:1e4,134:1e5};var le=jt(he);var ge=function(t){return!!(t&128)};var de=function(t){return!!z(t,1,te)};var pe=function(t,e){return W(t,1,te,+e)};var Ue=function(t){return t.getUint8()+1};var we=function(t,e){if(e<1){throw new Error("channel must be 1 or greater")}t.setUint8(e-1)};var me=function(t){return{size:t.getUint16(false),position:t.getUint16(false),chunk:t.getBytesLeft()}};var ye=function(t,e){if(e.size!==e.chunk.length){throw new Error("ssl chunk size parameter doesn't match actual ssl chunk size")}t.setUint16(e.size,false);t.setUint16(e.position,false);t.setBytes(e.chunk)};var Ce=function(t){return{crc32:t.getUint32(false)}};var Ee=function(t,e){t.setUint32(e.crc32,false)};var Me={[st]:{get:function(t){t.seek(t.offset+Xt);return{value:t.getUint8()*Qt}},set:function(t,e){t.seek(t.offset+Xt);t.setUint8(e.value/Qt)}},[ot]:{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}},[ut]:{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}},[ft]:{get:function(t){return{value:t.getUint8()}},set:function(t,e){t.setUint8(e.value)}},[ct]:{get:function(t){return{type:t.getUint8()}},set:function(t,e){t.setUint8(e.type)}},[vt]:{get:function(t){return{loadTime:t.getUint16(false),internalResistance:t.getUint16(false),lowVoltage:t.getUint16(false)}},set:function(t,e){t.setUint16(e.loadTime,false);t.setUint16(e.internalResistance,false);t.setUint16(e.lowVoltage,false)}},[ht]:{get:function(t){return{value:t.getUint32(false)}},set:function(t,e){t.setUint32(e.value,false)}},[lt]:{get:function(t){return{value:t.getUint8()}},set:function(t,e){if(e.value<0||e.value>18){throw new Error("channels config must be between 0-18")}t.setUint8(e.value)}},[gt]:{get:function(t){return{spreadFactor:t.getUint8(),frequency:t.getUint24(false)*Zt}},set:function(t,e){t.setUint8(e.spreadFactor);t.setUint24(e.frequency/Zt,false)}},[dt]:{get:function(t){return{meterValue:t.getUint32(false),pulseCoefficient:t.getPulseCoefficient(),value:t.getUint32(false)}},set:function(t,e){t.setUint32(e.meterValue,false);t.setPulseCoefficient(e.pulseCoefficient);t.setUint32(e.value,false)}},[pt]:{get:function(t){return{state:t.getUint8()}},set:function(t,e){t.setUint8(e.state)}},[Ut]:{get:function(t){return{value:Y(t.getBytes(_t))}},set:function(t,e){$(e.value).forEach((function(e){return t.setUint8(e)}))}},[wt]:{get:function(t){return{latitude:G(t.getFloat32()),longitude:G(t.getFloat32()),altitude:G(t.getUint16())}},set:function(t,e){t.setFloat32(G(e.latitude));t.setFloat32(G(e.longitude));t.setUint16(G(e.altitude))}},[mt]:{get:function(t){return{value:t.getUint16()}},set:function(t,e){t.setUint16(e.value)}},[yt]:{get:function(t){return{channel:Ue(t),meterValue:t.getUint32(false),pulseCoefficient:t.getPulseCoefficient(),value:t.getUint32(false)}},set:function(t,e){we(t,e.channel);t.setUint32(e.meterValue,false);t.setPulseCoefficient(e.pulseCoefficient);t.setUint32(e.value,false)}},[Ct]:{get:function(t){return{channel:Ue(t),state:t.getUint8()}},set:function(t,e){we(t,e.channel);t.setUint8(e.state)}},[Et]:{get:function(t){return{channelList:t.getChannels(),pullUpTime:t.getUint8(),scanTime:t.getUint8()}},set:function(t,e){if(e.pullUpTime<17){throw new Error("minimal value for pullUpTime - 17")}if(e.scanTime<15){throw new Error("minimal value for scanTime - 15")}t.setChannels(e.channelList.map((function(t){return{index:t}})));t.setUint8(e.pullUpTime);t.setUint8(e.scanTime)}},[Mt]:{get:function(t){var e=j(ve,t.getUint8());return{channel1:e.channel1,channel2:e.channel2,channel3:e.channel3,channel4:e.channel4}},set:function(t,e){var n=e.channel1,r=e.channel2,i=e.channel3,a=e.channel4;t.setUint8(R(ve,{channel1:n,channel2:r,channel3:i,channel4:a}))}},[Lt]:{get:function(t){return{resistanceStartThreshold:t.getUint16(false),resistanceStopThreshold:t.getUint16(false)}},set:function(t,e){t.setUint16(e.resistanceStartThreshold,false);t.setUint16(e.resistanceStopThreshold,false)}},[St]:{get:function(t){return{clientId:t.getString(),username:t.getString(),password:t.getString(),cleanSession:t.getUint8()}},set:function(t,e){t.setString(e.clientId);t.setString(e.username);t.setString(e.password);t.setUint8(e.cleanSession)}},[Tt]:{get:function(t){return{hostName:t.getString(),port:t.getUint16(false)}},set:function(t,e){t.setString(e.hostName);t.setUint16(e.port,false)}},[xt]:{get:function(t){return{enable:t.getUint8()}},set:function(t,e){t.setUint8(e.enable)}},[bt]:{get:function(t){return{topicPrefix:t.getString()}},set:function(t,e){t.setString(e.topicPrefix)}},[It]:{get:function(t){return{qos:t.getUint8()}},set:function(t,e){t.setUint8(e.qos)}},[Vt]:{get:function(t){return{qos:t.getUint8(),retain:t.getUint8(),newestSendFirst:t.getUint8(),sendCountAttempts:t.getUint8(),sendTimeoutBetweenAttempts:t.getUint8()}},set:function(t,e){t.setUint8(e.qos);t.setUint8(e.retain);t.setUint8(e.newestSendFirst);t.setUint8(e.sendCountAttempts);t.setUint8(e.sendTimeoutBetweenAttempts)}},[Bt]:{get:function(t){return{securityLevel:t.getUint8(),version:t.getUint8()}},set:function(t,e){t.setUint8(e.securityLevel);t.setUint8(e.version)}},[Pt]:{get:me,set:ye},[Ot]:{get:Ce,set:Ee},[At]:{get:me,set:ye},[Ft]:{get:Ce,set:Ee},[Dt]:{get:me,set:ye},[Ht]:{get:Ce,set:Ee},[kt]:{get:function(t){return{softwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.softwareImageUrl)}},[Nt]:{get:function(t){return{moduleFirmwareImageUrl:t.getString()}},set:function(t,e){t.setString(e.moduleFirmwareImageUrl)}},[qt]:{get:function(t){return{dataType:t.getUint8(),hour:t.getUint8(),minutes:t.getUint8(),countToSend:t.getUint8()}},set:function(t,e){t.setUint8(e.dataType);t.setUint8(e.hour);t.setUint8(e.minutes);t.setUint8(e.countToSend)}},[Rt]:{get:function(t){return{eventId:t.getUint8(),enableEvent:t.getUint8(),sendEvent:t.getUint8(),saveEvent:t.getUint8()}},set:function(t,e){t.setUint8(e.eventId);t.setUint8(e.enableEvent);t.setUint8(e.sendEvent);t.setUint8(e.saveEvent)}}};var Le=function(t){return{channel:Ue(t)}};var Se=function(t,e){we(t,e.channel)};function Te(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;V.call(this,t,e)}Te.prototype=Object.create(V.prototype);Te.prototype.constructor=Te;Te.prototype.getExtendedValue=function(){var t=0;var e=true;var n=0;while(e&&this.offset<=this.data.length){var r=this.getUint8();e=!!(r&Jt);t+=(r&127)<<7*n;++n}if(t<0){t=0}return t};Te.prototype.setExtendedValue=function(t){var e=this;if(t===0){this.setUint8(0);return}var n=[];var r=t;while(r){n.push(Jt|r&127);r>>=7}var i=n.pop();if(i){n.push(i&127)}n.forEach((function(t){return e.setUint8(t)}))};Te.prototype.getExtendedValueSize=function(t){var e=Math.ceil(t/7);var n=t+e;var r=Math.ceil(n/8);return r};Te.prototype.getTime=function(){return this.getUint32(false)};Te.prototype.setTime=function(t){this.setUint32(t,false)};Te.prototype.getBatteryVoltage=function(){var t=this.getUint8();var e=this.getUint8();var n=this.getUint8();var r=t<<4;r|=(e&240)>>4;var i=(e&15)<<8|n;if(i===Gt){i=undefined}if(r===Gt){r=undefined}return{underLowLoad:r,underHighLoad:i}};Te.prototype.setBatteryVoltage=function(t){var e=this;var n=t.underLowLoad,r=t.underHighLoad;if(n===undefined){n=Gt}if(r===undefined){r=Gt}var i=n>>4&255;var a=(n&15)<<4|r>>8&15;var s=r&255;[i,a,s].forEach((function(t){return e.setUint8(t)}))};Te.prototype.getLegacyCounterValue=function(){return this.getUint24(false)};Te.prototype.setLegacyCounterValue=function(t){this.setUint24(t,false)};Te.prototype.getLegacyCounter=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getUint8();return{isMagneticInfluence:de(t),value:this.getLegacyCounterValue()}};Te.prototype.setLegacyCounter=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;this.setUint8(pe(e,t.isMagneticInfluence));this.setLegacyCounterValue(t.value)};Te.prototype.getChannels=function(){var t=[];var e=true;var n=1;while(e){var r=this.getUint8();var i=r.toString(2).padStart(Kt+1,"0").split("").reverse();i.forEach((function(r,i){var a=Number(r);if(i===Kt){e=!!a}else{if(a){t.push(n)}++n}}))}return t};Te.prototype.setChannels=function(e){var n=this;if(e.length===0){this.setUint8(0);return}e.sort((function(t,e){return t.index-e.index}));var r=Math.max.apply(Math,t(e.map((function(t){var e=t.index;return e}))));var i=(r-r%8)/8;var a=new Array(i+1).fill(0);var s=0;a.forEach((function(t,n){var r=n*Kt+1;var i=r+Kt;while(r<i){var o=e.find((function(t){return t.index===r}));if(o!==undefined){s|=1<<(o.index-1)%Kt}++r}if(a[n+1]!==undefined){s|=1<<Kt}a[n]=s;s=0}));a.forEach((function(t){return n.setUint8(t)}))};Te.prototype.getChannelsValuesWithHourDiff=function(){var t=this;var e=this.getDate();var n=this.getHours(),r=n.hour,i=n.hours;var a=this.getChannels();var s=[];e.setUTCHours(r);a.forEach((function(e){var n=[];var r=t.getExtendedValue();for(var a=1;a<i;++a){n.push(t.getExtendedValue())}s.push({value:r,diff:n,index:e})}));return{startTime2000:q(e),hours:i,channelList:s}};Te.prototype.setChannelsValuesWithHourDiff=function(t,e,n){var r=this;var i=N(e);var a=i.getUTCHours();this.setDate(i);this.setHours(a,t);this.setChannels(n);n.forEach((function(t){var e=t.value,n=t.diff;r.setExtendedValue(e);n.forEach((function(t){return r.setExtendedValue(t)}))}))};Te.prototype.getHours=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.getUint8();if(t===0){return{hours:0,hour:0}}var e=((t&224)>>5)+1;var n=t&31;return{hours:e,hour:n}};Te.prototype.setHours=function(t,e){if(t===0&&e===0){this.setUint8(0);return}this.setUint8((e-1&7)<<5|t&31)};Te.prototype.getDate=function(){var t=this.getUint8();var e=this.getUint8();var n=t>>$t;var r=(t&1)<<Wt-$t|e>>Yt;var i=e&31;return new Date(Date.UTC(n+zt,r-1,i,0,0,0,0))};Te.prototype.setDate=function(t){var e=this;var n;if(t instanceof Date){n=t}else{n=N(t)}var r=n.getUTCFullYear()-zt;var i=n.getUTCMonth()+1;var a=n.getUTCDate();var s=r<<$t|i>>Wt-$t;var o=(i&7)<<Yt|a;[s,o].forEach((function(t){return e.setUint8(t)}))};Te.prototype.getPulseCoefficient=function(){var t=this.getUint8();if(ge(t)){var e=he[t];if(e){return e}throw new Error("pulseCoefficient MSB is set, but value unknown")}return t};Te.prototype.setPulseCoefficient=function(t){if(t in le){var e=le[t];if(e){this.setUint8(e)}else{throw new Error("pulseCoefficient MSB is set, but value unknown")}}else{this.setUint8(t)}};Te.prototype.getChannelsWithAbsoluteValues=function(){var t=this;var e=this.getChannels();var n=[];e.forEach((function(e){n.push({pulseCoefficient:t.getPulseCoefficient(),value:t.getExtendedValue(),index:e})}));return n};Te.prototype.setChannelsWithAbsoluteValues=function(t){var e=this;this.setChannels(t);t.forEach((function(t){var n=t.value,r=t.pulseCoefficient;e.setPulseCoefficient(r);e.setExtendedValue(n)}))};Te.prototype.getChannelsAbsoluteValuesWithHourDiff=function(t){var e=this;var n=this.getChannels();var r=[];n.forEach((function(n){var i=e.getPulseCoefficient();var a=e.getExtendedValue();var s=[];for(var o=1;o<t;++o){s.push(e.getExtendedValue())}r.push({diff:s,value:a,pulseCoefficient:i,index:n})}));return r};Te.prototype.setChannelsAbsoluteValuesWithHourDiff=function(t){var e=this;this.setChannels(t);t.forEach((function(t){var n=t.value,r=t.diff,i=t.pulseCoefficient;e.setPulseCoefficient(i);e.setExtendedValue(n);r.forEach((function(t){return e.setExtendedValue(t)}))}))};Te.prototype.getEventStatus=function(t){var e;if(ee.indexOf(t)!==-1){e=j(se,this.getUint8())}else if(ne.indexOf(t)!==-1){e=j(oe,this.getUint8())}else if(re.indexOf(t)!==-1){e=j(ue,this.getUint8())}else if(ie.indexOf(t)!==-1){e=j(fe,this.getExtendedValue())}else if(ae.indexOf(t)!==-1){e=j(ce,this.getUint16())}else{throw new Error("wrong hardwareType")}return e};Te.prototype.setEventStatus=function(t,e){if(ee.indexOf(t)!==-1){this.setUint8(R(se,e))}else if(ne.indexOf(t)!==-1){this.setUint8(R(oe,e))}else if(re.indexOf(t)!==-1){this.setUint8(R(ue,e))}else if(ie.indexOf(t)!==-1){this.setExtendedValue(R(fe,e))}else if(ae.indexOf(t)!==-1){this.setUint16(R(ce,e))}else{throw new Error("wrong hardwareType")}};Te.prototype.getParameter=function(){var t=this.getUint8();if(!Me[t]||!Me[t].get){throw new Error("parameter ".concat(t," is not supported"))}var e=Me[t].get(this);return{id:t,data:e}};Te.prototype.setParameter=function(t){var e=t.id,n=t.data;if(!Me[e]||!Me[e].set){throw new Error("parameter ".concat(e," is not supported"))}this.setUint8(e);Me[e].set(this,n)};Te.prototype.getRequestParameter=function(){var t=this.getUint8();var e=null;switch(t){case Ct:case yt:e=Le(this);break}return{id:t,data:e}};Te.prototype.setRequestParameter=function(t){var e=t.id,n=t.data;this.setUint8(e);switch(e){case yt:case Ct:Se(this,n);break}};Te.prototype.getResponseParameter=function(){var t=this.getUint8();var e;if(!Me[t]||!Me[t].get){throw new Error("parameter ".concat(t," is not supported"))}switch(t){case St:case Pt:case At:case Dt:case Ot:case Ft:case Ht:case kt:case Nt:e=null;break;default:e=Me[t].get(this)}return{id:t,data:e}};Te.prototype.setResponseParameter=function(t){var e=t.id,n=t.data;if(!Me[e]||!Me[e].set){throw new Error("parameter ".concat(e," is not supported"))}this.setUint8(e);switch(e){case St:case Pt:case At:case Dt:case Ot:case Ft:case Ht:case kt:case Nt:break;default:Me[e].set(this,n)}};var xe=27;var be=4;var Ie=function(t){var e=new Te(be);var n=t.startTime2000,r=t.days,i=t.channelList;var a=N(n);e.setDate(a);e.setChannels(i.map((function(t){return{index:t}})));e.setUint8(r);return O(xe,e.data)};var Ve=11;var Be=5;var Pe=function(t){var e=t.startTime2000,n=t.events;var r=new Te(Be);r.setTime(e);r.setUint8(n);return O(Ve,r.data)};var Oe=26;var Ae=4;var Fe=function(t){var e=new Te(Ae);var n=t.hours,r=t.startTime2000,i=t.channelList;var a=N(r);var s=a.getUTCHours();e.setDate(a);e.setHours(s,n);e.setChannels(i.map((function(t){return{index:t}})));return O(Oe,e.data)};var De=7;var He=function(){return O(De)};var ke=24;var Ne=function(){return O(ke)};var qe=3359;var Re=4;var je=function(t){var e=new Te(Re);var n=t.startTime2000,r=t.days,i=t.channelList;e.setDate(n);e.setChannels(i.map((function(t){return{index:t}})));e.setUint8(r);return O(qe,e.data)};var ze=3103;var We=4;var Ye=function(t){var e=new Te(We);var n=t.startTime2000,r=t.hours,i=t.channelList;var a=N(n);var s=a.getUTCHours();e.setDate(a);e.setHours(s,r);e.setChannels(i.map((function(t){return{index:t}})));return O(ze,e.data)};var $e=543;var Ge=function(){return O($e)};var Je=20;var Ke=function(){return O(Je)};var Qe=9;var Xe=function(){return O(Qe,[])};var Ze=2;var _e=5;var tn=function(t){var e=t.sequenceNumber,n=t.seconds;var r=new V(_e,false);r.setUint8(e);r.setInt32(n);return O(Ze,r.data)};var en=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var n=e;t.forEach((function(t){n^=t}));return n};var nn=function(e){return function(n){var r;var i=n.map((function(t){if("parameters"in t){return e[t.id](t.parameters,t.config)}if("command"in t){return t.command.bytes}throw new Error("wrong command format")}));var a=(r=[]).concat.apply(r,t(i));return[].concat(t(a),[en(a)])}};var rn={};var an=nn(rn);rn[A]=D;rn[xe]=Ie;rn[Ve]=Pe;rn[Oe]=Fe;rn[De]=He;rn[ke]=Ne;rn[qe]=je;rn[ze]=Ye;rn[$e]=Ge;rn[Je]=Ke;rn[Qe]=Xe;rn[Ze]=tn;var sn=function(t){return btoa(t.map((function(t){return String.fromCharCode(t)})).join(""))};getBase64FromBytes=sn;toBytes=an})();
//#endregion


/*
  Incoming arguments:
    * msg - JSON message payload downlink message json
    * msgType - type of message, for ex. 'ATTRIBUTES_UPDATED', 'POST_TELEMETRY_REQUEST', etc.
    * metadata - list of key-value pairs with additional data about the message
    * integrationMetadata - list of key-value pairs with additional data defined in Integration executing this converter

  Output must be an object with the following fields:
    * contentType - BINARY
    * data - payload in base64
*/

var result = {
    contentType: 'BINARY',
    data: getBase64FromBytes(toBytes(msg.commands, config))
};

return result;
