// IMPORTANT!!!
// This example only for default downlink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// encoded message should be less than this size
// to be able to send to a device
var MAX_DATA_SEGMENT_SIZE = 50;


//#region [autogenerated jooby-codec bundle from index.js]
var toBytes,setDataSegment,getBase64FromBytes;(function(){"use strict";function t(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,a=Array(r);e<r;e++)a[e]=t[e];return a}function r(r){if(Array.isArray(r))return t(r)}function e(t,r,e){return(r=s(r))in t?Object.defineProperty(t,r,{value:e,enumerable:true,configurable:true,writable:true}):t[r]=e,t}function a(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t){return r(t)||a(t)||E(t)||n()}function v(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,r);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function s(t){var r=v(t,"string");return"symbol"==typeof r?r:r+""}function E(r,e){if(r){if("string"==typeof r)return t(r,e);var a={}.toString.call(r).slice(8,-1);return"Object"===a&&r.constructor&&(a=r.constructor.name),"Map"===a||"Set"===a?Array.from(r):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(r,e):void 0}}var _=1;var o=2;var f=3;var u=4;var T=Math.log,A=Math.pow,R=Math.LN2;var O=function(t,r,e,a,n){var i,v,s=n*8-a-1,E=(1<<s)-1,_=E>>1,o=-7,f=e?n-1:0,u=e?-1:1,T=t[r+f];f+=u;i=T&(1<<-o)-1;T>>=-o;o+=s;for(;o>0;i=i*256+t[r+f],f+=u,o-=8);v=i&(1<<-o)-1;i>>=-o;o+=a;for(;o>0;v=v*256+t[r+f],f+=u,o-=8);if(i===0){i=1-_}else if(i===E){return v?NaN:T?-Infinity:Infinity}else{v=v+A(2,a);i=i-_}return(T?-1:1)*v*A(2,i-a)};var d=function(t,r,e,a,n,i){var v,s,E,_=i*8-n-1,o=(1<<_)-1,f=o>>1,u=n===23?A(2,-24)-A(2,-77):0,O=a?0:i-1,d=a?1:-1,c=e<0||e===0&&1/e<0?1:0;e<0&&(e=-e);if(e!==e||e===Infinity){s=e!==e?1:0;v=o}else{v=T(e)/R|0;if(e*(E=A(2,-v))<1){v--;E*=2}if(v+f>=1){e+=u/E}else{e+=u*A(2,1-f)}if(e*E>=2){v++;E/=2}if(v+f>=o){s=0;v=o}else if(v+f>=1){s=(e*E-1)*A(2,n);v=v+f}else{s=e*A(2,f-1)*A(2,n);v=0}}for(;n>=8;t[r+O]=s&255,O+=d,s/=256,n-=8);v=v<<n|s;_+=n;for(;_>0;t[r+O]=v&255,O+=d,v/=256,_-=8);t[r+O-d]|=c*128};var c=[1,0];var l=[2,1,0];var N=[3,2,1,0];var h=[0,1];var U=[0,1,2];var S=[0,1,2,3];var g=function(t,r){return t[r]};var I=function(t,r,e){var a=e?h:c;var n=t[r+a[0]];var i=t[r+a[1]]<<8;return n|i};var D=function(t,r,e){var a=e?U:l;var n=t[r+a[0]];var i=t[r+a[1]]<<8;var v=t[r+a[2]]<<16;return n|i|v};var L=function(t,r,e){var a=e?S:N;var n=t[r+a[3]]*16777216;var i=t[r+a[2]]*65536;var v=t[r+a[1]]*256;var s=t[r+a[0]];return n+i+v+s};var C=function(t,r,e){t[r]=e&255};var P=function(t,r,e,a){var n=a?h:c;t[r+n[0]]=e&255;t[r+n[1]]=e>>>8&255};var M=function(t,r,e,a){var n=a?U:l;t[r+n[0]]=e&255;t[r+n[1]]=e>>>8&255;t[r+n[2]]=e>>>16&255};var m=function(t,r,e,a){var n=a?S:N;t[r+n[0]]=e&255;t[r+n[1]]=e>>>8&255;t[r+n[2]]=e>>>16&255;t[r+n[3]]=e>>>24&255};function y(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var e=new Array(t).fill(0);this.data=e}else{this.data=t}this.offset=0;this.isLittleEndian=r}y.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){C(this.data,this.offset,t<0?t|256:t);this.offset+=_},getInt8:function(){var t=g(this.data,this.offset);this.offset+=_;return t&128?t^-256:t},setUint8:function(t){C(this.data,this.offset,t);this.offset+=_},getUint8:function(){var t=g(this.data,this.offset);this.offset+=_;return t},setInt16:function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;P(this.data,this.offset,t<0?t|65536:t,r);this.offset+=o},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var r=I(this.data,this.offset,t);this.offset+=o;return r&32768?r^-65536:r},setUint16:function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;P(this.data,this.offset,t,r);this.offset+=o},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var r=I(this.data,this.offset,t);this.offset+=o;return r},setInt24:function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;M(this.data,this.offset,t<0?t|16777216:t,r);this.offset+=f},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var r=D(this.data,this.offset,t);this.offset+=f;return r&8388608?r^-16777216:r},setUint24:function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;M(this.data,this.offset,t,r);this.offset+=f},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var r=D(this.data,this.offset,t);this.offset+=f;return r},setInt32:function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;m(this.data,this.offset,t<0?t|4294967296:t,r);this.offset+=u},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var r=L(this.data,this.offset,t);this.offset+=u;return r&2147483648?r^-4294967296:r},setUint32:function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;m(this.data,this.offset,t,r);this.offset+=u},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var r=L(this.data,this.offset,t);this.offset+=u;return r},setFloat32:function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;d(this.data,this.offset,t,r,23,4);this.offset+=u},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var r=O(this.data,this.offset,t,23,4);this.offset+=u;return r},setFixedString:function(t,r){var e=t.length>r?r:t.length;var a=0;for(a=0;a<e;++a){this.setUint8(t.charCodeAt(a))}for(a=e;a<r;++a){this.setUint8(0)}},getFixedStringBase:function(t,r){var e=r.stopOnZero;var a=this.offset+t;var n=[];var i;while(this.offset<a){i=this.getUint8();if(e&&i===0){this.seek(a);break}n.push(String.fromCharCode(i))}return n.join("")},getFixedString:function(t){return this.getFixedStringBase(t,{stopOnZero:true})},setString:function(t){this.setUint8(t.length);this.setFixedString(t)},getString:function(){var t=this.getUint8();return this.getFixedStringBase(t,{stopOnZero:false})},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=r+t;return this.data.slice(r,this.offset)},setBytes:function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var e=this.data;e.splice.apply(e,[r,t.length].concat(i(t)));this.data=e;this.offset=r+t.length}};Object.defineProperties(y.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var F=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var e=0;for(var a in r){if(a in t&&r[a]){e|=t[a]}}return e};var p=function(t,r,e,a){var n=(1<<r)-1<<e-1;var i=a;var v=t;v&=~n;i<<=e-1;v|=i;return v};var Y=80;var G=81;var H=82;var V=83;var B=84;var x=85;var w=86;var b=87;var W=88;var K=89;var X=90;var j=91;var z=255;var Q=Object.freeze({__proto__:null,DATA_REQUEST:Y,DATA_RESPONSE:G,FRAGMENT_REQUEST:X,FRAGMENT_RESPONSE:j,IDENT_REQUEST:H,IDENT_RESPONSE:V,INVALID:z,L2_CHECK_ADDRESS_REQUEST:w,L2_CHECK_ADDRESS_RESPONSE:b,L2_RM_ADDRESS_REQUEST:W,L2_RM_ADDRESS_RESPONSE:K,L2_SET_ADDRESS_REQUEST:B,L2_SET_ADDRESS_RESPONSE:x});var Z=function(t){var r={};for(var e in t){var a=t[e];r[a]=e}return r};Z(Q);var k=0;var q=1;var $=2;var J=3;var tt=Object.freeze({__proto__:null,READ_ONLY:J,READ_WRITE:$,ROOT:q,UNENCRYPTED:k});Z(tt);var rt=0;var et=1;var at=2;var nt=3;var it=4;var vt=5;var st=6;var Et=7;var _t=8;var ot=9;var ft=10;var ut=11;var Tt=12;var At=13;var Rt=14;var Ot=Object.freeze({__proto__:null,CASE_MODULE_OPEN:ft,CASE_OPEN:rt,CASE_TERMINAL_OPEN:ot,DEVICE_FAILURE:_t,ERROR_ACCESS:vt,MAGNETIC_ON:et,PARAMETERS_UPDATE_LOCAL:nt,PARAMETERS_UPDATE_REMOTE:at,PROTECTION_RESET_EM:At,PROTECTION_RESET_MAGNETIC:Rt,RESTART:it,TARIFF_TABLE_GET:Tt,TARIFF_TABLE_SET:ut,TIME_CORRECT:Et,TIME_SET:st});Z(Ot);var dt=1;var ct=3;var lt=4;var Nt=5;var ht=7;var Ut=8;var St=9;var gt=13;var It=15;var Dt=16;var Lt=17;var Ct=18;var Pt=19;var Mt=20;var mt=21;var yt=22;var Ft=23;var pt=24;var Yt=25;var Gt=28;var Ht=30;var Vt=31;var Bt=40;var xt=41;var wt=42;var bt=44;var Wt=45;var Kt=46;var Xt=47;var jt=49;var zt=50;var Qt=51;var Zt=52;var kt=53;var qt=54;var $t=57;var Jt=58;var tr=59;var rr=60;var er=61;var ar=62;var nr=65;var ir=70;var vr=74;var sr=75;var Er=79;var _r=80;var or=82;var fr=83;var ur=88;var Tr=89;var Ar=91;var Rr=92;var Or=93;var dr=94;var cr=96;var lr=97;var Nr=100;var hr=109;var Ur=111;var Sr=112;var gr=113;var Ir=114;var Dr=115;var Lr=116;var Cr=117;var Pr=118;var Mr=122;var mr=Object.freeze({__proto__:null,activateRatePlan:Pt,getBv:Sr,getCorrectTime:ar,getCriticalEvent:nr,getCurrentStatusMeter:$t,getCurrentValues:gt,getDateTime:ht,getDayDemand:yt,getDayDemandExport:Er,getDayMaxDemand:jt,getDayMaxDemandExport:ur,getDayMaxDemandPrevious:vr,getDayProfile:tr,getDemand:Pr,getDemandParameters:Cr,getDeviceId:Nt,getDeviceType:lt,getDisplayParam:dr,getEnergy:It,getEnergyDayPrevious:ct,getEnergyExport:Ar,getEnergyExportDayPrevious:_r,getEventStatus:dt,getEvents:Qt,getEventsCounters:Zt,getExtendedCurrentValues:Jt,getExtendedCurrentValues2:Wt,getGsmParameters:lr,getHalfHourDemand:mt,getHalfHourDemandExport:fr,getHalfHourDemandPrevious:sr,getHalfHourEnergies:Ur,getMagneticFieldThreshold:hr,getMeterInfo:Mr,getMonthDemand:Ft,getMonthDemandExport:or,getMonthMaxDemand:zt,getMonthMaxDemandExport:Tr,getOperatorParameters:Ht,getOperatorParametersExtended3:gr,getQuality:Dr,getRatePlanInfo:bt,getSaldo:xt,getSaldoParameters:Kt,getSeasonProfile:rr,getSpecialDay:er,getVersion:Bt,prepareRatePlan:Mt,resetPowerMaxDay:kt,resetPowerMaxMonth:qt,runTariffPlan:ir,setAccessKey:St,setCorrectDateTime:Rr,setCorrectTime:Gt,setDateTime:Ut,setDayProfile:Dt,setDemandParameters:Lr,setDisplayParam:Or,setGsmParameters:cr,setOperatorParameters:Vt,setOperatorParametersExtended3:Ir,setSaldo:wt,setSaldoParameters:Xt,setSeasonProfile:Lt,setSpecialDay:Ct,setSpecialOperation:Nr,turnRelayOff:Yt,turnRelayOn:pt});Z(mr);var yr=1;var Fr=2;var pr=3;var Yr=16;var Gr=17;var Hr=18;var Vr=19;var Br=20;var xr=21;var wr=32;var br=33;var Wr=34;var Kr=35;var Xr=36;var jr=37;var zr=38;var Qr=39;var Zr=40;var kr=41;var qr=49;var $r=50;var Jr=51;var te=52;var re=53;var ee=54;var ae=55;var ne=56;var ie=57;var ve=58;var se=59;var Ee=64;var _e=65;var oe=66;var fe=67;var ue=68;var Te=69;var Ae=70;var Re=71;var Oe=72;var de=73;var ce=74;var le=75;var Ne=76;var he=77;var Ue=78;var Se=79;var ge=80;var Ie=81;var De=82;var Le=83;var Ce=84;var Pe=85;var Me=86;var me=87;var ye=88;var Fe=89;var pe=96;var Ye=97;var Ge=98;var He=99;var Ve=100;var Be=101;var xe=102;var we=103;var be=104;var We=105;var Ke=112;var Xe=113;var je=114;var ze=115;var Qe=116;var Ze=117;var ke=118;var qe=119;var $e=120;var Je=121;var ta=122;var ra=123;var ea=124;var aa=125;var na=144;var ia=145;var va=147;var sa=148;var Ea=152;var _a=156;var oa=157;var fa=158;var ua=159;var Ta=160;var Aa=161;var Ra=162;var Oa=176;var da=177;var ca=178;var la=179;var Na=180;var ha=181;var Ua=182;var Sa=183;var ga=185;var Ia=186;var Da=224;var La=225;var Ca=226;var Pa=227;var Ma=228;var ma=229;var ya=230;var Fa=231;var pa=232;var Ya=Object.freeze({__proto__:null,ACCESS_ERROR:Gr,ACCESS_LOCKED:Yr,ACC_PARAMETERS_EXT_FAULT:ze,ACC_PARAMETERS_FAULT:je,BAD_TEST_EEPROM:be,BAD_TEST_FRAM:We,BATTERY_FAULT:Le,BATTERY_OK:De,BIPOLAR_POWER_FAULT:Na,BIPOLAR_POWER_OK:ha,BLOCK_TARIFF_FAULT:Ze,CALC_PERIOD_FAULT:Qe,CALIBRATION_FAULT:Pe,CALIBRATION_FLAG_RESET:we,CALIBRATION_FLAG_SET:xe,CALIBRATION_OK:Ce,CALIBRATION_PARAMETERS_FAULT:ke,CASE_CLOSED:Vr,CASE_MODULE_CLOSED:aa,CASE_MODULE_OPENED:ea,CASE_OPENED:Hr,CASE_TERMINAL_BOX_CLOSED:ra,CASE_TERMINAL_BOX_OPENED:ta,CHANGE_ACCESS_KEY0:wr,CHANGE_ACCESS_KEY1:br,CHANGE_ACCESS_KEY2:Wr,CHANGE_ACCESS_KEY3:Kr,CHANGE_COR_TIME:kr,CHANGE_PARAMETERS_CHANNEL:ga,CHANGE_PARAMETERS_LOCAL:Xr,CHANGE_PARAMETERS_REMOTE:jr,CHANGE_TARIFF_TABLE:$r,CHANGE_TARIFF_TABLE_2:Ea,CLOCK_FAULT:me,CLOCK_OK:Me,CMD_RELAY_2_OFF:Ye,CMD_RELAY_2_ON:pe,CMD_RELAY_OFF:Zr,CMD_RELAY_ON:Qr,CMD_SET_DATETIME:zr,COSF_MIN_OVER:se,COSF_OK:ve,CROSS_ZERO_EN_T1:Ge,CROSS_ZERO_EN_T2:He,CROSS_ZERO_EN_T3:Ve,CROSS_ZERO_EN_T4:Be,CROSS_ZERO_EXPORT_EN_T1:fa,CROSS_ZERO_EXPORT_EN_T2:ua,CROSS_ZERO_EXPORT_EN_T3:Ta,CROSS_ZERO_EXPORT_EN_T4:Aa,CURRENT_UNEQUAL_FAULT:ca,CURRENT_UNEQUAL_OK:la,EM_MAGNETIC_INFLUENCE_OFF:da,EM_MAGNETIC_INFLUENCE_ON:Oa,ENERGY_REGISTER_FAULT:yr,ENERGY_REGISTER_OVERFLOW:qr,F_MAX_OK:Oe,F_MAX_OVER:de,F_MIN_OK:ce,F_MIN_OVER:le,I_MAX_OK:Ne,I_MAX_OVER:he,MAGNETIC_INFLUENCE_OFF:xr,MAGNETIC_INFLUENCE_ON:Br,OPERATOR_PARAMETERS_VALUES_FAULT:pr,POWER_A_OFF:ye,POWER_A_ON:Fe,POWER_OVER_RELAY_OFF:oa,POWER_SALDO_OK:ge,POWER_SALDO_OVER:Ie,P_MAX_A_MINUS_OK:Fa,P_MAX_A_MINUS_OVER:pa,P_MAX_OK:Ue,P_MAX_OVER:Se,RELAY_HARD_BAD_OFF:na,RELAY_HARD_BAD_ON:va,RELAY_HARD_OFF:sa,RELAY_HARD_ON:ia,RELAY_OFF:ae,RELAY_OFF_BAD_SALDO:Ia,RELAY_ON:ee,RESET_EM_FLAG:Ua,RESET_MAGNET_FLAG:Sa,RESTART:ne,SALDO_EN_FAULT:$e,SALDO_PARAMETERS_FAULT:Xe,SET_DEMAND_EN_10MIN:Pa,SET_DEMAND_EN_15MIN:Ma,SET_DEMAND_EN_1MIN:Da,SET_DEMAND_EN_30MIN:ma,SET_DEMAND_EN_3MIN:La,SET_DEMAND_EN_5MIN:Ca,SET_DEMAND_EN_60MIN:ya,SET_NEW_SALDO:Ke,SET_SALDO_PARAM:_a,SET_TARIFF_TABLE:Jr,SUMMER_TIME:te,TIME_CORRECT:Je,TIME_CORRECT_NEW:Ra,T_MAX_OK:ue,T_MAX_OVER:Te,T_MIN_OK:Ae,T_MIN_OVER:Re,VENDOR_PAR_FAULT:Fr,V_MAX_OK:Ee,V_MAX_OVER:_e,V_MIN_OK:oe,V_MIN_OVER:fe,WATCHDOG_RESTART:ie,WINTER_SUMMER_FAULT:qe,WINTER_TIME:re});Z(Ya);var Ga=0;var Ha=1;var Va=2;var Ba=3;var xa=4;var wa=5;var ba=Object.freeze({__proto__:null,GSM:Ha,TCP_CLIENT:Ba,TCP_SERVER:Va,TCP_SERVER_HTTP_PING:wa,TCP_SERVER_TCP_PING:xa,UNDEFINED:Ga});Z(ba);var Wa=0;var Ka=1;var Xa=2;var ja=3;var za=Object.freeze({__proto__:null,CONFIGURATION_0:Wa,CONFIGURATION_1:Ka,RESERVED:Xa,STATUS:ja});Z(za);var Qa=0;var Za=128;var ka=129;var qa=130;var $a=131;var Ja=132;var tn=133;var rn=134;var en=135;var an=136;var nn=137;var vn=144;var sn=145;var En=146;var _n=147;var on=149;var fn=151;var un=152;var Tn=153;var An=154;var Rn=155;var On=156;var dn=159;var cn=160;var ln=240;var Nn=Object.freeze({__proto__:null,ACCESS_DENIED:_n,BAD_ARRAY_INDEX:rn,BAD_BLOCK_NUMBER:On,BAD_DATA_LENGTH:tn,BAD_MESSAGE:Ja,BAD_RATE_PLAN_ID:an,BAD_RATE_PLAN_SIZE:nn,BAD_RESPONSE_LENGTH:vn,BAD_SALDO_WRITE:on,BLOCKED_METER:fn,CALIBRATION_DISABLED:En,DECRYPTION_FAILURE:qa,INTERNAL:ln,INVALID_CORRECTION_INTERVAL:An,NOT_ALIGNED_DATA:ka,NOT_PREPARED_RATE_PLAN:en,NO_DATA_FOR_DATE:sn,OK:Qa,OUT_OFF_RANGE:dn,SET_METER_TYPE_FAILURE:cn,TIME_CORRECTION_FAILURE:Tn,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:Rn,UNENCRYPTED_COMMAND_DISABLED:un,UNKNOWN_COMMAND:Za,UNKNOWN_PROTOCOL:$a});Z(Nn);var hn=1;var Un=2;var Sn=3;var gn=4;var In=5;var Dn=6;var Ln=7;var Cn=8;var Pn=9;var Mn=10;var mn=11;var yn=12;var Fn=13;var pn=14;var Yn=15;var Gn=16;var Hn=17;var Vn=18;var Bn=19;var xn=20;var wn=21;var bn=22;var Wn=23;var Kn=24;var Xn=25;var jn=26;var zn=28;var Qn=30;var Zn=31;var kn=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:gn,ACTIVE_ENERGY_T2:In,ACTIVE_ENERGY_T3:Dn,ACTIVE_ENERGY_T4:Ln,ACTIVE_POWER_IN_NEUTRAL:Pn,ACTIVE_POWER_PER_PHASE:Cn,BATTERY_VOLTAGE:bn,CURRENT_BALANCE:Qn,CURRENT_IN_NEUTRAL:mn,CURRENT_IN_PHASE:Mn,DATE_MONTH_YEAR:pn,EXPORTED_ACTIVE_ENERGY_T1:Gn,EXPORTED_ACTIVE_ENERGY_T2:Hn,EXPORTED_ACTIVE_ENERGY_T3:Vn,EXPORTED_ACTIVE_ENERGY_T4:Bn,HOUR_MINUTE_SECOND:Fn,MAGNET_INDUCTION:zn,OPTOPORT_SPEED:Zn,POWER_FACTOR_PHASE_A:xn,POWER_FACTOR_PHASE_B:wn,POWER_THRESHOLD_T1:Wn,POWER_THRESHOLD_T2:Kn,POWER_THRESHOLD_T3:Xn,POWER_THRESHOLD_T4:jn,SET_ALL_SEGMENT_DISPLAY:hn,SOFTWARE_VERSION:Un,TOTAL_ACTIVE_ENERGY:Sn,TOTAL_EXPORTED_ACTIVE_ENERGY:Yn,VOLTAGE:yn});Z(kn);var qn=120;var $n=121;var Jn=123;var ti=254;var ri=255;var ei=Object.freeze({__proto__:null,activateRatePlan:Pt,errorDataFrameResponse:ri,errorResponse:ti,getBv:Sr,getCorrectTime:ar,getCriticalEvent:nr,getCurrentDemand:Jn,getCurrentStatusMeter:$t,getCurrentValues:gt,getDateTime:ht,getDayDemand:yt,getDayDemandExport:Er,getDayEnergies:qn,getDayMaxDemand:jt,getDayMaxDemandExport:ur,getDayMaxDemandPrevious:vr,getDayMaxPower:$n,getDayProfile:tr,getDemand:Pr,getDemandParameters:Cr,getDeviceId:Nt,getDeviceType:lt,getDisplayParam:dr,getEnergy:It,getEnergyDayPrevious:ct,getEnergyExport:Ar,getEnergyExportDayPrevious:_r,getEventStatus:dt,getEvents:Qt,getEventsCounters:Zt,getExtendedCurrentValues:Jt,getExtendedCurrentValues2:Wt,getGsmParameters:lr,getHalfHourDemand:mt,getHalfHourDemandExport:fr,getHalfHourDemandPrevious:sr,getHalfHourEnergies:Ur,getMagneticFieldThreshold:hr,getMeterInfo:Mr,getMonthDemand:Ft,getMonthDemandExport:or,getMonthMaxDemand:zt,getMonthMaxDemandExport:Tr,getOperatorParameters:Ht,getOperatorParametersExtended3:gr,getQuality:Dr,getRatePlanInfo:bt,getSaldo:xt,getSaldoParameters:Kt,getSeasonProfile:rr,getSpecialDay:er,getVersion:Bt,prepareRatePlan:Mt,resetPowerMaxDay:kt,resetPowerMaxMonth:qt,runTariffPlan:ir,setAccessKey:St,setCorrectDateTime:Rr,setCorrectTime:Gt,setDateTime:Ut,setDayProfile:Dt,setDemandParameters:Lr,setDisplayParam:Or,setGsmParameters:cr,setOperatorParameters:Vt,setOperatorParametersExtended3:Ir,setSaldo:wt,setSaldoParameters:Xt,setSeasonProfile:Lt,setSpecialDay:Ct,setSpecialOperation:Nr,turnRelayOff:Yt,turnRelayOn:pt});Z(ei);var ai=2400;var ni=9600;var ii={rs485orTwi:{0:ni,2:ai,4:ni},optoport:{0:ai,2:ai,4:ni}};var vi={rs485orTwi:Z(ii.rs485orTwi),optoport:Z(ii.optoport)};var si=11;var Ei=74;var _i=7;var oi=2+_i;var fi={SET_ALL_SEGMENT_DISPLAY:1,SOFTWARE_VERSION:2,TOTAL_ACTIVE_ENERGY:4,ACTIVE_ENERGY_T1:8,ACTIVE_ENERGY_T2:16,ACTIVE_ENERGY_T3:32,ACTIVE_ENERGY_T4:64,ACTIVE_POWER_PER_PHASE:128,ACTIVE_POWER_IN_NEUTRAL:256,CURRENT_IN_PHASE:512,CURRENT_IN_NEUTRAL:1024,VOLTAGE:2048,HOUR_MINUTE_SECOND:4096,DATE_MONTH_YEAR:8192,TOTAL_EXPORTED_ACTIVE_ENERGY:16384,EXPORTED_ACTIVE_ENERGY_T1:32768,EXPORTED_ACTIVE_ENERGY_T2:65536,EXPORTED_ACTIVE_ENERGY_T3:131072,EXPORTED_ACTIVE_ENERGY_T4:262144,POWER_FACTOR_PHASE_A:524288,POWER_FACTOR_PHASE_B:1048576,BATTERY_VOLTAGE:2097152,POWER_THRESHOLD_T1:4194304,POWER_THRESHOLD_T2:8388608,POWER_THRESHOLD_T3:16777216,POWER_THRESHOLD_T4:33554432,CURRENT_BALANCE:536870912};var ui={...fi,AUTO_SCREEN_SCROLLING:2147483648};var Ti={...fi,MAGNET_INDUCTION:134217728,OPTOPORT_SPEED:1073741824,SORT_DISPLAY_SCREENS:2147483648};var Ai={RELAY_ON_Y:1,RELAY_ON_CENTER:2,RELAY_ON_PB:4,RELAY_ON_TARIFF_1:8,RELAY_ON_TARIFF_2:16,RELAY_ON_TARIFF_3:32,RELAY_ON_TARIFF_4:64,RELAY_ON_V_GOOD:128};var Ri={RELAY_OFF_Y:1,RELAY_OFF_CENTER:2,RELAY_OFF_TARIFF_1:4,RELAY_OFF_TARIFF_2:8,RELAY_OFF_TARIFF_3:16,RELAY_OFF_TARIFF_4:32,RELAY_OFF_I_LIMIT:64,RELAY_OFF_V_BAD:128};var Oi={RELAY_OFF_LIM_TARIFF_1:2,RELAY_OFF_LIM_TARIFF_2:4,RELAY_OFF_LIM_TARIFF_3:8,RELAY_OFF_LIM_TARIFF_4:16,RELAY_OFF_PF_MIN:32};var di={RELAY_ON_TIMEOUT:1,RELAY_ON_SALDO:2,RELAY_OFF_SALDO:4,RELAY_OFF_SALDO_SOFT:8,RELAY_OFF_MAGNET:16,RELAY_ON_MAGNET_TIMEOUT:32,RELAY_ON_MAGNET_AUTO:64};var ci={RELAY_OFF_UNEQUAL_CURRENT:1,RELAY_ON_UNEQUAL_CURRENT:2,RELAY_OFF_BIPOLAR_POWER:4,RELAY_ON_BIPOLAR_POWER:8};var li={BLOCK_KEY_OPTOPORT:2,MAGNET_SCREEN_CONST:32,POWER_AVERAGING_TYPE:128};var Ni={RELAY_OFF_LIMIT_P_MINUS_T1:8,RELAY_OFF_LIMIT_P_MINUS_T2:16,RELAY_OFF_LIMIT_P_MINUS_T3:32,RELAY_OFF_LIMIT_P_MINUS_T4:64};var hi=function(t){var r=0;r=p(r,4,1,Number(vi.rs485orTwi[t.rs485orTwi]));r=p(r,4,5,Number(vi.optoport[t.optoport]));return r};var Ui=function(t){var r=0;r=p(r,2,1,t.tariff);r=p(r,1,3,+!t.isFirstHalfHour);r=p(r,5,4,t.hour);return r};var Si=function(t,r){t.setUint8(r.isSummerTime?1:0);t.setUint8(r.seconds);t.setUint8(r.minutes);t.setUint8(r.hours);t.setUint8(r.day||0);t.setUint8(r.date);t.setUint8(r.month);t.setUint8(r.year)};var gi=function(t,r){t.setUint32(r.id);t.setUint8(r.tariffSet);t.setUint8(r.activateYear);t.setUint8(r.activateMonth);t.setUint8(r.activateDay);t.setUint8(r.specialProfilesArraySize);t.setUint8(r.seasonProfilesArraySize);t.setUint8(r.dayProfilesArraySize)};var Ii=function(t,r){t.setUint8(r.monthTransitionSummer);t.setUint8(r.dateTransitionSummer);t.setUint8(r.hoursTransitionSummer);t.setUint8(r.hoursCorrectSummer);t.setUint8(r.monthTransitionWinter);t.setUint8(r.dateTransitionWinter);t.setUint8(r.hoursTransitionWinter);t.setUint8(r.hoursCorrectWinter);t.setUint8(+r.isCorrectionNeeded)};var Di=function(t,r){t.setUint8(Ui(r))};var Li=function(t,r){t.setUint8(r.month);t.setUint8(r.date);r.dayIndexes.forEach(function(r){return t.setUint8(r)})};var Ci=function(t,r){t.setUint8(r.month);t.setUint8(r.date);t.setUint8(r.dayIndex);t.setUint8(r.year)};var Pi=function(t,r){var e=r.timeCorrectPeriod|(r.timeCorrectPassHalfhour?128:0);t.setUint32(r.vpThreshold);t.setUint32(r.vThreshold);t.setUint32(r.ipThreshold);t.setUint32(r.pmaxThreshold0);t.setUint32(r.pmaxThreshold1);t.setUint32(r.pmaxThreshold2);t.setUint32(r.pmaxThreshold3);t.setUint8(hi(r.serialPortsSpeed));t.setUint8(r.tint);t.setUint8(r.calcPeriodDate);t.setUint8(r.timeoutDisplay);t.setUint8(r.timeoutScreen);t.setUint32(F(ui,r.displaySet));t.setUint8(F(di,r.relaySet4));t.setUint8(F(Oi,r.relaySet3));t.setUint8(F(Ri,r.relaySet2));t.setUint8(F(Ai,r.relaySet1));t.setUint8(r.displayType);t.setUint8(r.ten);t.setUint8(r.voltageAveragingInterval);t.setUint8(0);t.setUint8(r.deltaCorMin);t.setUint8(r.timeoutMagnetOff);t.setUint8(r.timeoutMagnetOn);t.setUint8(F(li,r.define1));t.setUint8(r.timeoutRelayOn);t.setUint8(r.timeoutRelayKey);t.setUint8(r.timeoutRelayAuto);t.setUint8(r.timeoutBadVAVB);t.setUint8(r.freqMax);t.setUint8(r.freqMin);t.setUint16(r.phMin);t.setUint8(r.year);t.setUint8(r.month);t.setUint8(r.date);t.setUint8(r.energyDecimalPoint);t.setUint8(r.typeMeter);t.setUint8(r.timeoutIMax);t.setUint8(r.timeoutPMax);t.setUint8(r.timeoutCos);t.setUint8(r.pMaxDef);t.setUint32(F(Ti,r.displaySetExt));t.setUint8(r.timeoutUneqCurrent);t.setUint8(r.timeoutBipolarPower);t.setUint8(F(ci,r.relaySet5));t.setUint8(e)};var Mi=function(t,r){t.setUint8(r.year);t.setUint8(r.month);t.setUint8(r.date)};var mi=function(t,r){r.coefficients.forEach(function(r){return t.setUint32(r)});t.setUint8(r.decimalPointTariff);t.setInt32(r.indicationThreshold);t.setInt32(r.relayThreshold);t.setUint8(r.mode);t.setUint8(r.saldoOffTimeBegin);t.setUint8(r.saldoOffTimeEnd);t.setUint8(r.decimalPointIndication);t.setUint32(r.powerThreshold);t.setInt32(r.creditThreshold)};var yi=function(t,r){var e=r.date.year<<1|r.date.month>>3&1;var a=r.date.month<<5&224|r.date.date&31;t.setUint8(e);t.setUint8(a);t.setUint8(r.demandType);t.setUint16(r.firstIndex);t.setUint8(r.count);t.setUint8(r.period)};var Fi=function(t,r){t.setUint8(r.channelParam1);t.setUint8(r.powerOffTrackingInterval);t.setUint8(r.channelParam2);t.setUint8(0)};var pi=function(t,r){var e=r.pmaxMinusThreshold0,a=r.pmaxMinusThreshold1,n=r.pmaxMinusThreshold2,i=r.pmaxMinusThreshold3,v=r.relaySet;t.setUint32(e);t.setUint32(a);t.setUint32(n);t.setUint32(i);t.setUint8(F(Ni,v))};var Yi=function(t){return btoa(t.map(function(t){return String.fromCharCode(t)}).join(""))};var Gi=function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return[t,r.length].concat(i(r))};var Hi=Pt;var Vi=1+si;var Bi=function(t){var r=new y(Vi,false);r.setUint8(t.tariffTable);gi(r,t.tariffPlan);return Gi(Hi,r.data)};var xi=Sr;var wi=function(){return Gi(xi)};var bi=ar;var Wi=function(){return Gi(bi)};var Ki=nr;var Xi=function(t){return Gi(Ki,[t.event,t.index])};var ji=$t;var zi=function(){return Gi(ji)};var Qi=gt;var Zi=function(){return Gi(Qi)};var ki=ht;var qi=function(){return Gi(ki)};var $i=3;var Ji=4;var tv=yt;var rv=function(t){var r=new y(t?.energyType?Ji:$i);Mi(r,t?.date);if(t?.energyType){r.setUint8(t.energyType)}return Gi(tv,r.data)};var ev=3;var av=4;var nv=Er;var iv=function(t){var r=new y(t?.energyType?av:ev,false);Mi(r,t?.date);if(t?.energyType){r.setUint8(t.energyType)}return Gi(nv,r.data)};var vv=jt;var sv=3;var Ev=function(t){var r=new y(sv,false);Mi(r,t.date);return Gi(vv,r.data)};var _v=ur;var ov=3;var fv=function(t){var r=new y(ov,false);Mi(r,t.date);return Gi(_v,r.data)};var uv=vr;var Tv=function(){return Gi(uv)};var Av=tr;var Rv=3;var Ov=function(t){var r=new y(Rv,false);r.setUint8(t.tariffTable);r.setUint8(t.index);r.setUint8(t.isActive?0:1);return Gi(Av,r.data)};var dv=Pr;var cv=7;var lv=function(t){var r=new y(cv,false);yi(r,t);return Gi(dv,r.data)};var Nv=Cr;var hv=function(){return Gi(Nv)};var Uv=Nt;var Sv=function(){return Gi(Uv)};var gv=lt;var Iv=function(){return Gi(gv)};var Dv=dr;var Lv=1;var Cv=function(t){var r=new y(Lv,false);r.setUint8(t.displayMode);return Gi(Dv,r.data)};var Pv=0;var Mv=1;var mv=It;var yv=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=new y(t?.energyType?Mv:Pv,false);if(t?.energyType){r.setUint8(t.energyType)}return Gi(mv,r.data)};var Fv=ct;var pv=function(t){if(t.energyType){return Gi(Fv,[t.energyType])}return Gi(Fv)};var Yv=0;var Gv=1;var Hv=Ar;var Vv=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=new y(t?.energyType?Gv:Yv,false);if(t?.energyType){r.setUint8(t.energyType)}return Gi(Hv,r.data)};var Bv=_r;var xv=function(t){if(t.energyType){return Gi(Bv,[t.energyType])}return Gi(Bv)};var wv=Qt;var bv=4;var Wv=function(t){var r=new y(bv,false);Mi(r,t.date);r.setUint8(t.offset);return Gi(wv,r.data)};var Kv=Zt;var Xv=function(){return Gi(Kv)};var jv=dt;var zv=function(){return Gi(jv)};var Qv=Jt;var Zv=function(){return Gi(Qv)};var kv=Wt;var qv=function(){return Gi(kv)};var $v=lr;var Jv=function(t){return Gi($v,[t.blockIndex])};var ts=mt;var rs=3;var es=function(t){var r=new y(rs,false);Mi(r,t.date);return Gi(ts,r.data)};var as=fr;var ns=3;var is=function(t){var r=new y(ns,false);Mi(r,t.date);return Gi(as,r.data)};var vs=sr;var ss=function(){return Gi(vs)};var Es={"A+":1,"A+R+":2,"A+R-":4,"A-":8,"A-R+":16,"A-R-":32};var _s=function(t){var r={};Object.keys(t).forEach(function(e){r[e]=!!t[e]});return F(Es,r)};var os=function(t,r){var e=r.year,a=r.month,n=r.date;var i=e<<1|a>>3&1;var v=a<<5&224|n&31;t.setUint8(i);t.setUint8(v)};var fs=function(t,r){t.setUint8(_s(r))};var us=Ur;var Ts=5;var As=function(t){var r=new y(Ts,false);os(r,t.date);fs(r,t.energies);r.setUint8(t.firstHalfhour);r.setUint8(t.halfhoursNumber);return Gi(us,r.data)};var Rs=hr;var Os=function(){return Gi(Rs)};var ds=Mr;var cs=function(){return Gi(ds)};var ls=Ft;var Ns=2;var hs=function(t){var r=new y(Ns,false);r.setUint8(t.year);r.setUint8(t.month);return Gi(ls,r.data)};var Us=or;var Ss=2;var gs=function(t){var r=new y(Ss,false);r.setUint8(t.year);r.setUint8(t.month);return Gi(Us,r.data)};var Is=zt;var Ds=function(t){var r=t.year,e=t.month;return Gi(Is,[r,e])};var Ls=Tr;var Cs=function(t){var r=t.year,e=t.month;return Gi(Ls,[r,e])};var Ps=Ht;var Ms=function(){return Gi(Ps)};var ms=gr;var ys=function(){return Gi(ms)};var Fs=Dr;var ps=function(t){var r=t.year,e=t.month;return Gi(Fs,[r,e])};var Ys=bt;var Gs=function(t){return Gi(Ys,[t.tariffTable])};var Hs=xt;var Vs=function(){return Gi(Hs)};var Bs=Kt;var xs=function(){return Gi(Bs)};var ws=rr;var bs=3;var Ws=function(t){var r=new y(bs,false);r.setUint8(t.tariffTable);r.setUint8(t.index);r.setUint8(t.isActive?0:1);return Gi(ws,r.data)};var Ks=er;var Xs=3;var js=function(t){var r=new y(Xs,false);r.setUint8(t.tariffTable);r.setUint8(t.index);r.setUint8(t.isActive?0:1);return Gi(Ks,r.data)};var zs=Bt;var Qs=function(){return Gi(zs)};var Zs=Mt;var ks=5;var qs=function(t){var r=new y(ks,false);r.setUint8(t.tariffTable);r.setUint32(t.id);return Gi(Zs,r.data)};var $s=kt;var Js=function(){return Gi($s)};var tE=qt;var rE=function(){return Gi(tE)};var eE=ir;var aE=function(t){return Gi(eE,[t.tariffTable])};var nE=16;var iE=St;var vE=1+nE;var sE=function(t){var r=new y(vE,false);r.setUint8(t.accessLevel);r.setBytes(t.key);return Gi(iE,r.data)};var EE=Rr;var _E=2;var oE=function(t){var r=new y(_E,false);r.setInt16(t.seconds);return Gi(EE,r.data)};var fE=Gt;var uE=9;var TE=function(t){var r=new y(uE,false);Ii(r,t);return Gi(fE,r.data)};var AE=Ut;var RE=8;var OE=function(t){var r=new y(RE,false);Si(r,t);return Gi(AE,r.data)};var dE=8;var cE=255;var lE=Dt;var NE=function(t){var r=t.periods.length<dE;var e=2+t.periods.length+ +r;var a=new y(e,false);a.setUint8(t.tariffTable);a.setUint8(t.index);t.periods.forEach(function(t){Di(a,t)});if(r){a.setUint8(cE)}return Gi(lE,a.data)};var hE=Lr;var UE=4;var SE=function(t){var r=new y(UE,false);Fi(r,t);return Gi(hE,r.data)};var gE=Or;var IE=function(t){return Gi(gE,[t.displayMode].concat(i(t.order)))};var DE=function(t,r){var e=65535;for(var a=0;a<r.length;a++){var n=r[a]^e&255;n^=n<<4&255;e=n<<3^n<<8^e>>8^n>>4}return e};var LE=function(t){return t&65280^65280|t&255^255};var CE;(function(t){t[t["X25"]=0]="X25"})(CE||(CE={}));var PE=function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:CE.X25;if(r===CE.X25){var e=DE(65535,t);return LE(e)}throw new Error("unknown CRC16 type")};var ME=function(t){var r=new y(2);r.setUint16(t);return r.toUint8Array()};var mE=function(t){if(t.length===0)return[];var r=PE(t);var e=ME(r);return[].concat(i(t),i(e))};var yE=218;var FE=60;var pE=function(t){var r=[yE].concat(i(t.data));if(t.data.length<FE){r.push.apply(r,i(new Array(FE+1-t.data.length).fill(0)))}return[t.index].concat(i(mE(r)))};var YE=cr;var GE=function(t){return Gi(YE,pE(t))};var HE=Vt;var VE=Ei;var BE=function(t){var r=new y(VE,false);Pi(r,t);return Gi(HE,r.data)};var xE=Ir;var wE=17;var bE=function(t){var r=new y(wE,false);pi(r,t);return Gi(xE,r.data)};var WE=wt;var KE=12;var XE=function(t){var r=new y(KE,false);r.setUint8(t.date.month);r.setUint8(t.date.date);r.setUint8(t.date.hours);r.setUint8(t.date.minutes);r.setInt32(t.saldoNew);r.setInt32(t.saldoOld);return Gi(WE,r.data)};var jE=Xt;var zE=37;var QE=function(t){var r=new y(zE,false);mi(r,t);return Gi(jE,r.data)};var ZE=Lt;var kE=2+oi;var qE=function(t){var r=new y(kE,false);r.setUint8(t.tariffTable);r.setUint8(t.index);Li(r,t);return Gi(ZE,r.data)};var $E=Ct;var JE=6;var t_=function(t){var r=new y(JE,false);r.setUint8(t.tariffTable);r.setUint8(t.index);Ci(r,t);return Gi($E,r.data)};var r_=Nr;var e_=2;var a_=function(t){var r=new y(e_,false);var e=0;if(t.readScreensInfo){e|=128}if(t.resetElectroMagneticIndication){e|=1}if(t.resetMagneticIndication){e|=2}r.setUint8(t.type);r.setUint8(e);return Gi(r_,r.data)};var n_=Yt;var i_=function(){return Gi(n_)};var v_=pt;var s_=function(){return Gi(v_)};var E_=ri;var __={encrypt:function(){},decrypt:function(){}};var o_=function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var e=r;t.forEach(function(t){e^=t});return e};var f_=e(e(e(e({},k,0),J,1),$,2),q,3);var u_=function(t){var r=J;t.forEach(function(t){var e;if("accessLevel"in t){e=t.accessLevel}if("command"in t){e=t.command.accessLevel}if(f_[e]>f_[r]){r=e}});return r};var T_=16;var A_=[0];var R_=function(t){return function(r,e){var a=e.messageId,n=a===void 0?1:a,v=e.accessLevel,s=v===void 0?u_(r):v,E=e.aesKey;var _=r.flatMap(function(r){if("id"in r){return t[r.id](r.parameters||{})}if("command"in r){return r.command.bytes}throw new Error("wrong command format")});var o=s|16;var f=[n,o];var u=r.length===1&&"id"in r[0]&&r[0].id===E_;if(u){return f.concat(_)}var T=[].concat(o,_,A_);if(s!==k){var A=(T.length+1)%T_;if(A){T=T.concat(new Array(T_-A).fill(0))}}T=T.concat(o_(T));if(E&&s!==k){T=i(__.encrypt(E,T))}return f.concat(T)}};var O_={};var d_=R_(O_);O_[Hi]=Bi;O_[xi]=wi;O_[bi]=Wi;O_[Ki]=Xi;O_[ji]=zi;O_[Qi]=Zi;O_[ki]=qi;O_[tv]=rv;O_[nv]=iv;O_[vv]=Ev;O_[_v]=fv;O_[uv]=Tv;O_[Av]=Ov;O_[dv]=lv;O_[Nv]=hv;O_[Uv]=Sv;O_[gv]=Iv;O_[Dv]=Cv;O_[mv]=yv;O_[Fv]=pv;O_[Hv]=Vv;O_[Bv]=xv;O_[wv]=Wv;O_[Kv]=Xv;O_[jv]=zv;O_[Qv]=Zv;O_[kv]=qv;O_[$v]=Jv;O_[ts]=es;O_[as]=is;O_[vs]=ss;O_[us]=As;O_[Rs]=Os;O_[ds]=cs;O_[ls]=hs;O_[Us]=gs;O_[Is]=Ds;O_[Ls]=Cs;O_[Ps]=Ms;O_[ms]=ys;O_[Fs]=ps;O_[Ys]=Gs;O_[Hs]=Vs;O_[Bs]=xs;O_[ws]=Ws;O_[Ks]=js;O_[zs]=Qs;O_[Zs]=qs;O_[$s]=Js;O_[tE]=rE;O_[eE]=aE;O_[iE]=sE;O_[EE]=oE;O_[fE]=TE;O_[AE]=OE;O_[lE]=NE;O_[hE]=SE;O_[gE]=IE;O_[YE]=GE;O_[HE]=BE;O_[xE]=bE;O_[WE]=XE;O_[jE]=QE;O_[ZE]=qE;O_[$E]=t_;O_[r_]=a_;O_[n_]=i_;O_[v_]=s_;var c_=145;var l_=30;var N_=function(t){var r=[l_,t.length+2,0,c_].concat(i(t));return[].concat(i(r),[o_(r)])};toBytes=d_;getBase64FromBytes=Yi;setDataSegment=N_})();
//#endregion


/*
  Incoming arguments:
    * msg - JSON message payload downlink message json
    * msgType - type of message, for ex. 'ATTRIBUTES_UPDATED', 'POST_TELEMETRY_REQUEST', etc.
    * metadata - list of key-value pairs with additional data about the message
    * integrationMetadata - list of key-value pairs with additional data defined in Integration executing this converter

  Output must be an object with the following fields:
    * contentType - BINARY
    * data - payload in base64
*/

var bytes = toBytes(msg.commands);

// send nothing if not fit in a single data segment
if ( bytes.length > MAX_DATA_SEGMENT_SIZE ) {
    bytes = [];
} else {
    bytes = setDataSegment(bytes);
}

var result = {
    contentType: 'BINARY',
    data: getBase64FromBytes(bytes)
};

return result;
