// IMPORTANT!!!
// This example only for default uplink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/


//#region [autogenerated jooby-codec bundle from index.js]
var fromBytes,getDataSegment;(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function e(t){if(Array.isArray(t))return t}function r(e){if(Array.isArray(e))return t(e)}function n(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function i(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,s,o=[],f=!0,v=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);f=!0);}catch(t){v=!0,i=t}finally{try{if(!f&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(v)throw i}}return o}}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,r){return e(t)||i(t,r)||h(t,r)||a()}function f(t){return e(t)||n(t)||h(t)||a()}function v(t){return r(t)||n(t)||h(t)||s()}function h(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}var u=function(t){var e=t.trim();if(!e){return[]}e=e.replace(/0x/g,"").split(/\s+/).map((function(t){return t.padStart(2,"0")})).join("");if(e.length%2!==0){e="0".concat(e)}var r=e.length/2;var n=new Array(r);for(var i=0;i<r;i++){n[i]=parseInt(e.substring(i*2,i*2+2),16)}return n};var g={separator:" ",prefix:""};var E=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=Object.assign({},g,e),n=r.separator,i=r.prefix;return t.map((function(t){return"".concat(i).concat(t.toString(16).padStart(2,"0"))})).join(n)};var c=0;var l=19;var _="activateRatePlan";var A=0;var d=function(t){if(t.length!==A){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var U=1;var T=2;var p=3;var R=4;var y=Math.log,O=Math.pow,m=Math.LN2;var S=function(t,e,r,n,i){var a,s,o=i*8-n-1,f=(1<<o)-1,v=f>>1,h=-7,u=r?i-1:0,g=r?-1:1,E=t[e+u];u+=g;a=E&(1<<-h)-1;E>>=-h;h+=o;for(;h>0;a=a*256+t[e+u],u+=g,h-=8);s=a&(1<<-h)-1;a>>=-h;h+=n;for(;h>0;s=s*256+t[e+u],u+=g,h-=8);if(a===0){a=1-v}else if(a===f){return s?NaN:E?-Infinity:Infinity}else{s=s+O(2,n);a=a-v}return(E?-1:1)*s*O(2,a-n)};var M=function(t,e,r,n,i,a){var s,o,f,v=a*8-i-1,h=(1<<v)-1,u=h>>1,g=i===23?O(2,-24)-O(2,-77):0,E=n?0:a-1,c=n?1:-1,l=r<0||r===0&&1/r<0?1:0;r<0&&(r=-r);if(r!==r||r===Infinity){o=r!==r?1:0;s=h}else{s=y(r)/m|0;if(r*(f=O(2,-s))<1){s--;f*=2}if(s+u>=1){r+=g/f}else{r+=g*O(2,1-u)}if(r*f>=2){s++;f/=2}if(s+u>=h){o=0;s=h}else if(s+u>=1){o=(r*f-1)*O(2,i);s=s+u}else{o=r*O(2,u-1)*O(2,i);s=0}}for(;i>=8;t[e+E]=o&255,E+=c,o/=256,i-=8);s=s<<i|o;v+=i;for(;v>0;t[e+E]=s&255,E+=c,s/=256,v-=8);t[e+E-c]|=l*128};var P=[1,0];var D=[2,1,0];var I=[3,2,1,0];var N=[0,1];var L=[0,1,2];var C=[0,1,2,3];var w=function(t,e){return t[e]};var F=function(t,e,r){var n=r?N:P;var i=t[e+n[0]];var a=t[e+n[1]]<<8;return i|a};var x=function(t,e,r){var n=r?L:D;var i=t[e+n[0]];var a=t[e+n[1]]<<8;var s=t[e+n[2]]<<16;return i|a|s};var B=function(t,e,r){var n=r?C:I;var i=t[e+n[3]]*16777216;var a=t[e+n[2]]*65536;var s=t[e+n[1]]*256;var o=t[e+n[0]];return i+a+s+o};var Y=function(t,e,r){t[e]=r&255};var b=function(t,e,r,n){var i=n?N:P;t[e+i[0]]=r&255;t[e+i[1]]=r>>>8&255};var W=function(t,e,r,n){var i=n?L:D;t[e+i[0]]=r&255;t[e+i[1]]=r>>>8&255;t[e+i[2]]=r>>>16&255};var H=function(t,e,r,n){var i=n?C:I;t[e+i[0]]=r&255;t[e+i[1]]=r>>>8&255;t[e+i[2]]=r>>>16&255;t[e+i[3]]=r>>>24&255};function G(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var r=new Array(t).fill(0);this.data=r}else{this.data=t}this.offset=0;this.isLittleEndian=e}G.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){Y(this.data,this.offset,t<0?t|256:t);this.offset+=U},getInt8:function(){var t=w(this.data,this.offset);this.offset+=U;return t&128?t^-256:t},setUint8:function(t){Y(this.data,this.offset,t);this.offset+=U},getUint8:function(){var t=w(this.data,this.offset);this.offset+=U;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;b(this.data,this.offset,t<0?t|65536:t,e);this.offset+=T},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=F(this.data,this.offset,t);this.offset+=T;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;b(this.data,this.offset,t,e);this.offset+=T},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=F(this.data,this.offset,t);this.offset+=T;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;W(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=p},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=x(this.data,this.offset,t);this.offset+=p;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;W(this.data,this.offset,t,e);this.offset+=p},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=x(this.data,this.offset,t);this.offset+=p;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;H(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=R},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=B(this.data,this.offset,t);this.offset+=R;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;H(this.data,this.offset,t,e);this.offset+=R},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=B(this.data,this.offset,t);this.offset+=R;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;M(this.data,this.offset,t,e,23,4);this.offset+=R},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=S(this.data,this.offset,t,23,4);this.offset+=R;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var r=[];while(this.offset<e){r.push(String.fromCharCode(this.getUint8()))}return r.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var r=this.data;r.splice.apply(r,[e,t.length].concat(v(t)));this.data=r;this.offset=e+t.length}};Object.defineProperties(G.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var V=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=0;for(var n in e){if(n in t&&e[n]){r|=t[n]}}return r};var z=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r={};for(var n in t){r[n]=(e&t[n])!==0}return r};var K=function(t,e,r){return(1<<e)-1&t>>r-1};var X=function(t,e,r,n){var i=(1<<e)-1<<r-1;var a=n;var s=t;s&=~i;a<<=r-1;s|=a;return s};var k="x";var j=[".","1","3","R","M"];var Q=[".","A","G","R","T","D"];var q=[".","0","1","2","3","4","5"];var Z=[".","A","B","C","D","E","F"];var $=[".","A","B","C","D","E","F","H","K","G"];var J=[".","1","2","3","4"];var tt=[".","L","M","Z","K"];var et=[".","0","1","2","3","4","5","6","7","8","9"];var rt=[".","D","B","C","E","P","R","O","L","F","S","M","Y","G","N","U"];var nt=[".","0","1","2","3","4","5","6","P","R","L","E","G","-","/"];var it=[".","H","A","T","0","0","0","0","0","1","2","3","4","0","0","0"];var at=[".","0","1","2","3","4","5","6","7","8","I","X","G","W","M","-"];var st=function(t){return[t>>4,t&15]};var ot=function(t){var e=new Array(t.length*2).fill(0);t.forEach((function(t,r){var n=st(t),i=o(n,2),a=i[0],s=i[1];e[r*2]=a;e[r*2+1]=s}));return e};var ft=function(t){var e=[];t.forEach((function(t){return e.push(t.toString(16))}));if(t.length&1){e.push("0")}return u(e.join(""))};var vt=function(t){if(t.length!==14&&t.length!==16){throw new Error("Device type bytes wrong size")}var e=["MTX "];e.push(j[t[0]]??k);e.push(Q[t[1]]??k);e.push(q[t[2]]??k);e.push(q[t[3]]??k);e.push(".");e.push(Z[t[4]]??k);e.push($[t[5]]??k);e.push(".");e.push(J[t[6]]??k);e.push(tt[t[7]]??k);var r=t[8];e.push(et[t[9]]??k);e.push("-");var n;if(t.length<14||t[12]===0&&t[13]===0){e.push(rt[t[10]]??k);n=11}else if(t[13]===0){e.push(rt[t[10]]??k);e.push(rt[t[11]]??k);n=12}else{e.push(rt[t[10]]??k);e.push(rt[t[11]]??k);e.push(rt[t[12]]??k);n=13}var i=t[n];if(i&&i!==0){e.push(it[i]??k)}return{type:e.join(""),revision:r,meterType:0}};var ht=function(t,e,r){var n=[];if(t.length<11){throw new Error("Wrong format")}n.push(j.indexOf(t[0]));n.push(Q.indexOf(t[1]));n.push(q.indexOf(t[2]));n.push(q.indexOf(t[3]));if(t[4]!=="."){throw new Error("Wrong format")}n.push(Z.indexOf(t[5]));n.push($.indexOf(t[6]));if(t[7]!=="."){throw new Error("Wrong format")}n.push(J.indexOf(t[8]));n.push(tt.indexOf(t[9]));n.push(r??0);n.push(et.indexOf(t[10]));if(t[11]!=="-"){throw new Error("Wrong format")}var i=t.length>13?t.length-1:t.length;for(var a=12;a<i;a++){n.push(rt.indexOf(t[a]))}if(i<t.length){n.push(it.indexOf(t[i]))}var s=ft(n);var o=new Array(9).fill(0);o[0]=0;for(var f=0;f<s.length;f++){o[f+(s.length<8?1:0)]=s[f]}return o};var ut=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=["MTX "];var r=t[1]===5?"-":" ";e.push(j[t[0]]??k);e.push(Q[t[1]]??k);e.push(r);for(var n=2;n<t.length;n++){if(t[n]!==0){e.push(nt[t[n]]??k)}}return{type:e.join(""),meterType:0}};var gt=function(t){if(t.length<3){throw new Error("Wrong format")}var e=[];e.push(j.indexOf(t[0]));e.push(Q.indexOf(t[1]));for(var r=3;r<t.length;r++){e.push(nt.indexOf(t[r]))}var n=ft(e);if(n.length===8){return n}if(n.length>8){throw new Error("Wrong format")}var i=new Array(8).fill(0);for(var a=0;a<n.length;a++){i[a]=n[a]}return i};var Et=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=[];e.push(j[t[0]]??k);for(var r=1;r<t.length;r++){if(t[r]!==0){e.push(at[t[r]]??k)}}return{type:e.join(""),meterType:0}};var ct=function(t){if(t.length<1){throw new Error("Wrong format")}var e=[];e.push(j.indexOf(t[0]));for(var r=1;r<t.length;r++){e.push(at.indexOf(t[r]))}var n=ft(e);var i=new Array(8).fill(0);for(var a=0;a<n.length&&a<8;a++){i[a]=n[a]}return i};var lt=function(t){if(t.length!==9){throw new Error("The buffer is too small")}var e;var r=[0,5,6,7,9,127,239];var n=r.indexOf(t[0])!==-1?2:0;var i=ot(t.slice(0,8));var a=i[n];var s=j[a];if(s==="1"||s==="3"){e=vt(i.slice(n))}else{e=s==="M"?Et(i):ut(i)}e.meterType=t[8];return e};var _t=function(t,e){var r=t.type,n=t.revision,i=t.meterType;if(!r.startsWith("MTX ")){throw new Error("Wrong format")}var a;var s=r.substring(4);var o=r[4];if(o==="1"||o==="3"){a=ht(s,e,n)}else{a=o==="M"?ct(s):gt(s)}a[8]=i;return a};var At=80;var dt=81;var Ut=82;var Tt=83;var pt=84;var Rt=85;var yt=86;var Ot=87;var mt=88;var St=89;var Mt=90;var Pt=91;var Dt=255;var It=Object.freeze({__proto__:null,DATA_REQUEST:At,DATA_RESPONSE:dt,FRAGMENT_REQUEST:Mt,FRAGMENT_RESPONSE:Pt,IDENT_REQUEST:Ut,IDENT_RESPONSE:Tt,INVALID:Dt,L2_CHECK_ADDRESS_REQUEST:yt,L2_CHECK_ADDRESS_RESPONSE:Ot,L2_RM_ADDRESS_REQUEST:mt,L2_RM_ADDRESS_RESPONSE:St,L2_SET_ADDRESS_REQUEST:pt,L2_SET_ADDRESS_RESPONSE:Rt});var Nt=function(t){var e={};for(var r in t){var n=t[r];e[n]=r}return e};var Lt=Nt(It);var Ct=1;var wt=2;var Ft=3;var xt=16;var Bt=17;var Yt=18;var bt=19;var Wt=20;var Ht=21;var Gt=32;var Vt=33;var zt=34;var Kt=35;var Xt=36;var kt=37;var jt=38;var Qt=39;var qt=40;var Zt=41;var $t=49;var Jt=50;var te=51;var ee=52;var re=53;var ne=54;var ie=55;var ae=56;var se=57;var oe=64;var fe=65;var ve=66;var he=67;var ue=68;var ge=69;var Ee=70;var ce=71;var le=72;var _e=73;var Ae=74;var de=75;var Ue=76;var Te=77;var pe=78;var Re=79;var ye=80;var Oe=81;var me=82;var Se=83;var Me=84;var Pe=85;var De=86;var Ie=87;var Ne=88;var Le=89;var Ce=96;var we=97;var Fe=98;var xe=99;var Be=100;var Ye=101;var be=102;var We=103;var He=104;var Ge=105;var Ve=112;var ze=113;var Ke=114;var Xe=115;var ke=116;var je=117;var Qe=118;var qe=119;var Ze=120;var $e=121;var Je=122;var tr=123;var er=124;var rr=125;var nr=144;var ir=145;var ar=147;var sr=148;var or=156;var fr=157;var vr=158;var hr=159;var ur=160;var gr=161;var Er=162;var cr=176;var lr=177;var _r=178;var Ar=179;var dr=180;var Ur=181;var Tr=182;var pr=183;var Rr=208;var yr=224;var Or=225;var mr=226;var Sr=227;var Mr=228;var Pr=229;var Dr=230;var Ir=Object.freeze({__proto__:null,ACCESS_CLOSED:xt,ACCPARAM_BAD:Ke,ACCPARAM_EXT_BAD:Xe,BAD_TEST_EEPROM:He,BAD_TEST_FRAM:Ge,BAT_FAULT:Se,BAT_OK:me,BIPOLAR_POWER_FAULT:dr,BIPOLAR_POWER_OK:Ur,BLOCK_TARIFF_BAD:je,CALC_PERIOD_BAD:ke,CALFLAG_RESET:We,CALFLAG_SET:be,CALIBR_PARAM_BAD:Qe,CAL_FAULT:Pe,CAL_OK:Me,CASE_CLOSE:bt,CASE_MODULE_CLOSE:rr,CASE_MODULE_OPEN:er,CASE_OPEN:Yt,CASE_TERMINAL_CLOSE:tr,CASE_TERMINAL_OPEN:Je,CHANGE_ACCESS_KEY0:Gt,CHANGE_ACCESS_KEY1:Vt,CHANGE_ACCESS_KEY2:zt,CHANGE_ACCESS_KEY3:Kt,CHANGE_COR_TIME:Zt,CHANGE_PAR_LOCAL:Xt,CHANGE_PAR_REMOTE:kt,CHANGE_TARIFF_TBL:Jt,CLOCK_FAULT:Ie,CLOCK_OK:De,CMD_CHANGE_TIME:jt,CMD_RELAY_2_OFF:we,CMD_RELAY_2_ON:Ce,CMD_RELAY_OFF:qt,CMD_RELAY_ON:Qt,CROSSZERO_ENT0:Fe,CROSSZERO_ENT1:xe,CROSSZERO_ENT2:Be,CROSSZERO_ENT3:Ye,CROSSZERO_EXP_ENT0:vr,CROSSZERO_EXP_ENT1:hr,CROSSZERO_EXP_ENT2:ur,CROSSZERO_EXP_ENT3:gr,CURRENT_UNEQUIL_FAULT:_r,CURRENT_UNEQUIL_OK:Ar,EM_MAGNETIC_OFF:lr,EM_MAGNETIC_ON:cr,ENERGY_REG_FAULT:Ct,ENERGY_REG_OVERFLOW:$t,ERR_ACCESS:Bt,F_MAX_OK:le,F_MAX_OVER:_e,F_MIN_OK:Ae,F_MIN_OVER:de,I_MAX_OK:Ue,I_MAX_OVER:Te,MAGNETIC_OFF:Ht,MAGNETIC_ON:Wt,NVRAM_FAULT:Rr,OP_PAR_FAULT:Ft,POWERSALDO_OK:ye,POWERSALDO_OVER:Oe,POWER_A_OFF:Ne,POWER_A_ON:Le,POWER_OVER_RELAY_OFF:fr,P_MAX_OK:pe,P_MAX_OVER:Re,RELAY_HARD_BAD_OFF:nr,RELAY_HARD_BAD_ON:ar,RELAY_HARD_OFF:sr,RELAY_HARD_ON:ir,RELAY_OFF:ie,RELAY_ON:ne,RESET_EM_FLAG:Tr,RESET_MAGN_FLAG:pr,RESTART:ae,SALDO_EN_BAD:Ze,SALDO_PARAM_BAD:ze,SET_DEMAND_EN_10MIN:Sr,SET_DEMAND_EN_15MIN:Mr,SET_DEMAND_EN_1MIN:yr,SET_DEMAND_EN_30MIN:Pr,SET_DEMAND_EN_3MIN:Or,SET_DEMAND_EN_5MIN:mr,SET_DEMAND_EN_60MIN:Dr,SET_NEW_SALDO:Ve,SET_SALDO_PARAM:or,SET_TARIFF_TBL:te,SUMMER_TIME:ee,TIME_CORRECT:$e,TIME_CORRECT_NEW:Er,T_MAX_OK:ue,T_MAX_OVER:ge,T_MIN_OK:Ee,T_MIN_OVER:ce,VENDOR_PAR_FAULT:wt,V_MAX_OK:oe,V_MAX_OVER:fe,V_MIN_OK:ve,V_MIN_OVER:he,WD_RESTART:se,WINTER_SUMMER_BAD:qe,WINTER_TIME:re});var Nr=Nt(Ir);var Lr={type:At,destination:65535,source:65534};var Cr=11;var wr=7;var Fr=4;var xr=48;var Br=50;var Yr=3+xr*2;var br={SET_ALL_SEGMENT_DISPLAY:1,SOFTWARE_VERSION:2,TOTAL_ACTIVE_ENERGY:4,ACTIVE_ENERGY_T1:8,ACTIVE_ENERGY_T2:16,ACTIVE_ENERGY_T3:32,ACTIVE_ENERGY_T4:64,ACTIVE_POWER_PER_PHASE:128,ACTIVE_POWER_IN_NEUTRAL:256,CURRENT_IN_PHASE:512,CURRENT_IN_NEUTRAL:1024,VOLTAGE:2048,HOUR_MINUTE_SECOND:4096,DATE_MONTH_YEAR:8192,TOTAL_EXPORTED_ACTIVE_ENERGY:16384,EXPORTED_ACTIVE_ENERGY_T1:32768,EXPORTED_ACTIVE_ENERGY_T2:65536,EXPORTED_ACTIVE_ENERGY_T3:131072,EXPORTED_ACTIVE_ENERGY_T4:262144,POWER_COEFFICIENT_PHASE_A:524288,POWER_COEFFICIENT_PHASE_B:1048576,BATTERY_VOLTAGE:2097152,POWER_THRESHOLD_T1:4194304,POWER_THRESHOLD_T2:8388608,POWER_THRESHOLD_T3:16777216,POWER_THRESHOLD_T4:33554432,CURRENT_BALANCE:536870912};var Wr={...br,AUTO_SCREEN_SCROLLING:2147483648};var Hr={...br,MAGNET_INDUCTION:134217728,OPTOPORT_SPEED:1073741824,SORT_DISPLAY_SCREENS:2147483648};var Gr={RELAY_ON_Y:1,RELAY_ON_CENTER:2,RELAY_ON_PB:4,RELAY_ON_TARIFF_0:8,RELAY_ON_TARIFF_1:16,RELAY_ON_TARIFF_2:32,RELAY_ON_TARIFF_3:64,RELAY_ON_V_GOOD:128};var Vr={RELAY_OFF_Y:1,RELAY_OFF_CENTER:2,RELAY_OFF_TARIFF_0:4,RELAY_OFF_TARIFF_1:8,RELAY_OFF_TARIFF_2:16,RELAY_OFF_TARIFF_3:32,RELAY_OFF_I_LIMIT:64,RELAY_OFF_V_BAD:128};var zr={RELAY_OFF_LIM_TARIFF_0:2,RELAY_OFF_LIM_TARIFF_1:4,RELAY_OFF_LIM_TARIFF_2:8,RELAY_OFF_LIM_TARIFF_3:16,RELAY_OFF_PF_MIN:32};var Kr={RELAY_ON_TIMEOUT:1,RELAY_ON_SALDO:2,RELAY_OFF_SALDO:4,RELAY_OFF_SALDO_SOFT:8,RELAY_OFF_MAGNET:16,RELAY_ON_MAGNET_TIMEOUT:32,RELAY_ON_MAGNET_AUTO:64};var Xr={RELAY_OFF_UNEQUAL_CURRENT:1,RELAY_ON_UNEQUAL_CURRENT:2,RELAY_OFF_BIPOLAR_POWER:4,RELAY_ON_BIPOLAR_POWER:8};var kr={BLOCK_KEY_OPTOPORT:2,MAGNET_SCREEN_CONST:32};var jr={CASE_OPEN:2**0,MAGNETIC_ON:2**1,PARAMETERS_UPDATE_REMOTE:2**2,PARAMETERS_UPDATE_LOCAL:2**3,RESTART:2**4,ERROR_ACCESS:2**5,TIME_SET:2**6,TIME_CORRECT:2**7,DEVICE_FAILURE:2**8,CASE_TERMINAL_OPEN:2**9,CASE_MODULE_OPEN:2**10,TARIFF_TABLE_SET:2**11,TARIFF_TABLE_GET:2**12,PROTECTION_RESET_EM:2**13,PROTECTION_RESET_MAGNETIC:2**14};var Qr={RELAY_STATE:2**0,RELAY_UBAD:2**1,RELAY_UNEQ_CURRENT:2**4,RELAY_OFF_CENTER:2**5,RELAY_IMAX:2**6,RELAY_PMAX:2**7};var qr={RELAY_COSFI:2**0,RELAY_SALDO_OFF_FLAG:2**1,RELAY_UNEQUIL_CURRENT_OFF:2**2,RELAY_BIPOLAR_POWER_OFF:2**3,RELAY_SALDO_OFF_ON_MAX_POWER:2**4,RELAY_HARD_ST1:2**5};var Zr={MAXVA:2**0,MINVA:2**1,MAXT:2**2,MINT:2**3,MAXF:2**4,MINF:2**5,MAXIA:2**6,MAXP:2**7};var $r={MAX_POWER_SALDO:2**0,BATTERY_VBAT_BAD:2**1,CLOCK_UNSET:2**3,MIN_COS_FI:2**5};var Jr={UNEQUIL_CURRENT:2**0,BIPOLAR_POWER:2**1,POWER_A_NEGATIVE:2**6,POWER_B_NEGATIVE:2**7};var tn={RELAY_OFF_LIMIT_P_MINUS_T1:4,RELAY_OFF_LIMIT_P_MINUS_T2:8,RELAY_OFF_LIMIT_P_MINUS_T3:16,RELAY_OFF_LIMIT_P_MINUS_T4:32};function en(t,e,r){var n=r>>Fr;var i=new Array(Fr).fill(0);i.forEach((function(e,r){var a=!!K(n,1,r+1);if(a){i[r]=t.getUint32()}else{i[r]=null}}));return i}function rn(t,e,r){var n=1+Fr;var i=e;r.forEach((function(t,e){i=X(i,1,e+n,Number(!!t))}));t.setUint8(i)}function nn(t){if(t===65535){return{tariff:undefined,energy:undefined}}return{tariff:t>>14&3,energy:t&16383}}function an(t,e){var r=e.tariff,n=e.energy;if(r!==undefined&&n!==undefined){t.setUint16(r<<14|n&16383)}else{t.setUint16(65535)}}function sn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;G.call(this,t,e)}sn.prototype=Object.create(G.prototype);sn.prototype.constructor=sn;sn.getDayProfileFromByte=function(t){return{tariff:K(t,2,1),isFirstHalfHour:!K(t,1,3),hour:K(t,5,4)}};sn.getByteFromDayProfile=function(t){var e=0;e=X(e,2,1,t.tariff);e=X(e,1,3,+!t.isFirstHalfHour);e=X(e,5,4,t.hour);return e};sn.getDefaultSeasonProfile=function(){return{month:1,date:1,dayIndexes:[0,0,0,0,0,0,0]}};sn.getDefaultOperatorParameters=function(){return{vpThreshold:265e3,vThreshold:156e3,ipThreshold:12e4,pmaxThreshold0:31800,pmaxThreshold1:31800,pmaxThreshold2:31800,pmaxThreshold3:31800,speedOptoPort:0,tint:30,calcPeriodDate:1,timeoutDisplay:127,timeoutScreen:7,displaySet:z(Wr,2147496324),relaySet4:z(Kr,0),relaySet3:z(zr,0),relaySet2:z(Vr,3),relaySet1:z(Gr,3),displayType:0,ten:0,timeoutRefresh:240,deltaCorMin:15,timeoutMagnetOff:5,timeoutMagnetOn:5,define1:z(kr,0),timeoutRelayOn:1,timeoutRelayKey:0,timeoutRelayAuto:5,timeoutBadVAVB:5,freqMax:55,freqMin:45,phMin:0,year:0,month:0,date:0,energyDecimalPoint:2,typeMeter:0,timeoutIMax:5,timeoutPMax:5,timeoutCos:5,pMaxDef:1,displaySetExt:z(Hr,137904127),timeoutUneqCurrent:5,timeoutBipolarPower:5,relaySet5:z(Xr,0),timeCorrectPeriod:24,timeCorrectPassHalfhour:false}};sn.prototype.getFrameHeader=function(){var t=this.getUint8();var e=Lt[t];var r=this.getUint16();var n=this.getUint16();return{type:t,typeName:e,destination:r,source:n}};sn.prototype.setFrameHeader=function(t){var e=t.type,r=e===void 0?Lr.type:e,n=t.destination,i=n===void 0?Lr.destination:n,a=t.source,s=a===void 0?Lr.source:a;this.setUint8(r);this.setUint16(i);this.setUint16(s)};sn.prototype.getDeviceId=function(){var t=E(this.getBytes(3),{separator:""});var e=this.getUint8();var r=this.getUint8();var n=E(this.getBytes(3),{separator:""});return{manufacturer:t,type:e,year:r,serial:n}};sn.prototype.setDeviceId=function(t){var e=t.manufacturer,r=t.type,n=t.year,i=t.serial;this.setBytes(u(e));this.setUint8(r);this.setUint8(n);this.setBytes(u(i))};sn.prototype.getDateTime=function(){return{isSummerTime:!!this.getUint8(),seconds:this.getUint8(),minutes:this.getUint8(),hours:this.getUint8(),day:this.getUint8(),date:this.getUint8(),month:this.getUint8(),year:this.getUint8()}};sn.prototype.setDateTime=function(t){this.setUint8(t.isSummerTime?1:0);this.setUint8(t.seconds);this.setUint8(t.minutes);this.setUint8(t.hours);this.setUint8(t.day||0);this.setUint8(t.date);this.setUint8(t.month);this.setUint8(t.year)};sn.prototype.getTariffPlan=function(){return{id:this.getUint32(),tariffSet:this.getUint8(),activateYear:this.getUint8(),activateMonth:this.getUint8(),activateDay:this.getUint8(),specialProfilesArraySize:this.getUint8(),seasonProfilesArraySize:this.getUint8(),dayProfilesArraySize:this.getUint8()}};sn.prototype.setTariffPlan=function(t){this.setUint32(t.id);this.setUint8(t.tariffSet);this.setUint8(t.activateYear);this.setUint8(t.activateMonth);this.setUint8(t.activateDay);this.setUint8(t.specialProfilesArraySize);this.setUint8(t.seasonProfilesArraySize);this.setUint8(t.dayProfilesArraySize)};sn.prototype.getTimeCorrectionParameters=function(){return{monthTransitionSummer:this.getUint8(),dateTransitionSummer:this.getUint8(),hoursTransitionSummer:this.getUint8(),hoursCorrectSummer:this.getUint8(),monthTransitionWinter:this.getUint8(),dateTransitionWinter:this.getUint8(),hoursTransitionWinter:this.getUint8(),hoursCorrectWinter:this.getUint8(),isCorrectionNeeded:this.getUint8()===1}};sn.prototype.setTimeCorrectionParameters=function(t){this.setUint8(t.monthTransitionSummer);this.setUint8(t.dateTransitionSummer);this.setUint8(t.hoursTransitionSummer);this.setUint8(t.hoursCorrectSummer);this.setUint8(t.monthTransitionWinter);this.setUint8(t.dateTransitionWinter);this.setUint8(t.hoursTransitionWinter);this.setUint8(t.hoursCorrectWinter);this.setUint8(+t.isCorrectionNeeded)};sn.prototype.getDayProfile=function(){return sn.getDayProfileFromByte(this.getUint8())};sn.prototype.setDayProfile=function(t){this.setUint8(sn.getByteFromDayProfile(t))};sn.prototype.getSeasonProfile=function(){var t=this;return{month:this.getUint8(),date:this.getUint8(),dayIndexes:new Array(wr).fill(0).map((function(){return t.getUint8()}))}};sn.prototype.setSeasonProfile=function(t){var e=this;this.setUint8(t.month);this.setUint8(t.date);t.dayIndexes.forEach((function(t){return e.setUint8(t)}))};sn.prototype.getSpecialDay=function(){return{month:this.getUint8(),date:this.getUint8(),dayIndex:this.getUint8(),isPeriodic:this.getUint8()===0}};sn.prototype.setSpecialDay=function(t){this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.dayIndex);this.setUint8(+!t.isPeriodic)};sn.prototype.getDeviceType=function(){return lt(this.getBytes(9))};sn.prototype.setDeviceType=function(t){this.setBytes(_t(t))};sn.prototype.getOperatorParameters=function(){var t={vpThreshold:this.getUint32(),vThreshold:this.getUint32(),ipThreshold:this.getUint32(),pmaxThreshold0:this.getUint32(),pmaxThreshold1:this.getUint32(),pmaxThreshold2:this.getUint32(),pmaxThreshold3:this.getUint32(),speedOptoPort:this.getUint8(),tint:this.getUint8(),calcPeriodDate:this.getUint8(),timeoutDisplay:this.getUint8(),timeoutScreen:this.getUint8(),displaySet:z(Wr,this.getUint32()),relaySet4:z(Kr,this.getUint8()),relaySet3:z(zr,this.getUint8()),relaySet2:z(Vr,this.getUint8()),relaySet1:z(Gr,this.getUint8()),displayType:this.getUint8(),ten:this.getUint8(),timeoutRefresh:this.getUint16(),deltaCorMin:this.getUint8(),timeoutMagnetOff:this.getUint8(),timeoutMagnetOn:this.getUint8(),define1:z(kr,this.getUint8()),timeoutRelayOn:this.getUint8(),timeoutRelayKey:this.getUint8(),timeoutRelayAuto:this.getUint8(),timeoutBadVAVB:this.getUint8(),freqMax:this.getUint8(),freqMin:this.getUint8(),phMin:this.getUint16(),year:this.getUint8(),month:this.getUint8(),date:this.getUint8(),energyDecimalPoint:this.getUint8(),typeMeter:this.getUint8(),timeoutIMax:this.getUint8(),timeoutPMax:this.getUint8(),timeoutCos:this.getUint8(),pMaxDef:this.getUint8(),displaySetExt:z(Hr,this.getUint32()),timeoutUneqCurrent:this.getUint8(),timeoutBipolarPower:this.getUint8(),relaySet5:z(Xr,this.getUint8()),timeCorrectPeriod:0,timeCorrectPassHalfhour:false};var e=this.getUint8();t.timeCorrectPeriod=e&127;t.timeCorrectPassHalfhour=!!(e&128);return t};sn.prototype.setOperatorParameters=function(t){var e=t.timeCorrectPeriod|(t.timeCorrectPassHalfhour?128:0);this.setUint32(t.vpThreshold);this.setUint32(t.vThreshold);this.setUint32(t.ipThreshold);this.setUint32(t.pmaxThreshold0);this.setUint32(t.pmaxThreshold1);this.setUint32(t.pmaxThreshold2);this.setUint32(t.pmaxThreshold3);this.setUint8(t.speedOptoPort);this.setUint8(t.tint);this.setUint8(t.calcPeriodDate);this.setUint8(t.timeoutDisplay);this.setUint8(t.timeoutScreen);this.setUint32(V(Wr,t.displaySet));this.setUint8(V(Kr,t.relaySet4));this.setUint8(V(zr,t.relaySet3));this.setUint8(V(Vr,t.relaySet2));this.setUint8(V(Gr,t.relaySet1));this.setUint8(t.displayType);this.setUint8(t.ten);this.setUint16(t.timeoutRefresh);this.setUint8(t.deltaCorMin);this.setUint8(t.timeoutMagnetOff);this.setUint8(t.timeoutMagnetOn);this.setUint8(V(kr,t.define1));this.setUint8(t.timeoutRelayOn);this.setUint8(t.timeoutRelayKey);this.setUint8(t.timeoutRelayAuto);this.setUint8(t.timeoutBadVAVB);this.setUint8(t.freqMax);this.setUint8(t.freqMin);this.setUint16(t.phMin);this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.energyDecimalPoint);this.setUint8(t.typeMeter);this.setUint8(t.timeoutIMax);this.setUint8(t.timeoutPMax);this.setUint8(t.timeoutCos);this.setUint8(t.pMaxDef);this.setUint32(V(Hr,t.displaySetExt));this.setUint8(t.timeoutUneqCurrent);this.setUint8(t.timeoutBipolarPower);this.setUint8(V(Xr,t.relaySet5));this.setUint8(e)};sn.prototype.getPackedEnergyWithType=function(){var t=this.getUint8();var e=K(t,Fr,1);var r=en(this,e,t);return{energyType:e,energies:r}};sn.prototype.setPackedEnergyWithType=function(t){var e=this;var r=t.energyType,n=t.energies;if(r){rn(this,r,n)}n.forEach((function(t){if(t!==null){e.setUint32(t)}}))};sn.prototype.getEnergies=function(){var t=this;return new Array(Fr).fill(0).map((function(){return t.getInt32()}))};sn.prototype.setEnergies=function(t){var e=this;t.forEach((function(t){return e.setUint32(t)}))};sn.prototype.getDate=function(){return{year:this.getUint8(),month:this.getUint8(),date:this.getUint8()}};sn.prototype.setDate=function(t){this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date)};sn.prototype.getSaldoParameters=function(){var t=this;return{coefficients:new Array(4).fill(0).map((function(){return t.getUint32()})),decimalPointTariff:this.getUint8(),indicationThreshold:this.getInt32(),relayThreshold:this.getInt32(),mode:this.getUint8(),saldoOffTimeBegin:this.getUint8(),saldoOffTimeEnd:this.getUint8(),decimalPointIndication:this.getUint8(),powerThreshold:this.getUint32(),creditThreshold:this.getInt32()}};sn.prototype.setSaldoParameters=function(t){var e=this;t.coefficients.forEach((function(t){return e.setUint32(t)}));this.setUint8(t.decimalPointTariff);this.setInt32(t.indicationThreshold);this.setInt32(t.relayThreshold);this.setUint8(t.mode);this.setUint8(t.saldoOffTimeBegin);this.setUint8(t.saldoOffTimeEnd);this.setUint8(t.decimalPointIndication);this.setUint32(t.powerThreshold);this.setInt32(t.creditThreshold)};sn.prototype.getEnergyPeriods=function(t){var e=this;var r=new Array(t).fill(0).map((function(){return e.getUint16()}));return r.map((function(t){return nn(t)}))};sn.prototype.setEnergyPeriods=function(t){var e=this;t.forEach((function(t){return an(e,t)}))};sn.prototype.getEventStatus=function(){var t=this.getUint16();return z(jr,t)};sn.prototype.setEventStatus=function(t){this.setUint16(V(jr,t))};sn.prototype.getExtendedCurrentValues2=function(){var t=this.getUint16();var e=z(Qr,this.getUint8());var r=z(qr,this.getUint8());var n=z(Zr,this.getUint8());var i=z($r,this.getUint8());var a=z(Jr,this.getUint8());return{uBattery:t,relayStatus:e,relayStatus2:r,status1:n,status2:i,status3:a}};sn.prototype.setExtendedCurrentValues2=function(t){var e=t.uBattery,r=t.relayStatus,n=t.relayStatus2,i=t.status1,a=t.status2,s=t.status3;this.setUint16(e);this.setUint8(V(Qr,r));this.setUint8(V(qr,n));this.setUint8(V(Zr,i));this.setUint8(V($r,a));this.setUint8(V(Jr,s))};sn.prototype.getEvent=function(){var t={hours:this.getUint8(),minutes:this.getUint8(),seconds:this.getUint8(),event:this.getUint8()};var e=t.event;var r=this.bytesLeft;t.eventName=Nr[e];switch(e){case fr:if(r<4){return t}t.power=[this.getUint8(),this.getUint8(),this.getUint8(),this.getUint8()];break;case jt:case $e:if(r<8){return t}t.newDate=this.getDateTime();break}return t};sn.prototype.setEvent=function(t){this.setUint8(t.hours);this.setUint8(t.minutes);this.setUint8(t.seconds);this.setUint8(t.event);switch(t.event){case fr:for(var e of t.power){this.setUint8(e)}break;case jt:case $e:this.setDateTime(t.newDate);break}};sn.prototype.getDemand=function(){var t=this.getUint8();var e=this.getUint8();return{date:{year:t>>1,month:t<<3&15|e>>5,date:e&31},energyType:this.getUint8(),firstIndex:this.getUint16(),count:this.getUint8(),period:this.getUint8()}};sn.prototype.setDemand=function(t){var e=t.date.year<<1|t.date.month>>3&1;var r=t.date.month<<5&224|t.date.date&31;this.setUint8(e);this.setUint8(r);this.setUint8(t.energyType);this.setUint16(t.firstIndex);this.setUint8(t.count);this.setUint8(t.period)};sn.prototype.getDayMaxDemandResponse=function(){var t=this;var e=this.getDate();var r=new Array(Fr).fill(0).map((function(){return{hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}));return{date:e,power:r}};sn.prototype.setDayMaxDemandResponse=function(t){var e=this;this.setDate(t.date);t.power.forEach((function(t){e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};sn.prototype.getOperatorParametersExtended3=function(){return{pmaxMinusThreshold0:this.getUint32(),pmaxMinusThreshold1:this.getUint32(),pmaxMinusThreshold2:this.getUint32(),pmaxMinusThreshold3:this.getUint32(),relaySet:z(tn,this.getUint8())}};sn.prototype.setOperatorParametersExtended3=function(t){var e=t.pmaxMinusThreshold0,r=t.pmaxMinusThreshold1,n=t.pmaxMinusThreshold2,i=t.pmaxMinusThreshold3,a=t.relaySet;this.setUint32(e);this.setUint32(r);this.setUint32(n);this.setUint32(i);this.setUint8(V(tn,a))};sn.prototype.getMonthMaxPowerByTariffs=function(){var t=this;return new Array(Fr).fill(0).map((function(){return{date:t.getUint8(),hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}))};sn.prototype.setMonthMaxPowerByTariffs=function(t){var e=this;t.forEach((function(t){e.setUint8(t.date);e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};var on=0;var fn=128;var vn=129;var hn=130;var un=131;var gn=132;var En=133;var cn=134;var ln=135;var _n=136;var An=137;var dn=144;var Un=145;var Tn=146;var pn=147;var Rn=149;var yn=151;var On=152;var mn=153;var Sn=154;var Mn=155;var Pn=156;var Dn=159;var In=160;var Nn=240;var Ln=Object.freeze({__proto__:null,ACCESS_DENIED:pn,BAD_ARRAY_INDEX:cn,BAD_BLOCK_NUMBER:Pn,BAD_DATA_LENGTH:En,BAD_MESSAGE:gn,BAD_RATE_PLAN_ID:_n,BAD_RATE_PLAN_SIZE:An,BAD_RESPONSE_LENGTH:dn,BAD_SALDO_WRITE:Rn,BLOCKED_METER:yn,CALIBRATION_DISABLED:Tn,DECRYPTION_FAILURE:hn,INTERNAL:Nn,INVALID_CORRECTION_INTERVAL:Sn,NOT_ALIGNED_DATA:vn,NOT_PREPARED_RATE_PLAN:ln,NO_DATA_FOR_DATE:Un,OK:on,OUT_OFF_RANGE:Dn,SET_METER_TYPE_FAILURE:In,TIME_CORRECTION_FAILURE:mn,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:Mn,UNENCRYPTED_COMMAND_DISABLED:On,UNKNOWN_COMMAND:fn,UNKNOWN_PROTOCOL:un});var Cn=Nt(Ln);var wn=254;var Fn="errorResponse";var xn=function(){return function(t){var e=new sn(t);var r=e.getUint8();var n=e.getUint8();var i=Cn[n];return{commandId:r,errorCode:n,errorName:i}}};var Bn=xn();var Yn=112;var bn="getBuildVersion";var Wn=6;var Hn=function(t){if(t.length!==Wn){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=o(t,6),r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],f=e[5];return{date:{date:r,month:n,year:i},version:"".concat(a,".").concat(s,".").concat(f)}};var Gn=62;var Vn="getCorrectTime";var zn=function(t){var e=new sn(t);return e.getTimeCorrectionParameters()};var Kn=0;var Xn=1;var kn=2;var jn=3;var Qn=4;var qn=5;var Zn=6;var $n=7;var Jn=8;var ti=9;var ei=10;var ri=11;var ni=12;var ii=13;var ai=14;var si=Object.freeze({__proto__:null,CASE_MODULE_OPEN:ei,CASE_OPEN:Kn,CASE_TERMINAL_OPEN:ti,DEVICE_FAILURE:Jn,ERROR_ACCESS:qn,MAGNETIC_ON:Xn,PARAMETERS_UPDATE_LOCAL:jn,PARAMETERS_UPDATE_REMOTE:kn,PROTECTION_RESET_EM:ii,PROTECTION_RESET_MAGNETIC:ai,RESTART:Qn,TARIFF_TABLE_GET:ni,TARIFF_TABLE_SET:ri,TIME_CORRECT:$n,TIME_SET:Zn});var oi=Nt(si);var fi=65;var vi="getCriticalEvent";var hi=9;var ui=function(t){if(t.length!==hi){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=o(t,9),r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],f=e[5],v=e[6],h=e[7],u=e[8];return{event:r,name:oi[r],index:n,date:{year:i,month:a,date:s,hours:f,minutes:v,seconds:h},count:u}};var gi=57;var Ei="getCurrentStatusMeter";var ci={calibrationEnable:1,hardkey:2,keyPressTest:4,keyOpenkeyTest:8,keyGerkonTest:16,keyOpenKlemaTest:32,keyOpenModuleTest:64,keyPress2Test:128};var li=function(t){var e=new sn(t);var r=e.getUint32();var n=e.getUint32();var i=e.getUint32();var a=e.getUint32();e.getUint32();var s=e.getUint32();var o=z(Qr,e.getUint8());var f=e.getUint8();var v=e.getUint8();var h=z(ci,e.getUint8());var u={"A+":e.getUint8(),"A-":e.getUint8()};var g=!!(e.getUint8()&1);var E=f|v<<8;return{operatingSeconds:r,tbadVAVB:n,tbadImaxAll:i,tbadPmaxAll:a,tbadFREQ:s,relayStatus:o,statusEvent:z(jr,E),calibrationFlags:h,currentTariffs:u,isSummerTime:g}};var _i=13;var Ai="getCurrentValues";var di=function(t){var e=new sn(t);return{powerA:e.getInt32(),iaRms:e.getInt32(),vavbRms:e.getInt32(),varA:e.getInt32(),pfA:e.getInt16()/1e3,ibRms:e.getInt32(),powerB:e.getInt32(),varB:e.getInt32(),pfB:e.getInt16()/1e3}};var Ui=7;var Ti="getDateTime";var pi=function(t){var e=new sn(t);return e.getDateTime()};var Ri=19;var yi=22;var Oi="getDayDemand";var mi=function(t){var e=new sn(t);var r;if(t.length===Ri){r={date:e.getDate(),energies:e.getEnergies()}}else{r={date:e.getDate(),...e.getPackedEnergyWithType()}}return r};var Si=19;var Mi=79;var Pi="getDayDemandExport";var Di=function(t){var e=new sn(t);var r;if(t.length===Si){r={date:e.getDate(),energies:e.getEnergies()}}else{r={date:e.getDate(),...e.getPackedEnergyWithType()}}return r};var Ii=4;var Ni=4294967295;var Li={"A+":1,"A+R+":2,"A+R-":4,"A-":8,"A-R+":16,"A-R-":32};var Ci=function(t){var e={};Object.keys(t).forEach((function(r){e[r]=!!t[r]}));return V(Li,e)};var wi=function(t){return t<Ii?1<<t:0};var Fi=function(t){return t<Ii?1<<t<<4:0};var xi=function(t,e){var r=0;if(t<Ii){if(e["A+"]||e["A+R+"]||e["A+R-"]){r|=wi(t)}if(e["A-"]||e["A-R+"]||e["A-R-"]){r|=Fi(t)}}return r};function Bi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;G.call(this,t,e)}Bi.prototype=Object.create(G.prototype);Bi.prototype.constructor=Bi;Bi.prototype.getDate=function(){var t=this.getUint8();var e=this.getUint8();return{year:t>>1,month:t<<3&15|e>>5,date:e&31}};Bi.prototype.setDate=function(t){var e=t.year,r=t.month,n=t.date;var i=e<<1|r>>3&1;var a=r<<5&224|n&31;this.setUint8(i);this.setUint8(a)};Bi.prototype.getEnergiesFlags=function(){var t=this.getUint8();return z(Li,t)};Bi.prototype.setEnergiesFlags=function(t){this.setUint8(Ci(t))};Bi.prototype.getHalfhoursEnergy=function(t){var e=[];for(var r=0;r<t;r++){var n=this.getUint16();e.push(n===Ni?undefined:n)}return e};Bi.prototype.setHalfhoursEnergy=function(t){if(t){for(var e=0;e<t.length;e++){var r=t[e];this.setUint16(r===undefined?Ni:r)}}};Bi.prototype.getHalfhoursEnergies=function(t,e){var r={};if(t["A+"]){r["A+"]=this.getHalfhoursEnergy(e)}if(t["A+R+"]){r["A+R+"]=this.getHalfhoursEnergy(e)}if(t["A+R-"]){r["A+R-"]=this.getHalfhoursEnergy(e)}if(t["A-"]){r["A-"]=this.getHalfhoursEnergy(e)}if(t["A-R+"]){r["A-R+"]=this.getHalfhoursEnergy(e)}if(t["A-R-"]){r["A-R-"]=this.getHalfhoursEnergy(e)}return r};Bi.prototype.setHalfhoursEnergies=function(t){this.setHalfhoursEnergy(t["A+"]);this.setHalfhoursEnergy(t["A+R+"]);this.setHalfhoursEnergy(t["A+R-"]);this.setHalfhoursEnergy(t["A-"]);this.setHalfhoursEnergy(t["A-R+"]);this.setHalfhoursEnergy(t["A-R-"])};Bi.prototype.getAPlusTariffEnergies=function(t){var e={};if(t&Li["A+"]){e["A+"]=this.getUint32()}if(t&Li["A+R+"]){e["A+R+"]=this.getUint32()}if(t&Li["A+R-"]){e["A+R-"]=this.getUint32()}return e};Bi.prototype.setAPlusTariffEnergies=function(t){if(t){if(t["A+"]){this.setUint32(t["A+"])}if(t["A+R+"]){this.setUint32(t["A+R+"])}if(t["A+R-"]){this.setUint32(t["A+R-"])}}};Bi.prototype.getAMinusTariffEnergies=function(t){var e={};if(t&Li["A-"]){e["A-"]=this.getUint32()}if(t&Li["A-R+"]){e["A-R+"]=this.getUint32()}if(t&Li["A-R-"]){e["A-R-"]=this.getUint32()}return e};Bi.prototype.setAMinusTariffEnergies=function(t){if(t){if(t["A-"]){this.setUint32(t["A-"])}if(t["A-R+"]){this.setUint32(t["A-R+"])}if(t["A-R-"]){this.setUint32(t["A-R-"])}}};Bi.prototype.getTariffsEnergies=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(Ii).fill(null);for(var n=0;n<Ii;n++){if(e&wi(n)){r[n]=this.getAPlusTariffEnergies(t)}}for(var i=0;i<Ii;i++){if(e&Fi(i)){r[i]={...r[i],...this.getAMinusTariffEnergies(t)}}}return r};Bi.prototype.setTariffsEnergies=function(t){var e=this;var r=0;var n=0;t.forEach((function(t,e){if(t){r|=Ci(t);n|=xi(e,t)}}));this.setUint8(r);this.setUint8(n);t.forEach((function(t){return e.setAPlusTariffEnergies(t)}));t.forEach((function(t){return e.setAMinusTariffEnergies(t)}))};Bi.prototype.getPowerMax=function(){return{hours:this.getUint8(),minutes:this.getUint8(),power:this.getUint32()}};Bi.prototype.setPowerMax=function(t){if(t){var e=t.hours,r=t.minutes,n=t.power;this.setUint8(e);this.setUint8(r);this.setUint32(n)}};Bi.prototype.getAPlusTariffPowerMax=function(t){var e={};if(t&Li["A+"]){e["A+"]=this.getPowerMax()}if(t&Li["A+R+"]){e["A+R+"]=this.getPowerMax()}if(t&Li["A+R-"]){e["A+R-"]=this.getPowerMax()}return e};Bi.prototype.setAPlusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A+"]);this.setPowerMax(t["A+R+"]);this.setPowerMax(t["A+R+"])}};Bi.prototype.getAMinusTariffPowerMax=function(t){var e={};if(t&Li["A-"]){e["A-"]=this.getPowerMax()}if(t&Li["A-R+"]){e["A-R+"]=this.getPowerMax()}if(t&Li["A-R-"]){e["A-R-"]=this.getPowerMax()}return e};Bi.prototype.setAMinusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A-"]);this.setPowerMax(t["A-R+"]);this.setPowerMax(t["A-R-"])}};Bi.prototype.getTariffsPowerMax=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(Ii).fill(null);for(var n=0;n<Ii;n++){if(e&wi(n)){r[n]=this.getAPlusTariffPowerMax(t)}}for(var i=0;i<Ii;i++){if(e&Fi(i)){r[i]={...r[i],...this.getAMinusTariffPowerMax(t)}}}return r};Bi.prototype.setTariffsPowerMax=function(t){var e=this;var r=0;var n=0;t.forEach((function(t,e){if(t){r|=Ci(t);n|=xi(e,t)}}));this.setUint8(r);this.setUint8(n);t.forEach((function(t){return e.setAPlusTariffPowerMax(t)}));t.forEach((function(t){return e.setAMinusTariffPowerMax(t)}))};var Yi=120;var bi="getDayEnergies";var Wi=function(t){var e=new Bi(t);return{date:e.getDate(),energies:e.getTariffsEnergies()}};var Hi=49;var Gi="getDayMaxDemand";var Vi=function(t){var e=new sn(t);return e.getDayMaxDemandResponse()};var zi=88;var Ki="getDayMaxDemandExport";var Xi=function(t){var e=new sn(t);return e.getDayMaxDemandResponse()};var ki=74;var ji="getDayMaxDemandPrevious";var Qi=function(t){var e=new sn(t);return e.getDayMaxDemandResponse()};var qi=121;var Zi="getDayMaxPower";var $i=function(t){var e=new Bi(t);return{date:e.getDate(),tariffs:e.getTariffsPowerMax()}};var Ji=255;var ta=59;var ea="getDayProfile";var ra=function(t){var e=t.indexOf(Ji);var r=e===-1?t:t.slice(0,e);return{periods:v(r).map(sn.getDayProfileFromByte)}};var na=1;var ia=2;var aa=7;var sa=25;var oa=function(t,e,r){return Math.trunc((t*60+e)/r)};var fa=function(t){return oa(sa,0,t)};var va=function(t,e,r){if(t===65535){return null}var n=fa(r);if(e===n){return{lastSummerHour:t>>8&255}}return r===60?{energy:t}:{tariff:t>>14&3,energy:t&16383}};var ha=function(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:30;return t.reduce((function(t,n,i){t.push(va(n,(e??0)+i,r));return t}),[])};var ua=function(t,e,r){if(t===65535){return 65535}var n=fa(r);return e===n?{lastSummerHour:t>>8&255}:{voltage:t}};var ga=function(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:30;return t.reduce((function(t,n,i){t.push(ua(n,(e??0)+i,r));return t}),[])};var Ea=118;var ca="getDemand";var la=function(t){if(!t||t.length<aa){throw new Error("Invalid uplink GetDemand byte length.")}var e=new sn(t);var r=e.getDemand();if(t.length!==aa+2*r.count){throw new Error("Invalid uplink GetDemand demands byte length.")}var n=new Array(r.count).fill(0).map((function(){return e.getUint16()}));var i=r.energyType===na||r.energyType===ia;r.demands=i?ha(n,r.firstIndex,r.period):ga(n,r.firstIndex,r.period);return r};var _a=5;var Aa="getDeviceId";var da=function(t){var e=new sn(t);return e.getDeviceId()};var Ua=4;var Ta="getDeviceType";var pa=function(t){var e=new sn(t);return e.getDeviceType()};var Ra=94;var ya="getDisplayParam";var Oa=function(t){var e=f(t),r=e[0],n=e.slice(1);return{displayMode:r,order:n}};var ma=16;var Sa=15;var Ma="getEnergy";var Pa=function(t){var e=new sn(t);var r;if(t.length===ma){r={energies:e.getEnergies()}}else{r=e.getPackedEnergyWithType()}return r};var Da=19;var Ia=3;var Na="getEnergyDayPrevious";var La=function(t){var e=new sn(t);var r;if(t.length===Da){r={date:e.getDate(),energies:e.getEnergies()}}else{r={date:e.getDate(),...e.getPackedEnergyWithType()}}return r};var Ca=16;var wa=91;var Fa="getEnergyExport";var xa=function(t){var e=new sn(t);var r;if(t.length===Ca){r={energies:e.getEnergies()}}else{r=e.getPackedEnergyWithType()}return r};var Ba=19;var Ya=80;var ba="getEnergyExportDayPrevious";var Wa=function(t){var e=new sn(t);var r;if(t.length===Ba){r={date:e.getDate(),energies:e.getEnergies()}}else{r={date:e.getDate(),...e.getPackedEnergyWithType()}}return r};var Ha=3+1;var Ga=4;var Va=51;var za="getEvents";var Ka=Ha+255*Ga;var Xa=function(t){return function(e){if(e.length>Ka){throw new Error("Wrong buffer size: ".concat(e.length,"."))}var r=new t(e);var n=r.getDate();var i=r.getUint8();var a=[];while(!r.isEmpty){a.push(r.getEvent())}return{date:n,eventsNumber:i,events:a}}};var ka=Xa(sn);var ja=14;var Qa=20;var qa=52;var Za="getEventsCounters";var $a=function(t){if(t.length!==ja&&t.length!==Qa){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new sn(t);var r=e.getUint16();var n=e.getUint16();var i=e.getUint16();var a=e.getUint16();var s=e.getUint16();var o=e.getUint16();var f=e.getUint16();return{accessClosed:o,accessError:s,localParametersChange:i,remoteParametersChange:a,powerOff:n,restart:r,setClock:f}};var Ja=1;var ts="getEventStatus";var es=function(t){var e=new sn(t,true);return e.getEventStatus()};var rs=58;var ns="getExtendedCurrentValues";var is=function(t){var e=new sn(t);return{temperature:e.getInt16(),frequency:e.getInt16()}};var as=45;var ss="getExtendedCurrentValues2";var os=function(t){var e=new sn(t);return e.getExtendedCurrentValues2()};var fs=21;var vs="getHalfHourDemand";var hs=function(t){var e=new sn(t);var r=t.length>Yr;var n=e.getDate();var i=e.getEnergyPeriods(r?Br:xr);if(r){return{date:n,periods:i,dstHour:e.getUint8()}}return{date:n,periods:i}};var us=83;var gs="getHalfHourDemandExport";var Es=function(t){var e=new sn(t);var r=t.length>Yr;var n=e.getDate();var i=e.getEnergyPeriods(r?Br:xr);if(r){return{date:n,periods:i,dstHour:e.getUint8()}}return{date:n,periods:i}};var cs=75;var ls="getHalfHourDemandPrevious";var _s=function(t){var e=new sn(t);var r=t.length>Yr;var n=e.getDate();var i=e.getEnergyPeriods(r?Br:xr);if(r){return{date:n,periods:i,dstHour:e.getUint8()}}return{date:n,periods:i}};var As=111;var ds="getHalfhoursEnergies";var Us=function(t){var e=new Bi(t);var r=e.getDate();var n=e.getEnergiesFlags();var i=e.getUint8();var a=e.getUint8();return{date:r,firstHalfhour:i,halfhoursNumber:a,energies:e.getHalfhoursEnergies(n,a)}};var Ts=109;var ps="getMagneticFieldThreshold";var Rs=function(t){var e=new sn(t);return{induction:e.getUint16(),threshold:e.getUint16(),inductionCoefficient:e.getUint16()/100,reserved:e.getUint32()}};var ys=122;var Os="getMeterInfo";var ms=function(t){var e=o(t,1),r=e[0];return{ten:r}};var Ss=23;var Ms="getMonthDemand";var Ps=function(t){var e=new sn(t);return{year:e.getUint8(),month:e.getUint8(),energies:e.getEnergies()}};var Ds=82;var Is="getMonthDemandExport";var Ns=function(t){var e=new sn(t);return{year:e.getUint8(),month:e.getUint8(),energies:e.getEnergies()}};var Ls=50;var Cs="getMonthMaxDemand";var ws=function(t){var e=new sn(t);return{year:e.getUint8(),month:e.getUint8(),tariffs:e.getMonthMaxPowerByTariffs()}};var Fs=89;var xs="getMonthMaxDemandExport";var Bs=function(t){var e=new sn(t);return{year:e.getUint8(),month:e.getUint8(),tariffs:e.getMonthMaxPowerByTariffs()}};var Ys=113;var bs="getOperatorParametersExtended3";var Ws=function(t){var e=new sn(t);return e.getOperatorParametersExtended3()};var Hs=30;var Gs="getOperatorParameters";var Vs=function(t){var e=new sn(t);return e.getOperatorParameters()};var zs=44;var Ks="getRatePlanInfo";var Xs=1+Cr*2;var ks=function(t){if(t.length!==Xs){throw new Error("Invalid getRatePlanInfo data size.")}var e=new sn(t);return{tariffTable:e.getUint8(),activePlan:e.getTariffPlan(),passivePlan:e.getTariffPlan()}};var js=41;var Qs="getSaldo";var qs=29;var Zs=function(t){if(t.length!==qs){throw new Error("Invalid getSaldo data size.")}var e=new sn(t);return{currentSaldo:e.getInt32(),count:e.getUint8(),energy:new Array(4).fill(0).map((function(){return e.getInt32()})),beginSaldoOfPeriod:e.getInt32(),date:{month:e.getUint8(),date:e.getUint8(),hours:e.getUint8(),minutes:e.getUint8()}}};var $s=46;var Js="getSaldoParameters";var to=37;var eo=function(t){if(t.length!==to){throw new Error("Invalid getSaldoParameters data size.")}var e=new sn(t);return e.getSaldoParameters()};var ro=60;var no="getSeasonProfile";var io=function(t){var e=new sn(t);return e.getSeasonProfile()};var ao=61;var so="getSpecialDay";var oo=function(t){var e=new sn(t);return e.getSpecialDay()};var fo=40;var vo="getVersion";var ho=function(t){return{version:String.fromCharCode.apply(null,v(t))}};var uo=20;var go="prepareRatePlan";var Eo=0;var co=function(t){if(t.length!==Eo){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var lo=53;var _o="resetPowerMaxDay";var Ao=0;var Uo=function(t){if(t.length!==Ao){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var To=54;var po="resetPowerMaxMonth";var Ro=0;var yo=function(t){if(t.length!==Ro){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Oo=70;var mo="runTariffPlan";var So=0;var Mo=function(t){if(t.length!==So){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Po=9;var Do="setAccessKey";var Io=0;var No=function(t){if(t.length!==Io){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Lo=92;var Co="setCorrectDateTime";var wo=0;var Fo=function(t){if(t.length!==wo){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var xo=28;var Bo="setCorrectTime";var Yo=0;var bo=function(t){if(t.length!==Yo){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Wo=8;var Ho="setDateTime";var Go=0;var Vo=function(t){if(t.length!==Go){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var zo=16;var Ko="setDayProfile";var Xo=0;var ko=function(t){if(t.length!==Xo){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var jo=93;var Qo="setDisplayParam";var qo=0;var Zo=function(t){if(t.length!==qo){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var $o=114;var Jo="setOperatorParametersExtended3";var tf=0;var ef=function(t){if(t.length!==tf){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var rf=31;var nf="setOperatorParameters";var af=0;var sf=function(t){if(t.length!==af){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var of=42;var ff="setSaldo";var vf=0;var hf=function(t){if(t.length!==vf){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var uf=47;var gf="setSaldoParameters";var Ef=0;var cf=function(t){if(t.length!==Ef){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var lf=17;var _f="setSeasonProfile";var Af=0;var df=function(t){if(t.length!==Af){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Uf=18;var Tf="setSpecialDay";var pf=0;var Rf=function(t){if(t.length!==pf){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var yf=100;var Of="setSpecialOperation";var mf=function(t){var e=new sn(t);var r=e.getUint8();var n=!!(r&1);var i=!!(r&2);return{electroMagneticIndication:n,magneticIndication:i}};var Sf=25;var Mf="turnRelayOff";var Pf=0;var Df=function(t){if(t.length!==Pf){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var If=24;var Nf="turnRelayOn";var Lf=0;var Cf=function(t){if(t.length!==Lf){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var wf={encrypt:function(){},decrypt:function(){}};var Ff=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var r=e;t.forEach((function(t){r^=t}));return r};var xf=3;var Bf=2;var Yf=2;var bf=function(t,e){return function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=n?.aesKey;var a=[];var s=o(r,2),f=s[0],h=s[1];var u=h&xf;var g={messageId:f,accessLevel:u,commands:a,bytes:r,lrc:{received:undefined,calculated:0}};var E=r.slice(Bf);var l;if(i&&u!==c){E=v(wf.decrypt(i,E))}var _=E[E.length-1];E=E.slice(0,-1);var A=Ff(E);if(u!==c||_!==0){if(_!==A){l="Mismatch LRC."}}var d=E[0]&xf;var U=E.slice(1);if(u!==d){l="Mismatch access levels."}var T=0;do{var p=U[T];var R=U[T+1];var y=Yf+R;var O=U.slice(T+Yf,T+y);var m={id:p,name:e[p],headerSize:Yf,bytes:U.slice(T,T+y)};if(!p){break}try{if(!t[p]){throw new Error("Unsupported command id: ".concat(p,"!"))}m.parameters=t[p](O,n);a.push(m)}catch(t){a.push({command:m,error:t.message})}T+=y}while(T<=U.length);g.lrc.calculated=A;g.lrc.received=_;if(l){return{message:g,error:l}}return g}};var Wf={};var Hf={};var Gf=bf(Wf,Hf);Wf[l]=d;Wf[wn]=Bn;Wf[Yn]=Hn;Wf[Gn]=zn;Wf[fi]=ui;Wf[gi]=li;Wf[_i]=di;Wf[Ui]=pi;Wf[yi]=mi;Wf[Mi]=Di;Wf[Yi]=Wi;Wf[Hi]=Vi;Wf[zi]=Xi;Wf[ki]=Qi;Wf[qi]=$i;Wf[ta]=ra;Wf[Ea]=la;Wf[_a]=da;Wf[Ua]=pa;Wf[Ra]=Oa;Wf[Sa]=Pa;Wf[Ia]=La;Wf[wa]=xa;Wf[Ya]=Wa;Wf[Va]=ka;Wf[qa]=$a;Wf[Ja]=es;Wf[rs]=is;Wf[as]=os;Wf[fs]=hs;Wf[us]=Es;Wf[cs]=_s;Wf[As]=Us;Wf[Ts]=Rs;Wf[ys]=ms;Wf[Ss]=Ps;Wf[Ds]=Ns;Wf[Ls]=ws;Wf[Fs]=Bs;Wf[Ys]=Ws;Wf[Hs]=Vs;Wf[zs]=ks;Wf[js]=Zs;Wf[$s]=eo;Wf[ro]=io;Wf[ao]=oo;Wf[fo]=ho;Wf[uo]=co;Wf[lo]=Uo;Wf[To]=yo;Wf[Oo]=Mo;Wf[Po]=No;Wf[Lo]=Fo;Wf[xo]=bo;Wf[Wo]=Vo;Wf[zo]=ko;Wf[jo]=Zo;Wf[$o]=ef;Wf[rf]=sf;Wf[of]=hf;Wf[uf]=cf;Wf[lf]=df;Wf[Uf]=Rf;Wf[yf]=mf;Wf[Sf]=Df;Wf[If]=Cf;Hf[l]=_;Hf[wn]=Fn;Hf[Yn]=bn;Hf[Gn]=Vn;Hf[fi]=vi;Hf[gi]=Ei;Hf[_i]=Ai;Hf[Ui]=Ti;Hf[yi]=Oi;Hf[Mi]=Pi;Hf[Yi]=bi;Hf[Hi]=Gi;Hf[zi]=Ki;Hf[ki]=ji;Hf[qi]=Zi;Hf[ta]=ea;Hf[Ea]=ca;Hf[_a]=Aa;Hf[Ua]=Ta;Hf[Ra]=ya;Hf[Sa]=Ma;Hf[Ia]=Na;Hf[wa]=Fa;Hf[Ya]=ba;Hf[Va]=za;Hf[qa]=Za;Hf[Ja]=ts;Hf[rs]=ns;Hf[as]=ss;Hf[fs]=vs;Hf[us]=gs;Hf[cs]=ls;Hf[As]=ds;Hf[Ts]=ps;Hf[ys]=Os;Hf[Ss]=Ms;Hf[Ds]=Is;Hf[Ls]=Cs;Hf[Fs]=xs;Hf[Ys]=bs;Hf[Hs]=Gs;Hf[zs]=Ks;Hf[js]=Qs;Hf[$s]=Js;Hf[ro]=no;Hf[ao]=so;Hf[fo]=vo;Hf[uo]=go;Hf[lo]=_o;Hf[To]=po;Hf[Oo]=mo;Hf[Po]=Do;Hf[Lo]=Co;Hf[xo]=Bo;Hf[Wo]=Ho;Hf[zo]=Ko;Hf[jo]=Qo;Hf[$o]=Jo;Hf[rf]=nf;Hf[of]=ff;Hf[uf]=gf;Hf[lf]=_f;Hf[Uf]=Tf;Hf[yf]=Of;Hf[Sf]=Mf;Hf[If]=Nf;var Vf=145;var zf=30;var Kf=function(t){if(t[0]!==zf){return{}}var e=t[1];var r=t[3];var n=t.slice(4,e+2);var i=Ff(t.slice(0,e+2));var a=t[e+2];if(r===Vf&&i===a){return n}return null};fromBytes=Gf;getDataSegment=Kf})();
//#endregion


/*
  Incoming arguments:
    * payload - array of bytes
    * metadata - key/value object
*/

var segment = getDataSegment(payload);
var message = null;

// just a single data segment
if ( segment ) {
    message = fromBytes(segment);

    // there may be a message.error (e.g. mismatched LRC)
    // in that case message.message will contain everything parsed successfully
    // it should be used with caution
}

var result = {
    // required property, set to real device name from payload/metadata depending on integration
    // empty value throw an error in converter
    deviceName: '',

    deviceType: 'Water Meter',
    attributes: {
        model: 'Device Model',
        serialNumber: 'SN111',
        manufacturer: 'Device Manufacturer'
    },
    telemetry: {
        // telemetry display only primitive, i.e. string and numbers
        // for example only!
        message: JSON.stringify(message.message || message)
    },
    metadata: metadata
};

return result;
