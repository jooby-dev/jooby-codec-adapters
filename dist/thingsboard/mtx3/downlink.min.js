// IMPORTANT!!!
// This example only for default downlink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// encoded message should be less than this size
// to be able to send to a device
var MAX_DATA_SEGMENT_SIZE = 50;


//#region [autogenerated jooby-codec bundle from index.js]
var toBytes,setDataSegment,getBase64FromBytes;(function(){"use strict";function r(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,E=Array(a);e<a;e++)E[e]=r[e];return E}function a(a){if(Array.isArray(a))return r(a)}function e(r,a,e){return(a=A(a))in r?Object.defineProperty(r,a,{value:e,enumerable:true,configurable:true,writable:true}):r[a]=e,r}function E(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(r){return a(r)||E(r)||T(r)||t()}function v(r,a){if("object"!=typeof r||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var E=e.call(r,a);if("object"!=typeof E)return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(r)}function A(r){var a=v(r,"string");return"symbol"==typeof a?a:a+""}function T(a,e){if(a){if("string"==typeof a)return r(a,e);var E={}.toString.call(a).slice(8,-1);return"Object"===E&&a.constructor&&(E=a.constructor.name),"Map"===E||"Set"===E?Array.from(a):"Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?r(a,e):void 0}}var n=function(r){return btoa(r.map(function(r){return String.fromCharCode(r)}).join(""))};var R=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return[r,a.length].concat(_(a))};var O=1;var i=3;var s=4;var o=5;var N=7;var P=8;var C=9;var S=13;var D=15;var I=16;var f=17;var M=18;var g=19;var u=20;var d=21;var l=22;var L=23;var V=24;var c=25;var m=28;var h=30;var F=31;var p=40;var H=41;var U=42;var y=44;var G=45;var X=46;var Y=47;var W=49;var B=50;var x=51;var K=52;var b=53;var w=54;var Z=57;var Q=58;var j=59;var z=60;var k=61;var $=62;var q=65;var J=70;var rr=74;var ar=75;var er=79;var Er=80;var tr=82;var _r=83;var vr=88;var Ar=89;var Tr=91;var nr=92;var Rr=93;var Or=94;var ir=96;var sr=97;var or=100;var Nr=109;var Pr=111;var Cr=112;var Sr=113;var Dr=114;var Ir=115;var fr=116;var Mr=117;var gr=118;var ur=122;var dr=Object.freeze({__proto__:null,activateRatePlan:g,getBv:Cr,getCorrectTime:$,getCriticalEvent:q,getCurrentStatusMeter:Z,getCurrentValues:S,getDateTime:N,getDayDemand:l,getDayDemandExport:er,getDayMaxDemand:W,getDayMaxDemandExport:vr,getDayMaxDemandPrevious:rr,getDayProfile:j,getDemand:gr,getDemandParameters:Mr,getDeviceId:o,getDeviceType:s,getDisplayParam:Or,getEnergy:D,getEnergyDayPrevious:i,getEnergyExport:Tr,getEnergyExportDayPrevious:Er,getEventStatus:O,getEvents:x,getEventsCounters:K,getExtendedCurrentValues:Q,getExtendedCurrentValues2:G,getGsmParameters:sr,getHalfHourDemand:d,getHalfHourDemandExport:_r,getHalfHourDemandPrevious:ar,getHalfHourEnergies:Pr,getMagneticFieldThreshold:Nr,getMeterInfo:ur,getMonthDemand:L,getMonthDemandExport:tr,getMonthMaxDemand:B,getMonthMaxDemandExport:Ar,getOperatorParameters:h,getOperatorParametersExtended3:Sr,getQuality:Ir,getRatePlanInfo:y,getSaldo:H,getSaldoParameters:X,getSeasonProfile:z,getSpecialDay:k,getVersion:p,prepareRatePlan:u,resetPowerMaxDay:b,resetPowerMaxMonth:w,runTariffPlan:J,setAccessKey:C,setCorrectDateTime:nr,setCorrectTime:m,setDateTime:P,setDayProfile:I,setDemandParameters:fr,setDisplayParam:Rr,setGsmParameters:ir,setOperatorParameters:F,setOperatorParametersExtended3:Dr,setSaldo:U,setSaldoParameters:Y,setSeasonProfile:f,setSpecialDay:M,setSpecialOperation:or,turnRelayOff:c,turnRelayOn:V});var lr=120;var Lr=121;var Vr=123;var cr=254;var mr=255;var hr=Object.freeze({__proto__:null,activateRatePlan:g,errorDataFrameResponse:mr,errorResponse:cr,getBv:Cr,getCorrectTime:$,getCriticalEvent:q,getCurrentDemand:Vr,getCurrentStatusMeter:Z,getCurrentValues:S,getDateTime:N,getDayDemand:l,getDayDemandExport:er,getDayEnergies:lr,getDayMaxDemand:W,getDayMaxDemandExport:vr,getDayMaxDemandPrevious:rr,getDayMaxPower:Lr,getDayProfile:j,getDemand:gr,getDemandParameters:Mr,getDeviceId:o,getDeviceType:s,getDisplayParam:Or,getEnergy:D,getEnergyDayPrevious:i,getEnergyExport:Tr,getEnergyExportDayPrevious:Er,getEventStatus:O,getEvents:x,getEventsCounters:K,getExtendedCurrentValues:Q,getExtendedCurrentValues2:G,getGsmParameters:sr,getHalfHourDemand:d,getHalfHourDemandExport:_r,getHalfHourDemandPrevious:ar,getHalfHourEnergies:Pr,getMagneticFieldThreshold:Nr,getMeterInfo:ur,getMonthDemand:L,getMonthDemandExport:tr,getMonthMaxDemand:B,getMonthMaxDemandExport:Ar,getOperatorParameters:h,getOperatorParametersExtended3:Sr,getQuality:Ir,getRatePlanInfo:y,getSaldo:H,getSaldoParameters:X,getSeasonProfile:z,getSpecialDay:k,getVersion:p,prepareRatePlan:u,resetPowerMaxDay:b,resetPowerMaxMonth:w,runTariffPlan:J,setAccessKey:C,setCorrectDateTime:nr,setCorrectTime:m,setDateTime:P,setDayProfile:I,setDemandParameters:fr,setDisplayParam:Rr,setGsmParameters:ir,setOperatorParameters:F,setOperatorParametersExtended3:Dr,setSaldo:U,setSaldoParameters:Y,setSeasonProfile:f,setSpecialDay:M,setSpecialOperation:or,turnRelayOff:c,turnRelayOn:V});var Fr=function(r){var a={};for(var e in r){var E=r[e];a[E]=e}return a};Fr(hr);var pr=0;var Hr=128;var Ur=129;var yr=130;var Gr=131;var Xr=132;var Yr=133;var Wr=134;var Br=135;var xr=136;var Kr=137;var br=144;var wr=145;var Zr=146;var Qr=147;var jr=149;var zr=151;var kr=152;var $r=153;var qr=154;var Jr=155;var ra=156;var aa=159;var ea=160;var Ea=240;var ta=Object.freeze({__proto__:null,ACCESS_DENIED:Qr,BAD_ARRAY_INDEX:Wr,BAD_BLOCK_NUMBER:ra,BAD_DATA_LENGTH:Yr,BAD_MESSAGE:Xr,BAD_RATE_PLAN_ID:xr,BAD_RATE_PLAN_SIZE:Kr,BAD_RESPONSE_LENGTH:br,BAD_SALDO_WRITE:jr,BLOCKED_METER:zr,CALIBRATION_DISABLED:Zr,DECRYPTION_FAILURE:yr,INTERNAL:Ea,INVALID_CORRECTION_INTERVAL:qr,NOT_ALIGNED_DATA:Ur,NOT_PREPARED_RATE_PLAN:Br,NO_DATA_FOR_DATE:wr,OK:pr,OUT_OFF_RANGE:aa,SET_METER_TYPE_FAILURE:ea,TIME_CORRECTION_FAILURE:$r,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:Jr,UNENCRYPTED_COMMAND_DISABLED:kr,UNKNOWN_COMMAND:Hr,UNKNOWN_PROTOCOL:Gr});Fr(ta);var _a=0;var va=1;var Aa=2;var Ta=3;var na=Object.freeze({__proto__:null,READ_ONLY:Ta,READ_WRITE:Aa,ROOT:va,UNENCRYPTED:_a});var Ra=mr;var Oa={encrypt:function(){},decrypt:function(){}};var ia=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var e=a;r.forEach(function(r){e^=r});return e};var sa=e(e(e(e({},_a,0),Ta,1),Aa,2),va,3);var oa=function(r){var a=Ta;r.forEach(function(r){var e;if("accessLevel"in r){e=r.accessLevel}if("command"in r){e=r.command.accessLevel}if(sa[e]>sa[a]){a=e}});return a};var Na=16;var Pa=[0];var Ca=function(r){return function(a,e){var E=e.messageId,t=E===void 0?1:E,v=e.accessLevel,A=v===void 0?oa(a):v,T=e.aesKey;var n=a.flatMap(function(a){if("id"in a){return r[a.id](a.parameters||{})}if("command"in a){return a.command.bytes}throw new Error("wrong command format")});var R=A|16;var O=[t,R];var i=a.length===1&&"id"in a[0]&&a[0].id===Ra;if(i){return O.concat(n)}var s=[].concat(R,n,Pa);if(A!==_a){var o=(s.length+1)%Na;if(o){s=s.concat(new Array(Na-o).fill(0))}}s=s.concat(ia(s));if(T&&A!==_a){s=_(Oa.encrypt(T,s))}return O.concat(s)}};Fr(dr);var Sa=O;var Da=function(){return R(Sa)};var Ia=i;var fa=function(r){if(r.energyType){return R(Ia,[r.energyType])}return R(Ia)};var Ma=s;var ga=function(){return R(Ma)};var ua=o;var da=function(){return R(ua)};var la=N;var La=function(){return R(la)};var Va=1;var ca=2;var ma=3;var ha=4;var Fa=Math.log,pa=Math.pow,Ha=Math.LN2;var Ua=function(r,a,e,E,t){var _,v,A=t*8-E-1,T=(1<<A)-1,n=T>>1,R=-7,O=e?t-1:0,i=e?-1:1,s=r[a+O];O+=i;_=s&(1<<-R)-1;s>>=-R;R+=A;for(;R>0;_=_*256+r[a+O],O+=i,R-=8);v=_&(1<<-R)-1;_>>=-R;R+=E;for(;R>0;v=v*256+r[a+O],O+=i,R-=8);if(_===0){_=1-n}else if(_===T){return v?NaN:s?-Infinity:Infinity}else{v=v+pa(2,E);_=_-n}return(s?-1:1)*v*pa(2,_-E)};var ya=function(r,a,e,E,t,_){var v,A,T,n=_*8-t-1,R=(1<<n)-1,O=R>>1,i=t===23?pa(2,-24)-pa(2,-77):0,s=E?0:_-1,o=E?1:-1,N=e<0||e===0&&1/e<0?1:0;e<0&&(e=-e);if(e!==e||e===Infinity){A=e!==e?1:0;v=R}else{v=Fa(e)/Ha|0;if(e*(T=pa(2,-v))<1){v--;T*=2}if(v+O>=1){e+=i/T}else{e+=i*pa(2,1-O)}if(e*T>=2){v++;T/=2}if(v+O>=R){A=0;v=R}else if(v+O>=1){A=(e*T-1)*pa(2,t);v=v+O}else{A=e*pa(2,O-1)*pa(2,t);v=0}}for(;t>=8;r[a+s]=A&255,s+=o,A/=256,t-=8);v=v<<t|A;n+=t;for(;n>0;r[a+s]=v&255,s+=o,v/=256,n-=8);r[a+s-o]|=N*128};var Ga=[1,0];var Xa=[2,1,0];var Ya=[3,2,1,0];var Wa=[0,1];var Ba=[0,1,2];var xa=[0,1,2,3];var Ka=function(r,a){return r[a]};var ba=function(r,a,e){var E=e?Wa:Ga;var t=r[a+E[0]];var _=r[a+E[1]]<<8;return t|_};var wa=function(r,a,e){var E=e?Ba:Xa;var t=r[a+E[0]];var _=r[a+E[1]]<<8;var v=r[a+E[2]]<<16;return t|_|v};var Za=function(r,a,e){var E=e?xa:Ya;var t=r[a+E[3]]*16777216;var _=r[a+E[2]]*65536;var v=r[a+E[1]]*256;var A=r[a+E[0]];return t+_+v+A};var Qa=function(r,a,e){r[a]=e&255};var ja=function(r,a,e,E){var t=E?Wa:Ga;r[a+t[0]]=e&255;r[a+t[1]]=e>>>8&255};var za=function(r,a,e,E){var t=E?Ba:Xa;r[a+t[0]]=e&255;r[a+t[1]]=e>>>8&255;r[a+t[2]]=e>>>16&255};var ka=function(r,a,e,E){var t=E?xa:Ya;r[a+t[0]]=e&255;r[a+t[1]]=e>>>8&255;r[a+t[2]]=e>>>16&255;r[a+t[3]]=e>>>24&255};function $a(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof r==="number"){var e=new Array(r).fill(0);this.data=e}else{this.data=r}this.offset=0;this.isLittleEndian=a}$a.prototype={toUint8Array:function(){return this.data},seek:function(r){if(r<0||r>=this.data.length){throw new Error("Invalid position.")}this.offset=r},setInt8:function(r){Qa(this.data,this.offset,r<0?r|256:r);this.offset+=Va},getInt8:function(){var r=Ka(this.data,this.offset);this.offset+=Va;return r&128?r^-256:r},setUint8:function(r){Qa(this.data,this.offset,r);this.offset+=Va},getUint8:function(){var r=Ka(this.data,this.offset);this.offset+=Va;return r},setInt16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ja(this.data,this.offset,r<0?r|65536:r,a);this.offset+=ca},getInt16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=ba(this.data,this.offset,r);this.offset+=ca;return a&32768?a^-65536:a},setUint16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ja(this.data,this.offset,r,a);this.offset+=ca},getUint16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=ba(this.data,this.offset,r);this.offset+=ca;return a},setInt24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;za(this.data,this.offset,r<0?r|16777216:r,a);this.offset+=ma},getInt24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=wa(this.data,this.offset,r);this.offset+=ma;return a&8388608?a^-16777216:a},setUint24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;za(this.data,this.offset,r,a);this.offset+=ma},getUint24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=wa(this.data,this.offset,r);this.offset+=ma;return a},setInt32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ka(this.data,this.offset,r<0?r|4294967296:r,a);this.offset+=ha},getInt32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Za(this.data,this.offset,r);this.offset+=ha;return a&2147483648?a^-4294967296:a},setUint32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ka(this.data,this.offset,r,a);this.offset+=ha},getUint32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Za(this.data,this.offset,r);this.offset+=ha;return a},setFloat32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ya(this.data,this.offset,r,a,23,4);this.offset+=ha},getFloat32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Ua(this.data,this.offset,r,23,4);this.offset+=ha;return a},setFixedString:function(r,a){var e=r.length>a?a:r.length;var E=0;for(E=0;E<e;++E){this.setUint8(r.charCodeAt(E))}for(E=e;E<a;++E){this.setUint8(0)}},getFixedStringBase:function(r,a){var e=a.stopOnZero;var E=this.offset+r;var t=[];var _;while(this.offset<E){_=this.getUint8();if(e&&_===0){this.seek(E);break}t.push(String.fromCharCode(_))}return t.join("")},getFixedString:function(r){return this.getFixedStringBase(r,{stopOnZero:true})},setString:function(r){this.setUint8(r.length);this.setFixedString(r)},getString:function(){var r=this.getUint8();return this.getFixedStringBase(r,{stopOnZero:false})},getBytesToOffset:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,r)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=a+r;return this.data.slice(a,this.offset)},setBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var e=this.data;e.splice.apply(e,[a,r.length].concat(_(r)));this.data=e;this.offset=a+r.length}};Object.defineProperties($a.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var qa=80;var Ja=81;var re=82;var ae=83;var ee=84;var Ee=85;var te=86;var _e=87;var ve=88;var Ae=89;var Te=90;var ne=91;var Re=255;var Oe=Object.freeze({__proto__:null,DATA_REQUEST:qa,DATA_RESPONSE:Ja,FRAGMENT_REQUEST:Te,FRAGMENT_RESPONSE:ne,IDENT_REQUEST:re,IDENT_RESPONSE:ae,INVALID:Re,L2_CHECK_ADDRESS_REQUEST:te,L2_CHECK_ADDRESS_RESPONSE:_e,L2_RM_ADDRESS_REQUEST:ve,L2_RM_ADDRESS_RESPONSE:Ae,L2_SET_ADDRESS_REQUEST:ee,L2_SET_ADDRESS_RESPONSE:Ee});Fr(Oe);Fr(na);var ie=0;var se=1;var oe=2;var Ne=3;var Pe=4;var Ce=5;var Se=6;var De=7;var Ie=8;var fe=9;var Me=10;var ge=11;var ue=12;var de=13;var le=14;var Le=Object.freeze({__proto__:null,CASE_MODULE_OPEN:Me,CASE_OPEN:ie,CASE_TERMINAL_OPEN:fe,DEVICE_FAILURE:Ie,ERROR_ACCESS:Ce,MAGNETIC_ON:se,PARAMETERS_UPDATE_LOCAL:Ne,PARAMETERS_UPDATE_REMOTE:oe,PROTECTION_RESET_EM:de,PROTECTION_RESET_MAGNETIC:le,RESTART:Pe,TARIFF_TABLE_GET:ue,TARIFF_TABLE_SET:ge,TIME_CORRECT:De,TIME_SET:Se});Fr(Le);var Ve=1;var ce=2;var me=3;var he=16;var Fe=17;var pe=18;var He=19;var Ue=20;var ye=21;var Ge=32;var Xe=33;var Ye=34;var We=35;var Be=36;var xe=37;var Ke=38;var be=39;var we=40;var Ze=41;var Qe=49;var je=50;var ze=51;var ke=52;var $e=53;var qe=54;var Je=55;var rE=56;var aE=57;var eE=58;var EE=59;var tE=64;var _E=65;var vE=66;var AE=67;var TE=68;var nE=69;var RE=70;var OE=71;var iE=72;var sE=73;var oE=74;var NE=75;var PE=76;var CE=77;var SE=78;var DE=79;var IE=80;var fE=81;var ME=82;var gE=83;var uE=84;var dE=85;var lE=86;var LE=87;var VE=88;var cE=89;var mE=96;var hE=97;var FE=98;var pE=99;var HE=100;var UE=101;var yE=102;var GE=103;var XE=104;var YE=105;var WE=112;var BE=113;var xE=114;var KE=115;var bE=116;var wE=117;var ZE=118;var QE=119;var jE=120;var zE=121;var kE=122;var $E=123;var qE=124;var JE=125;var rt=144;var at=145;var et=147;var Et=148;var tt=152;var _t=156;var vt=157;var At=158;var Tt=159;var nt=160;var Rt=161;var Ot=162;var it=176;var st=177;var ot=178;var Nt=179;var Pt=180;var Ct=181;var St=182;var Dt=183;var It=185;var ft=186;var Mt=224;var gt=225;var ut=226;var dt=227;var lt=228;var Lt=229;var Vt=230;var ct=231;var mt=232;var ht=Object.freeze({__proto__:null,ACCESS_ERROR:Fe,ACCESS_LOCKED:he,ACC_PARAMETERS_EXT_FAULT:KE,ACC_PARAMETERS_FAULT:xE,BAD_TEST_EEPROM:XE,BAD_TEST_FRAM:YE,BATTERY_FAULT:gE,BATTERY_OK:ME,BIPOLAR_POWER_FAULT:Pt,BIPOLAR_POWER_OK:Ct,BLOCK_TARIFF_FAULT:wE,CALC_PERIOD_FAULT:bE,CALIBRATION_FAULT:dE,CALIBRATION_FLAG_RESET:GE,CALIBRATION_FLAG_SET:yE,CALIBRATION_OK:uE,CALIBRATION_PARAMETERS_FAULT:ZE,CASE_CLOSED:He,CASE_MODULE_CLOSED:JE,CASE_MODULE_OPENED:qE,CASE_OPENED:pe,CASE_TERMINAL_BOX_CLOSED:$E,CASE_TERMINAL_BOX_OPENED:kE,CHANGE_ACCESS_KEY0:Ge,CHANGE_ACCESS_KEY1:Xe,CHANGE_ACCESS_KEY2:Ye,CHANGE_ACCESS_KEY3:We,CHANGE_COR_TIME:Ze,CHANGE_PARAMETERS_CHANNEL:It,CHANGE_PARAMETERS_LOCAL:Be,CHANGE_PARAMETERS_REMOTE:xe,CHANGE_TARIFF_TABLE:je,CHANGE_TARIFF_TABLE_2:tt,CLOCK_FAULT:LE,CLOCK_OK:lE,CMD_RELAY_2_OFF:hE,CMD_RELAY_2_ON:mE,CMD_RELAY_OFF:we,CMD_RELAY_ON:be,CMD_SET_DATETIME:Ke,COSF_MIN_OVER:EE,COSF_OK:eE,CROSS_ZERO_EN_T1:FE,CROSS_ZERO_EN_T2:pE,CROSS_ZERO_EN_T3:HE,CROSS_ZERO_EN_T4:UE,CROSS_ZERO_EXPORT_EN_T1:At,CROSS_ZERO_EXPORT_EN_T2:Tt,CROSS_ZERO_EXPORT_EN_T3:nt,CROSS_ZERO_EXPORT_EN_T4:Rt,CURRENT_UNEQUAL_FAULT:ot,CURRENT_UNEQUAL_OK:Nt,EM_MAGNETIC_INFLUENCE_OFF:st,EM_MAGNETIC_INFLUENCE_ON:it,ENERGY_REGISTER_FAULT:Ve,ENERGY_REGISTER_OVERFLOW:Qe,F_MAX_OK:iE,F_MAX_OVER:sE,F_MIN_OK:oE,F_MIN_OVER:NE,I_MAX_OK:PE,I_MAX_OVER:CE,MAGNETIC_INFLUENCE_OFF:ye,MAGNETIC_INFLUENCE_ON:Ue,OPERATOR_PARAMETERS_VALUES_FAULT:me,POWER_A_OFF:VE,POWER_A_ON:cE,POWER_OVER_RELAY_OFF:vt,POWER_SALDO_OK:IE,POWER_SALDO_OVER:fE,P_MAX_A_MINUS_OK:ct,P_MAX_A_MINUS_OVER:mt,P_MAX_OK:SE,P_MAX_OVER:DE,RELAY_HARD_BAD_OFF:rt,RELAY_HARD_BAD_ON:et,RELAY_HARD_OFF:Et,RELAY_HARD_ON:at,RELAY_OFF:Je,RELAY_OFF_BAD_SALDO:ft,RELAY_ON:qe,RESET_EM_FLAG:St,RESET_MAGNET_FLAG:Dt,RESTART:rE,SALDO_EN_FAULT:jE,SALDO_PARAMETERS_FAULT:BE,SET_DEMAND_EN_10MIN:dt,SET_DEMAND_EN_15MIN:lt,SET_DEMAND_EN_1MIN:Mt,SET_DEMAND_EN_30MIN:Lt,SET_DEMAND_EN_3MIN:gt,SET_DEMAND_EN_5MIN:ut,SET_DEMAND_EN_60MIN:Vt,SET_NEW_SALDO:WE,SET_SALDO_PARAM:_t,SET_TARIFF_TABLE:ze,SUMMER_TIME:ke,TIME_CORRECT:zE,TIME_CORRECT_NEW:Ot,T_MAX_OK:TE,T_MAX_OVER:nE,T_MIN_OK:RE,T_MIN_OVER:OE,VENDOR_PAR_FAULT:ce,V_MAX_OK:tE,V_MAX_OVER:_E,V_MIN_OK:vE,V_MIN_OVER:AE,WATCHDOG_RESTART:aE,WINTER_SUMMER_FAULT:QE,WINTER_TIME:$e});Fr(ht);var Ft=0;var pt=1;var Ht=2;var Ut=3;var yt=4;var Gt=5;var Xt=Object.freeze({__proto__:null,GSM:pt,TCP_CLIENT:Ut,TCP_SERVER:Ht,TCP_SERVER_HTTP_PING:Gt,TCP_SERVER_TCP_PING:yt,UNDEFINED:Ft});Fr(Xt);var Yt=0;var Wt=1;var Bt=2;var xt=3;var Kt=Object.freeze({__proto__:null,CONFIGURATION_0:Yt,CONFIGURATION_1:Wt,RESERVED:Bt,STATUS:xt});Fr(Kt);var bt=1;var wt=2;var Zt=3;var Qt=4;var jt=5;var zt=6;var kt=7;var $t=8;var qt=9;var Jt=10;var r_=11;var a_=12;var e_=13;var E_=14;var t_=15;var __=16;var v_=17;var A_=18;var T_=19;var n_=20;var R_=21;var O_=22;var i_=23;var s_=24;var o_=25;var N_=26;var P_=28;var C_=30;var S_=31;var D_=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:Qt,ACTIVE_ENERGY_T2:jt,ACTIVE_ENERGY_T3:zt,ACTIVE_ENERGY_T4:kt,ACTIVE_POWER_IN_NEUTRAL:qt,ACTIVE_POWER_PER_PHASE:$t,BATTERY_VOLTAGE:O_,CURRENT_BALANCE:C_,CURRENT_IN_NEUTRAL:r_,CURRENT_IN_PHASE:Jt,DATE_MONTH_YEAR:E_,EXPORTED_ACTIVE_ENERGY_T1:__,EXPORTED_ACTIVE_ENERGY_T2:v_,EXPORTED_ACTIVE_ENERGY_T3:A_,EXPORTED_ACTIVE_ENERGY_T4:T_,HOUR_MINUTE_SECOND:e_,MAGNET_INDUCTION:P_,OPTOPORT_SPEED:S_,POWER_FACTOR_PHASE_A:n_,POWER_FACTOR_PHASE_B:R_,POWER_THRESHOLD_T1:i_,POWER_THRESHOLD_T2:s_,POWER_THRESHOLD_T3:o_,POWER_THRESHOLD_T4:N_,SET_ALL_SEGMENT_DISPLAY:bt,SOFTWARE_VERSION:wt,TOTAL_ACTIVE_ENERGY:Zt,TOTAL_EXPORTED_ACTIVE_ENERGY:t_,VOLTAGE:a_});Fr(D_);var I_=2400;var f_=9600;var M_={rs485orTwi:{0:f_,2:I_,4:f_},optoport:{0:I_,2:I_,4:f_}};({rs485orTwi:Fr(M_.rs485orTwi),optoport:Fr(M_.optoport)});var g_=function(r,a){r.setUint8(a.isSummerTime?1:0);r.setUint8(a.seconds);r.setUint8(a.minutes);r.setUint8(a.hours);r.setUint8(a.day||0);r.setUint8(a.date);r.setUint8(a.month);r.setUint8(a.year)};var u_=function(r,a){r.setUint8(a.year);r.setUint8(a.month);r.setUint8(a.date)};var d_=P;var l_=8;var L_=function(r){var a=new $a(l_,false);g_(a,r);return R(d_,a.data)};var V_=0;var c_=1;var m_=D;var h_=function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=new $a(r?.energyType?c_:V_,false);if(r?.energyType){a.setUint8(r.energyType)}return R(m_,a.data)};var F_=d;var p_=3;var H_=function(r){var a=new $a(p_,false);u_(a,r.date);return R(F_,a.data)};var U_=1;var y_=3;var G_=4;var X_=5;var Y_=7;var W_=8;var B_=9;var x_=13;var K_=15;var b_=16;var w_=17;var Z_=18;var Q_=19;var j_=20;var z_=21;var k_=22;var $_=23;var q_=24;var J_=25;var rv=28;var av=30;var ev=31;var Ev=40;var tv=41;var _v=42;var vv=44;var Av=46;var Tv=47;var nv=49;var Rv=50;var Ov=51;var iv=52;var sv=53;var ov=54;var Nv=57;var Pv=58;var Cv=59;var Sv=60;var Dv=61;var Iv=62;var fv=63;var Mv=64;var gv=69;var uv=70;var dv=71;var lv=72;var Lv=73;var Vv=78;var cv=79;var mv=80;var hv=82;var Fv=83;var pv=84;var Hv=85;var Uv=86;var yv=88;var Gv=89;var Xv=90;var Yv=92;var Wv=93;var Bv=94;var xv=96;var Kv=97;var bv=100;var wv=109;var Zv=111;var Qv=112;var jv=113;var zv=114;var kv=115;var $v=116;var qv=117;var Jv=118;var rA=122;var aA=Object.freeze({__proto__:null,activateRatePlan:Q_,getBv:Qv,getCorrectTime:Iv,getCriticalEvent:Uv,getCurrentStatusMeter:Nv,getCurrentValues:x_,getDateTime:Y_,getDayDemand:k_,getDayDemandExport:cv,getDayMaxDemand:nv,getDayMaxDemandExport:yv,getDayProfile:Cv,getDemand:Jv,getDeviceId:X_,getDeviceType:G_,getDisplayParam:Bv,getEnergy:K_,getEnergyDayPrevious:y_,getEnergyExport:Vv,getEnergyExportDayPrevious:mv,getEventStatus:U_,getEvents:Ov,getEventsCounters:iv,getExtendedCurrentValues:Pv,getGsmParameters:Kv,getHalfHourDemand:z_,getHalfHourDemandChannel:Xv,getHalfHourDemandExport:Fv,getHalfHourDemandVare:Lv,getHalfHourDemandVareExport:Hv,getHalfHourDemandVari:lv,getHalfHourDemandVariExport:pv,getHalfHourEnergies:Zv,getMagneticFieldThreshold:wv,getMeterInfo:rA,getMonthDemand:$_,getMonthDemandExport:hv,getMonthMaxDemand:Rv,getMonthMaxDemandExport:Gv,getOperatorParameters:av,getOperatorParametersExtended:fv,getOperatorParametersExtended2:dv,getOperatorParametersExtended3:jv,getOperatorParametersExtended4:qv,getQuality:kv,getRatePlanInfo:vv,getSaldo:tv,getSaldoParameters:Av,getSeasonProfile:Sv,getSpecialDay:Dv,getVersion:Ev,prepareRatePlan:j_,resetPowerMaxDay:sv,resetPowerMaxMonth:ov,runTariffPlan:uv,setAccessKey:B_,setCorrectDateTime:Yv,setCorrectTime:rv,setDateTime:W_,setDayProfile:b_,setDisplayParam:Wv,setGsmParameters:xv,setOperatorParameters:ev,setOperatorParametersExtended:Mv,setOperatorParametersExtended2:gv,setOperatorParametersExtended3:zv,setOperatorParametersExtended4:$v,setSaldo:_v,setSaldoParameters:Tv,setSeasonProfile:w_,setSpecialDay:Z_,setSpecialOperation:bv,turnRelayOff:J_,turnRelayOn:q_});Fr(aA);var eA=3;var EA=4;var tA=k_;var _A=function(r){var a=new $a(r?.energyType?EA:eA,false);u_(a,r?.date);if(r?.energyType){a.setUint8(r.energyType)}return R(tA,a.data)};var vA=p;var AA=function(){return R(vA)};var TA=Uv;var nA=function(r){return R(TA,[r.event,r.index])};var RA=1;var OA=2;var iA=3;var sA=4;var oA=17;var NA=18;var PA=19;var CA=20;var SA=21;var DA=22;var IA=23;var fA=32;var MA=33;var gA=34;var uA=35;var dA=36;var lA=37;var LA=38;var VA=39;var cA=40;var mA=49;var hA=50;var FA=51;var pA=52;var HA=53;var UA=54;var yA=55;var GA=56;var XA=57;var YA=64;var WA=65;var BA=66;var xA=67;var KA=68;var bA=69;var wA=70;var ZA=71;var QA=72;var jA=73;var zA=74;var kA=75;var $A=76;var qA=77;var JA=78;var rT=79;var aT=80;var eT=81;var ET=82;var tT=83;var _T=84;var vT=85;var AT=86;var TT=87;var nT=88;var RT=89;var OT=90;var iT=91;var sT=92;var oT=93;var NT=94;var PT=95;var CT=96;var ST=97;var DT=98;var IT=99;var fT=100;var MT=101;var gT=102;var uT=103;var dT=104;var lT=105;var LT=106;var VT=107;var cT=108;var mT=109;var hT=110;var FT=111;var pT=112;var HT=113;var UT=114;var yT=115;var GT=116;var XT=117;var YT=118;var WT=119;var BT=120;var xT=121;var KT=122;var bT=123;var wT=124;var ZT=125;var QT=126;var jT=127;var zT=128;var kT=129;var $T=130;var qT=131;var JT=132;var rn=133;var an=134;var en=135;var En=136;var tn=137;var _n=138;var vn=139;var An=140;var Tn=141;var nn=142;var Rn=143;var On=144;var sn=145;var on=147;var Nn=148;var Pn=149;var Cn=150;var Sn=151;var Dn=152;var In=153;var fn=154;var Mn=155;var gn=156;var un=157;var dn=158;var ln=159;var Ln=160;var Vn=161;var cn=162;var mn=163;var hn=164;var Fn=165;var pn=166;var Hn=167;var Un=168;var yn=169;var Gn=170;var Xn=171;var Yn=172;var Wn=173;var Bn=174;var xn=175;var Kn=176;var bn=177;var wn=178;var Zn=179;var Qn=186;var jn=224;var zn=225;var kn=226;var $n=227;var qn=228;var Jn=229;var rR=230;var aR=231;var eR=232;var ER=Object.freeze({__proto__:null,ACCESS_ERROR:PA,ACCESS_LOCKED:oA,ACCESS_UNLOCKED:NA,ACCUMULATION_PARAMETERS_EXT_FAULT:an,ACCUMULATION_PARAMETERS_FAULT:rn,BAD_TEST_EEPROM:kT,BAD_TEST_FRAM:$T,BATTERY_FAULT:lT,BATTERY_OK:dT,BLOCK_TARIFF_FAULT:En,CALCULATION_PERIOD_FAULT:en,CALIBRATION_FAULT:VT,CALIBRATION_FLAG_RESET:zT,CALIBRATION_FLAG_SET:jT,CALIBRATION_OK:LT,CALIBRATION_PARAMETERS_FAULT:tn,CASE_CLOSED:SA,CASE_MODULE_CLOSED:Mn,CASE_MODULE_OPENED:fn,CASE_OPENED:CA,CASE_TERMINAL_BOX_CLOSED:Sn,CASE_TERMINAL_BOX_OPENED:Cn,CHANGE_ACCESS_KEY0:fA,CHANGE_ACCESS_KEY1:MA,CHANGE_ACCESS_KEY2:gA,CHANGE_ACCESS_KEY3:uA,CHANGE_COR_TIME:pT,CHANGE_PARAMETERS_LOCAL:dA,CHANGE_PARAMETERS_REMOTE:lA,CHANGE_PARAMETER_CHANNEL1:dn,CHANGE_PARAMETER_CHANNEL2:ln,CHANGE_PARAMETER_CHANNEL3:Ln,CHANGE_PARAMETER_CHANNEL4:Vn,CHANGE_PARAMETER_CHANNEL5:cn,CHANGE_PARAMETER_CHANNEL6:mn,CHANGE_TARIFF_TABLE:hA,CHANGE_TARIFF_TABLE_2:Dn,CHANGE_TARIFF_TABLE_3:In,CLOCK_FAULT:ST,CLOCK_OK:CT,CMD_RELAY_2_OFF:UT,CMD_RELAY_2_ON:HT,CMD_RELAY_OFF:cA,CMD_RELAY_ON:VA,CMD_SET_DATETIME:LA,COEFFICIENT_TRANSFORMATION_CHANGE:Rn,CROSS_ZERO_EN_T1:yT,CROSS_ZERO_EN_T2:GT,CROSS_ZERO_EN_T3:XT,CROSS_ZERO_EN_T4:YT,CROSS_ZERO_EXPORT_EN_T1:hn,CROSS_ZERO_EXPORT_EN_T2:Fn,CROSS_ZERO_EXPORT_EN_T3:pn,CROSS_ZERO_EXPORT_EN_T4:Hn,CROSS_ZERO_EXPORT_VARE1:Yn,CROSS_ZERO_EXPORT_VARE2:Wn,CROSS_ZERO_EXPORT_VARE3:Bn,CROSS_ZERO_EXPORT_VARE4:xn,CROSS_ZERO_EXPORT_VARI1:Un,CROSS_ZERO_EXPORT_VARI2:yn,CROSS_ZERO_EXPORT_VARI3:Gn,CROSS_ZERO_EXPORT_VARI4:Xn,CROSS_ZERO_VARE_T1:bT,CROSS_ZERO_VARE_T2:wT,CROSS_ZERO_VARE_T3:ZT,CROSS_ZERO_VARE_T4:QT,CROSS_ZERO_VARI_T1:WT,CROSS_ZERO_VARI_T2:BT,CROSS_ZERO_VARI_T3:xT,CROSS_ZERO_VARI_T4:KT,EM_MAGNETIC_INFLUENCE_OFF:bn,EM_MAGNETIC_INFLUENCE_ON:Kn,ENERGY_REGISTER_OVERFLOW:mA,ENERGY_T1_FAULT:RA,ENERGY_T2_FAULT:OA,ENERGY_T3_FAULT:iA,ENERGY_T4_FAULT:sA,F_MAX_OK:$A,F_MAX_OVER:qA,F_MIN_OK:JA,F_MIN_UNDER:rT,IA_MAX_OK:_T,IA_MAX_OVER:vT,IB_MAX_OK:AT,IB_MAX_OVER:TT,IC_MAX_OK:nT,IC_MAX_OVER:RT,IDIFF_OK:NT,IDIFF_OVER:PT,MAGNETIC_INFLUENCE_OFF:IA,MAGNETIC_INFLUENCE_ON:DA,METER_TROUBLE:Pn,OPERATOR_PARAMETERS_EXT_VALUES_FAULT:An,OPERATOR_PARAMETERS_VALUES_FAULT:vn,O_PARAMETERS_FAULT:FT,O_PARAMETERS_OK:hT,PA_MAX_OK:OT,PA_MAX_OVER:iT,POWER_A_OFF:uT,POWER_A_ON:gT,POWER_B_OFF:MT,POWER_B_ON:fT,POWER_C_OFF:IT,POWER_C_ON:DT,POWER_OVER_RELAY_OFF:un,PV_MAX_OK:sT,PV_MAX_OVER:oT,P_MAX_A_MINUS_OK:aR,P_MAX_A_MINUS_OVER:eR,RELAY_HARD_BAD_OFF:On,RELAY_HARD_BAD_ON:on,RELAY_HARD_OFF:Nn,RELAY_HARD_ON:sn,RELAY_OFF:yA,RELAY_OFF_BAD_SALDO:Qn,RELAY_ON:UA,RESET_EM_FLAG:wn,RESET_MAGNETIC_FLAG:Zn,RESTART:GA,SALDO_ENERGY_FAULT:Tn,SALDO_PARAMETERS_FAULT:JT,SET_DEMAND_EN_10_MIN:$n,SET_DEMAND_EN_15_MIN:qn,SET_DEMAND_EN_1_MIN:jn,SET_DEMAND_EN_30_MIN:Jn,SET_DEMAND_EN_3_MIN:zn,SET_DEMAND_EN_5_MIN:kn,SET_DEMAND_EN_60_MIN:rR,SET_NEW_SALDO:qT,SET_SALDO_PARAM:gn,SET_TARIFF_TABLE:FA,SUMMER_TIME:pA,TIME_CORRECT:nn,T_MAX_OK:aT,T_MAX_OVER:eT,T_MIN_OK:ET,T_MIN_UNDER:tT,VA_MAX_OK:YA,VA_MAX_OVER:WA,VA_MIN_OK:BA,VA_MIN_UNDER:xA,VB_MAX_OK:KA,VB_MAX_OVER:bA,VB_MIN_OK:wA,VB_MIN_UNDER:ZA,VC_MAX_OK:QA,VC_MAX_OVER:jA,VC_MIN_OK:zA,VC_MIN_UNDER:kA,V_PARAMETERS_FAULT:mT,V_PARAMETERS_OK:cT,WATCHDOG_RESTART:XA,WINTER_SUMMER_FAULT:_n,WINTER_TIME:HA});Fr(ER);var tR=1;var _R=2;var vR=3;var AR=4;var TR=5;var nR=6;var RR=7;var OR=8;var iR=9;var sR=10;var oR=11;var NR=12;var PR=13;var CR=14;var SR=15;var DR=16;var IR=17;var fR=18;var MR=19;var gR=20;var uR=21;var dR=22;var lR=23;var LR=24;var VR=25;var cR=26;var mR=27;var hR=28;var FR=29;var pR=30;var HR=31;var UR=32;var yR=33;var GR=34;var XR=35;var YR=36;var WR=37;var BR=38;var xR=39;var KR=40;var bR=41;var wR=42;var ZR=43;var QR=44;var jR=45;var zR=46;var kR=47;var $R=48;var qR=49;var JR=50;var rO=51;var aO=52;var eO=53;var EO=54;var tO=55;var _O=56;var vO=57;var AO=58;var TO=59;var nO=60;var RO=61;var OO=62;var iO=63;var sO=64;var oO=65;var NO=66;var PO=67;var CO=68;var SO=69;var DO=70;var IO=71;var fO=72;var MO=73;var gO=74;var uO=75;var dO=76;var lO=77;var LO=78;var VO=79;var cO=80;var mO=81;var hO=82;var FO=83;var pO=84;var HO=85;var UO=86;var yO=87;var GO=88;var XO=89;var YO=90;var WO=91;var BO=92;var xO=93;var KO=94;var bO=95;var wO=96;var ZO=97;var QO=98;var jO=99;var zO=100;var kO=101;var $O=102;var qO=103;var JO=104;var ri=105;var ai=106;var ei=107;var Ei=108;var ti=109;var _i=110;var vi=111;var Ai=112;var Ti=113;var ni=114;var Ri=115;var Oi=116;var ii=117;var si=118;var oi=119;var Ni=120;var Pi=121;var Ci=122;var Si=123;var Di=124;var Ii=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:AR,ACTIVE_ENERGY_T2:TR,ACTIVE_ENERGY_T3:nR,ACTIVE_ENERGY_T4:RR,ACTIVE_POWER_PHASE_A:ZR,ACTIVE_POWER_PHASE_B:QR,ACTIVE_POWER_PHASE_C:jR,APPARENT_POWER_QMINUS_PHASE_A:iO,APPARENT_POWER_QMINUS_PHASE_B:sO,APPARENT_POWER_QMINUS_PHASE_C:oO,APPARENT_POWER_QPLUS_PHASE_A:TO,APPARENT_POWER_QPLUS_PHASE_B:nO,APPARENT_POWER_QPLUS_PHASE_C:RO,BATTERY_VOLTAGE:KR,CURRENT_BALANCE:si,CURRENT_IN_NEUTRAL:YR,CURRENT_IN_PHASE_A:yR,CURRENT_IN_PHASE_B:GR,CURRENT_IN_PHASE_C:XR,CURRENT_TRANSFORMATION_RATIO:Oi,DATE_MONTH_YEAR:Ri,EXPORTED_ACTIVE_ENERGY_T1:MR,EXPORTED_ACTIVE_ENERGY_T2:gR,EXPORTED_ACTIVE_ENERGY_T3:uR,EXPORTED_ACTIVE_ENERGY_T4:dR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:FR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:pR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:HR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:UR,EXPORTED_REACTIVE_ENERGY_T1:LR,EXPORTED_REACTIVE_ENERGY_T2:VR,EXPORTED_REACTIVE_ENERGY_T3:cR,EXPORTED_REACTIVE_ENERGY_T4:mR,HOUR_MINUTE_SECOND:ni,MAGNET_INDUCTION:Di,MAX_ACTIVE_POWER_DAY_T1:NO,MAX_ACTIVE_POWER_DAY_T2:PO,MAX_ACTIVE_POWER_DAY_T3:CO,MAX_ACTIVE_POWER_DAY_T4:SO,MAX_ACTIVE_POWER_MONTH_T1:DO,MAX_ACTIVE_POWER_MONTH_T2:IO,MAX_ACTIVE_POWER_MONTH_T3:fO,MAX_ACTIVE_POWER_MONTH_T4:MO,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:YO,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:WO,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:BO,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:xO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:KO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:bO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:wO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:ZO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:ai,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:ei,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:Ei,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:ti,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:_i,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:vi,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:Ai,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:Ti,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:QO,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:jO,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:zO,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:kO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:$O,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:qO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:JO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:ri,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:hO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:FO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:pO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:HO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:UO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:yO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:GO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:XO,MAX_REACTIVE_POWER_DAY_T1:gO,MAX_REACTIVE_POWER_DAY_T2:uO,MAX_REACTIVE_POWER_DAY_T3:dO,MAX_REACTIVE_POWER_DAY_T4:lO,MAX_REACTIVE_POWER_MONTH_T1:LO,MAX_REACTIVE_POWER_MONTH_T2:VO,MAX_REACTIVE_POWER_MONTH_T3:cO,MAX_REACTIVE_POWER_MONTH_T4:mO,NEGATIVE_REACTIVE_ENERGY_T1:CR,NEGATIVE_REACTIVE_ENERGY_T2:SR,NEGATIVE_REACTIVE_ENERGY_T3:DR,NEGATIVE_REACTIVE_ENERGY_T4:IR,OPTOPORT_SPEED:Si,POWER_FACTOR_PHASE_A:tO,POWER_FACTOR_PHASE_B:_O,POWER_FACTOR_PHASE_C:vO,POWER_THRESHOLD_T1:oi,POWER_THRESHOLD_T2:Ni,POWER_THRESHOLD_T3:Pi,POWER_THRESHOLD_T4:Ci,REACTIVE_ENERGY_T1:iR,REACTIVE_ENERGY_T2:sR,REACTIVE_ENERGY_T3:oR,REACTIVE_ENERGY_T4:NR,REACTIVE_POWER_QMINUS_PHASE_A:rO,REACTIVE_POWER_QMINUS_PHASE_B:aO,REACTIVE_POWER_QMINUS_PHASE_C:eO,REACTIVE_POWER_QPLUS_PHASE_A:kR,REACTIVE_POWER_QPLUS_PHASE_B:$R,REACTIVE_POWER_QPLUS_PHASE_C:qR,SET_ALL_SEGMENT_DISPLAY:tR,SOFTWARE_VERSION:_R,SUPPLY_FREQUENCY:bR,TOTAL_ACTIVE_ENERGY:vR,TOTAL_ACTIVE_POWER:wR,TOTAL_APPARENT_POWER_QMINUS:OO,TOTAL_APPARENT_POWER_QPLUS:AO,TOTAL_EXPORTED_ACTIVE_ENERGY:fR,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:hR,TOTAL_EXPORTED_REACTIVE_ENERGY:lR,TOTAL_NEGATIVE_REACTIVE_ENERGY:PR,TOTAL_POWER_FACTOR:EO,TOTAL_REACTIVE_ENERGY:OR,TOTAL_REACTIVE_POWER_QMINUS:JR,TOTAL_REACTIVE_POWER_QPLUS:zR,VOLTAGE_IN_PHASE_A:WR,VOLTAGE_IN_PHASE_B:BR,VOLTAGE_IN_PHASE_C:xR,VOLTAGE_TRANSFORMATION_RATIO:ii});Fr(Ii);var fi=120;var Mi=254;var gi=255;var ui=Object.freeze({__proto__:null,activateRatePlan:Q_,errorDataFrameResponse:gi,errorResponse:Mi,getBv:Qv,getCorrectTime:Iv,getCriticalEvent:Uv,getCurrentStatusMeter:Nv,getCurrentValues:x_,getDateTime:Y_,getDayDemand:k_,getDayDemandExport:cv,getDayEnergies:fi,getDayMaxDemand:nv,getDayMaxDemandExport:yv,getDayProfile:Cv,getDemand:Jv,getDeviceId:X_,getDeviceType:G_,getDisplayParam:Bv,getEnergy:K_,getEnergyDayPrevious:y_,getEnergyExport:Vv,getEnergyExportDayPrevious:mv,getEventStatus:U_,getEvents:Ov,getEventsCounters:iv,getExtendedCurrentValues:Pv,getGsmParameters:Kv,getHalfHourDemand:z_,getHalfHourDemandChannel:Xv,getHalfHourDemandExport:Fv,getHalfHourDemandVare:Lv,getHalfHourDemandVareExport:Hv,getHalfHourDemandVari:lv,getHalfHourDemandVariExport:pv,getHalfHourEnergies:Zv,getMagneticFieldThreshold:wv,getMeterInfo:rA,getMonthDemand:$_,getMonthDemandExport:hv,getMonthMaxDemand:Rv,getMonthMaxDemandExport:Gv,getOperatorParameters:av,getOperatorParametersExtended:fv,getOperatorParametersExtended2:dv,getOperatorParametersExtended3:jv,getOperatorParametersExtended4:qv,getQuality:kv,getRatePlanInfo:vv,getSaldo:tv,getSaldoParameters:Av,getSeasonProfile:Sv,getSpecialDay:Dv,getVersion:Ev,prepareRatePlan:j_,resetPowerMaxDay:sv,resetPowerMaxMonth:ov,runTariffPlan:uv,setAccessKey:B_,setCorrectDateTime:Yv,setCorrectTime:rv,setDateTime:W_,setDayProfile:b_,setDisplayParam:Wv,setGsmParameters:xv,setOperatorParameters:ev,setOperatorParametersExtended:Mv,setOperatorParametersExtended2:gv,setOperatorParametersExtended3:zv,setOperatorParametersExtended4:$v,setSaldo:_v,setSaldoParameters:Tv,setSeasonProfile:w_,setSpecialDay:Z_,setSpecialOperation:bv,turnRelayOff:J_,turnRelayOn:q_});Fr(ui);var di=2400;var li=9600;var Li={rs485orTwi:{0:li,2:di,4:li},optoport:{0:li,2:di,4:li}};({rs485orTwi:Fr(Li.rs485orTwi),optoport:Fr(Li.optoport)});var Vi=function(r,a){var e=a.date.year<<1|a.date.month>>3&1;var E=a.date.month<<5&224|a.date.date&31;r.setUint8(e);r.setUint8(E);r.setUint8(a.demandType);r.setUint16(a.firstIndex);r.setUint8(a.count);r.setUint8(a.period)};var ci=Jv;var mi=7;var hi=function(r){var a=new $a(mi,false);Vi(a,r);return R(ci,a.data)};var Fi=145;var pi=30;var Hi=function(r){var a=[pi,r.length+2,0,Fi].concat(_(r));return[].concat(_(a),[ia(a)])};var Ui;var yi=(Ui={},e(e(e(e(e(e(e(e(e(e(Ui,Sa,Da),Ia,fa),Ma,ga),ua,da),la,La),d_,L_),m_,h_),F_,H_),tA,_A),vA,AA),e(e(Ui,TA,nA),ci,hi));toBytes=Ca(yi);getBase64FromBytes=n;setDataSegment=Hi})();
//#endregion


/*
  Incoming arguments:
    * msg - JSON message payload downlink message json
    * msgType - type of message, for ex. 'ATTRIBUTES_UPDATED', 'POST_TELEMETRY_REQUEST', etc.
    * metadata - list of key-value pairs with additional data about the message
    * integrationMetadata - list of key-value pairs with additional data defined in Integration executing this converter

  Output must be an object with the following fields:
    * contentType - BINARY
    * data - payload in base64
*/

var bytes = toBytes(msg.commands);

// send nothing if not fit in a single data segment
if ( bytes.length > MAX_DATA_SEGMENT_SIZE ) {
    bytes = [];
} else {
    bytes = setDataSegment(bytes);
}

var result = {
    contentType: 'BINARY',
    data: getBase64FromBytes(bytes)
};

return result;
