// IMPORTANT!!!
// This example only for default downlink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// encoded message should be less than this size
// to be able to send to a device
var MAX_DATA_SEGMENT_SIZE = 50;


//#region [autogenerated jooby-codec bundle from index.js]
var toBytes,setDataSegment,getBase64FromBytes;(function(){"use strict";function r(r,a){(null==a||a>r.length)&&(a=r.length);for(var E=0,e=Array(a);E<a;E++)e[E]=r[E];return e}function a(a){if(Array.isArray(a))return r(a)}function E(r,a,E){return(a=A(a))in r?Object.defineProperty(r,a,{value:E,enumerable:true,configurable:true,writable:true}):r[a]=E,r}function e(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(r){return a(r)||e(r)||T(r)||_()}function v(r,a){if("object"!=typeof r||!r)return r;var E=r[Symbol.toPrimitive];if(void 0!==E){var e=E.call(r,a);if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(r)}function A(r){var a=v(r,"string");return"symbol"==typeof a?a:a+""}function T(a,E){if(a){if("string"==typeof a)return r(a,E);var e={}.toString.call(a).slice(8,-1);return"Object"===e&&a.constructor&&(e=a.constructor.name),"Map"===e||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(a,E):void 0}}var R=1;var n=3;var O=4;var i=5;var o=7;var s=8;var N=9;var C=13;var P=15;var D=16;var S=17;var I=18;var f=19;var M=20;var g=21;var u=22;var d=23;var L=24;var l=25;var V=28;var c=30;var h=31;var m=40;var H=41;var F=42;var p=44;var U=45;var y=46;var X=47;var G=49;var Y=50;var W=51;var B=52;var x=53;var K=54;var b=57;var w=58;var Z=59;var Q=60;var j=61;var z=62;var k=65;var $=70;var q=74;var J=75;var rr=79;var ar=80;var Er=82;var er=83;var _r=88;var tr=89;var vr=91;var Ar=92;var Tr=93;var Rr=94;var nr=100;var Or=109;var ir=111;var or=112;var sr=113;var Nr=114;var Cr=116;var Pr=117;var Dr=118;var Sr=122;var Ir=Object.freeze({__proto__:null,activateRatePlan:f,getBv:or,getCorrectTime:z,getCriticalEvent:k,getCurrentStatusMeter:b,getCurrentValues:C,getDateTime:o,getDayDemand:u,getDayDemandExport:rr,getDayMaxDemand:G,getDayMaxDemandExport:_r,getDayMaxDemandPrevious:q,getDayProfile:Z,getDemand:Dr,getDemandParameters:Pr,getDeviceId:i,getDeviceType:O,getDisplayParam:Rr,getEnergy:P,getEnergyDayPrevious:n,getEnergyExport:vr,getEnergyExportDayPrevious:ar,getEventStatus:R,getEvents:W,getEventsCounters:B,getExtendedCurrentValues:w,getExtendedCurrentValues2:U,getHalfHourDemand:g,getHalfHourDemandExport:er,getHalfHourDemandPrevious:J,getHalfHourEnergies:ir,getMagneticFieldThreshold:Or,getMeterInfo:Sr,getMonthDemand:d,getMonthDemandExport:Er,getMonthMaxDemand:Y,getMonthMaxDemandExport:tr,getOperatorParameters:c,getOperatorParametersExtended3:sr,getRatePlanInfo:p,getSaldo:H,getSaldoParameters:y,getSeasonProfile:Q,getSpecialDay:j,getVersion:m,prepareRatePlan:M,resetPowerMaxDay:x,resetPowerMaxMonth:K,runTariffPlan:$,setAccessKey:N,setCorrectDateTime:Ar,setCorrectTime:V,setDateTime:s,setDayProfile:D,setDemandParameters:Cr,setDisplayParam:Tr,setOperatorParameters:h,setOperatorParametersExtended3:Nr,setSaldo:F,setSaldoParameters:X,setSeasonProfile:S,setSpecialDay:I,setSpecialOperation:nr,turnRelayOff:l,turnRelayOn:L});var fr=120;var Mr=121;var gr=254;var ur=255;var dr=Object.freeze({__proto__:null,activateRatePlan:f,errorDataFrameResponse:ur,errorResponse:gr,getBv:or,getCorrectTime:z,getCriticalEvent:k,getCurrentStatusMeter:b,getCurrentValues:C,getDateTime:o,getDayDemand:u,getDayDemandExport:rr,getDayEnergies:fr,getDayMaxDemand:G,getDayMaxDemandExport:_r,getDayMaxDemandPrevious:q,getDayMaxPower:Mr,getDayProfile:Z,getDemand:Dr,getDemandParameters:Pr,getDeviceId:i,getDeviceType:O,getDisplayParam:Rr,getEnergy:P,getEnergyDayPrevious:n,getEnergyExport:vr,getEnergyExportDayPrevious:ar,getEventStatus:R,getEvents:W,getEventsCounters:B,getExtendedCurrentValues:w,getExtendedCurrentValues2:U,getHalfHourDemand:g,getHalfHourDemandExport:er,getHalfHourDemandPrevious:J,getHalfHourEnergies:ir,getMagneticFieldThreshold:Or,getMeterInfo:Sr,getMonthDemand:d,getMonthDemandExport:Er,getMonthMaxDemand:Y,getMonthMaxDemandExport:tr,getOperatorParameters:c,getOperatorParametersExtended3:sr,getRatePlanInfo:p,getSaldo:H,getSaldoParameters:y,getSeasonProfile:Q,getSpecialDay:j,getVersion:m,prepareRatePlan:M,resetPowerMaxDay:x,resetPowerMaxMonth:K,runTariffPlan:$,setAccessKey:N,setCorrectDateTime:Ar,setCorrectTime:V,setDateTime:s,setDayProfile:D,setDemandParameters:Cr,setDisplayParam:Tr,setOperatorParameters:h,setOperatorParametersExtended3:Nr,setSaldo:F,setSaldoParameters:X,setSeasonProfile:S,setSpecialDay:I,setSpecialOperation:nr,turnRelayOff:l,turnRelayOn:L});var Lr=function(r){return btoa(r.map(function(r){return String.fromCharCode(r)}).join(""))};var lr=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return[r,a.length].concat(t(a))};var Vr=function(r){var a={};for(var E in r){var e=r[E];a[e]=E}return a};Vr(dr);var cr=0;var hr=128;var mr=129;var Hr=130;var Fr=131;var pr=132;var Ur=133;var yr=134;var Xr=135;var Gr=136;var Yr=137;var Wr=144;var Br=145;var xr=146;var Kr=147;var br=149;var wr=151;var Zr=152;var Qr=153;var jr=154;var zr=155;var kr=156;var $r=159;var qr=160;var Jr=240;var ra=Object.freeze({__proto__:null,ACCESS_DENIED:Kr,BAD_ARRAY_INDEX:yr,BAD_BLOCK_NUMBER:kr,BAD_DATA_LENGTH:Ur,BAD_MESSAGE:pr,BAD_RATE_PLAN_ID:Gr,BAD_RATE_PLAN_SIZE:Yr,BAD_RESPONSE_LENGTH:Wr,BAD_SALDO_WRITE:br,BLOCKED_METER:wr,CALIBRATION_DISABLED:xr,DECRYPTION_FAILURE:Hr,INTERNAL:Jr,INVALID_CORRECTION_INTERVAL:jr,NOT_ALIGNED_DATA:mr,NOT_PREPARED_RATE_PLAN:Xr,NO_DATA_FOR_DATE:Br,OK:cr,OUT_OFF_RANGE:$r,SET_METER_TYPE_FAILURE:qr,TIME_CORRECTION_FAILURE:Qr,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:zr,UNENCRYPTED_COMMAND_DISABLED:Zr,UNKNOWN_COMMAND:hr,UNKNOWN_PROTOCOL:Fr});Vr(ra);var aa=0;var Ea=1;var ea=2;var _a=3;var ta=Object.freeze({__proto__:null,READ_ONLY:_a,READ_WRITE:ea,ROOT:Ea,UNENCRYPTED:aa});var va=ur;var Aa={encrypt:function(){},decrypt:function(){}};var Ta=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var E=a;r.forEach(function(r){E^=r});return E};var Ra=E(E(E(E({},aa,0),_a,1),ea,2),Ea,3);var na=function(r){var a=_a;r.forEach(function(r){var E;if("accessLevel"in r){E=r.accessLevel}if("command"in r){E=r.command.accessLevel}if(Ra[E]>Ra[a]){a=E}});return a};var Oa=16;var ia=[0];var oa=function(r){return function(a,E){var e=E.messageId,_=e===void 0?1:e,v=E.accessLevel,A=v===void 0?na(a):v,T=E.aesKey;var R=a.flatMap(function(a){if("id"in a){return r[a.id](a.parameters||{})}if("command"in a){return a.command.bytes}throw new Error("wrong command format")});var n=A|16;var O=[_,n];var i=a.length===1&&"id"in a[0]&&a[0].id===va;if(i){return O.concat(R)}var o=[].concat(n,R,ia);if(A!==aa){var s=(o.length+1)%Oa;if(s){o=o.concat(new Array(Oa-s).fill(0))}}o=o.concat(Ta(o));if(T&&A!==aa){o=t(Aa.encrypt(T,o))}return O.concat(o)}};Vr(Ir);var sa=R;var Na=function(){return lr(sa)};var Ca=n;var Pa=function(r){if(r.energyType){return lr(Ca,[r.energyType])}return lr(Ca)};var Da=O;var Sa=function(){return lr(Da)};var Ia=i;var fa=function(){return lr(Ia)};var Ma=o;var ga=function(){return lr(Ma)};var ua=1;var da=2;var La=3;var la=4;var Va=Math.log,ca=Math.pow,ha=Math.LN2;var ma=function(r,a,E,e,_){var t,v,A=_*8-e-1,T=(1<<A)-1,R=T>>1,n=-7,O=E?_-1:0,i=E?-1:1,o=r[a+O];O+=i;t=o&(1<<-n)-1;o>>=-n;n+=A;for(;n>0;t=t*256+r[a+O],O+=i,n-=8);v=t&(1<<-n)-1;t>>=-n;n+=e;for(;n>0;v=v*256+r[a+O],O+=i,n-=8);if(t===0){t=1-R}else if(t===T){return v?NaN:o?-Infinity:Infinity}else{v=v+ca(2,e);t=t-R}return(o?-1:1)*v*ca(2,t-e)};var Ha=function(r,a,E,e,_,t){var v,A,T,R=t*8-_-1,n=(1<<R)-1,O=n>>1,i=_===23?ca(2,-24)-ca(2,-77):0,o=e?0:t-1,s=e?1:-1,N=E<0||E===0&&1/E<0?1:0;E<0&&(E=-E);if(E!==E||E===Infinity){A=E!==E?1:0;v=n}else{v=Va(E)/ha|0;if(E*(T=ca(2,-v))<1){v--;T*=2}if(v+O>=1){E+=i/T}else{E+=i*ca(2,1-O)}if(E*T>=2){v++;T/=2}if(v+O>=n){A=0;v=n}else if(v+O>=1){A=(E*T-1)*ca(2,_);v=v+O}else{A=E*ca(2,O-1)*ca(2,_);v=0}}for(;_>=8;r[a+o]=A&255,o+=s,A/=256,_-=8);v=v<<_|A;R+=_;for(;R>0;r[a+o]=v&255,o+=s,v/=256,R-=8);r[a+o-s]|=N*128};var Fa=[1,0];var pa=[2,1,0];var Ua=[3,2,1,0];var ya=[0,1];var Xa=[0,1,2];var Ga=[0,1,2,3];var Ya=function(r,a){return r[a]};var Wa=function(r,a,E){var e=E?ya:Fa;var _=r[a+e[0]];var t=r[a+e[1]]<<8;return _|t};var Ba=function(r,a,E){var e=E?Xa:pa;var _=r[a+e[0]];var t=r[a+e[1]]<<8;var v=r[a+e[2]]<<16;return _|t|v};var xa=function(r,a,E){var e=E?Ga:Ua;var _=r[a+e[3]]*16777216;var t=r[a+e[2]]*65536;var v=r[a+e[1]]*256;var A=r[a+e[0]];return _+t+v+A};var Ka=function(r,a,E){r[a]=E&255};var ba=function(r,a,E,e){var _=e?ya:Fa;r[a+_[0]]=E&255;r[a+_[1]]=E>>>8&255};var wa=function(r,a,E,e){var _=e?Xa:pa;r[a+_[0]]=E&255;r[a+_[1]]=E>>>8&255;r[a+_[2]]=E>>>16&255};var Za=function(r,a,E,e){var _=e?Ga:Ua;r[a+_[0]]=E&255;r[a+_[1]]=E>>>8&255;r[a+_[2]]=E>>>16&255;r[a+_[3]]=E>>>24&255};function Qa(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof r==="number"){var E=new Array(r).fill(0);this.data=E}else{this.data=r}this.offset=0;this.isLittleEndian=a}Qa.prototype={toUint8Array:function(){return this.data},seek:function(r){if(r<0||r>=this.data.length){throw new Error("Invalid position.")}this.offset=r},setInt8:function(r){Ka(this.data,this.offset,r<0?r|256:r);this.offset+=ua},getInt8:function(){var r=Ya(this.data,this.offset);this.offset+=ua;return r&128?r^-256:r},setUint8:function(r){Ka(this.data,this.offset,r);this.offset+=ua},getUint8:function(){var r=Ya(this.data,this.offset);this.offset+=ua;return r},setInt16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ba(this.data,this.offset,r<0?r|65536:r,a);this.offset+=da},getInt16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Wa(this.data,this.offset,r);this.offset+=da;return a&32768?a^-65536:a},setUint16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ba(this.data,this.offset,r,a);this.offset+=da},getUint16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Wa(this.data,this.offset,r);this.offset+=da;return a},setInt24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;wa(this.data,this.offset,r<0?r|16777216:r,a);this.offset+=La},getInt24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Ba(this.data,this.offset,r);this.offset+=La;return a&8388608?a^-16777216:a},setUint24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;wa(this.data,this.offset,r,a);this.offset+=La},getUint24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Ba(this.data,this.offset,r);this.offset+=La;return a},setInt32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Za(this.data,this.offset,r<0?r|4294967296:r,a);this.offset+=la},getInt32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=xa(this.data,this.offset,r);this.offset+=la;return a&2147483648?a^-4294967296:a},setUint32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Za(this.data,this.offset,r,a);this.offset+=la},getUint32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=xa(this.data,this.offset,r);this.offset+=la;return a},setFloat32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Ha(this.data,this.offset,r,a,23,4);this.offset+=la},getFloat32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=ma(this.data,this.offset,r,23,4);this.offset+=la;return a},setString:function(r){this.setUint8(r.length);for(var a=0;a<r.length;++a){this.setUint8(r.charCodeAt(a))}},getString:function(){var r=this.getUint8();var a=this.offset+r;var E=[];while(this.offset<a){E.push(String.fromCharCode(this.getUint8()))}return E.join("")},getBytesToOffset:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,r)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=a+r;return this.data.slice(a,this.offset)},setBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var E=this.data;E.splice.apply(E,[a,r.length].concat(t(r)));this.data=E;this.offset=a+r.length}};Object.defineProperties(Qa.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var ja=80;var za=81;var ka=82;var $a=83;var qa=84;var Ja=85;var rE=86;var aE=87;var EE=88;var eE=89;var _E=90;var tE=91;var vE=255;var AE=Object.freeze({__proto__:null,DATA_REQUEST:ja,DATA_RESPONSE:za,FRAGMENT_REQUEST:_E,FRAGMENT_RESPONSE:tE,IDENT_REQUEST:ka,IDENT_RESPONSE:$a,INVALID:vE,L2_CHECK_ADDRESS_REQUEST:rE,L2_CHECK_ADDRESS_RESPONSE:aE,L2_RM_ADDRESS_REQUEST:EE,L2_RM_ADDRESS_RESPONSE:eE,L2_SET_ADDRESS_REQUEST:qa,L2_SET_ADDRESS_RESPONSE:Ja});Vr(AE);Vr(ta);var TE=0;var RE=1;var nE=2;var OE=3;var iE=4;var oE=5;var sE=6;var NE=7;var CE=8;var PE=9;var DE=10;var SE=11;var IE=12;var fE=13;var ME=14;var gE=Object.freeze({__proto__:null,CASE_MODULE_OPEN:DE,CASE_OPEN:TE,CASE_TERMINAL_OPEN:PE,DEVICE_FAILURE:CE,ERROR_ACCESS:oE,MAGNETIC_ON:RE,PARAMETERS_UPDATE_LOCAL:OE,PARAMETERS_UPDATE_REMOTE:nE,PROTECTION_RESET_EM:fE,PROTECTION_RESET_MAGNETIC:ME,RESTART:iE,TARIFF_TABLE_GET:IE,TARIFF_TABLE_SET:SE,TIME_CORRECT:NE,TIME_SET:sE});Vr(gE);var uE=1;var dE=2;var LE=3;var lE=16;var VE=17;var cE=18;var hE=19;var mE=20;var HE=21;var FE=32;var pE=33;var UE=34;var yE=35;var XE=36;var GE=37;var YE=38;var WE=39;var BE=40;var xE=41;var KE=49;var bE=50;var wE=51;var ZE=52;var QE=53;var jE=54;var zE=55;var kE=56;var $E=57;var qE=58;var JE=59;var re=64;var ae=65;var Ee=66;var ee=67;var _e=68;var te=69;var ve=70;var Ae=71;var Te=72;var Re=73;var ne=74;var Oe=75;var ie=76;var oe=77;var se=78;var Ne=79;var Ce=80;var Pe=81;var De=82;var Se=83;var Ie=84;var fe=85;var Me=86;var ge=87;var ue=88;var de=89;var Le=96;var le=97;var Ve=98;var ce=99;var he=100;var me=101;var He=102;var Fe=103;var pe=104;var Ue=105;var ye=112;var Xe=113;var Ge=114;var Ye=115;var We=116;var Be=117;var xe=118;var Ke=119;var be=120;var we=121;var Ze=122;var Qe=123;var je=124;var ze=125;var ke=144;var $e=145;var qe=147;var Je=148;var r_=152;var a_=156;var E_=157;var e_=158;var __=159;var t_=160;var v_=161;var A_=162;var T_=176;var R_=177;var n_=178;var O_=179;var i_=180;var o_=181;var s_=182;var N_=183;var C_=185;var P_=186;var D_=224;var S_=225;var I_=226;var f_=227;var M_=228;var g_=229;var u_=230;var d_=231;var L_=232;var l_=Object.freeze({__proto__:null,ACCESS_ERROR:VE,ACCESS_LOCKED:lE,ACC_PARAMETERS_EXT_FAULT:Ye,ACC_PARAMETERS_FAULT:Ge,BAD_TEST_EEPROM:pe,BAD_TEST_FRAM:Ue,BATTERY_FAULT:Se,BATTERY_OK:De,BIPOLAR_POWER_FAULT:i_,BIPOLAR_POWER_OK:o_,BLOCK_TARIFF_FAULT:Be,CALC_PERIOD_FAULT:We,CALIBRATION_FAULT:fe,CALIBRATION_FLAG_RESET:Fe,CALIBRATION_FLAG_SET:He,CALIBRATION_OK:Ie,CALIBRATION_PARAMETERS_FAULT:xe,CASE_CLOSED:hE,CASE_MODULE_CLOSED:ze,CASE_MODULE_OPENED:je,CASE_OPENED:cE,CASE_TERMINAL_BOX_CLOSED:Qe,CASE_TERMINAL_BOX_OPENED:Ze,CHANGE_ACCESS_KEY0:FE,CHANGE_ACCESS_KEY1:pE,CHANGE_ACCESS_KEY2:UE,CHANGE_ACCESS_KEY3:yE,CHANGE_COR_TIME:xE,CHANGE_PARAMETERS_CHANNEL:C_,CHANGE_PARAMETERS_LOCAL:XE,CHANGE_PARAMETERS_REMOTE:GE,CHANGE_TARIFF_TABLE:bE,CHANGE_TARIFF_TABLE_2:r_,CLOCK_FAULT:ge,CLOCK_OK:Me,CMD_RELAY_2_OFF:le,CMD_RELAY_2_ON:Le,CMD_RELAY_OFF:BE,CMD_RELAY_ON:WE,CMD_SET_DATETIME:YE,COSF_MIN_OVER:JE,COSF_OK:qE,CROSS_ZERO_EN_T1:Ve,CROSS_ZERO_EN_T2:ce,CROSS_ZERO_EN_T3:he,CROSS_ZERO_EN_T4:me,CROSS_ZERO_EXPORT_EN_T1:e_,CROSS_ZERO_EXPORT_EN_T2:__,CROSS_ZERO_EXPORT_EN_T3:t_,CROSS_ZERO_EXPORT_EN_T4:v_,CURRENT_UNEQUAL_FAULT:n_,CURRENT_UNEQUAL_OK:O_,EM_MAGNETIC_INFLUENCE_OFF:R_,EM_MAGNETIC_INFLUENCE_ON:T_,ENERGY_REGISTER_FAULT:uE,ENERGY_REGISTER_OVERFLOW:KE,F_MAX_OK:Te,F_MAX_OVER:Re,F_MIN_OK:ne,F_MIN_OVER:Oe,I_MAX_OK:ie,I_MAX_OVER:oe,MAGNETIC_INFLUENCE_OFF:HE,MAGNETIC_INFLUENCE_ON:mE,OPERATOR_PARAMETERS_VALUES_FAULT:LE,POWER_A_OFF:ue,POWER_A_ON:de,POWER_OVER_RELAY_OFF:E_,POWER_SALDO_OK:Ce,POWER_SALDO_OVER:Pe,P_MAX_A_MINUS_OK:d_,P_MAX_A_MINUS_OVER:L_,P_MAX_OK:se,P_MAX_OVER:Ne,RELAY_HARD_BAD_OFF:ke,RELAY_HARD_BAD_ON:qe,RELAY_HARD_OFF:Je,RELAY_HARD_ON:$e,RELAY_OFF:zE,RELAY_OFF_BAD_SALDO:P_,RELAY_ON:jE,RESET_EM_FLAG:s_,RESET_MAGNET_FLAG:N_,RESTART:kE,SALDO_EN_FAULT:be,SALDO_PARAMETERS_FAULT:Xe,SET_DEMAND_EN_10MIN:f_,SET_DEMAND_EN_15MIN:M_,SET_DEMAND_EN_1MIN:D_,SET_DEMAND_EN_30MIN:g_,SET_DEMAND_EN_3MIN:S_,SET_DEMAND_EN_5MIN:I_,SET_DEMAND_EN_60MIN:u_,SET_NEW_SALDO:ye,SET_SALDO_PARAM:a_,SET_TARIFF_TABLE:wE,SUMMER_TIME:ZE,TIME_CORRECT:we,TIME_CORRECT_NEW:A_,T_MAX_OK:_e,T_MAX_OVER:te,T_MIN_OK:ve,T_MIN_OVER:Ae,VENDOR_PAR_FAULT:dE,V_MAX_OK:re,V_MAX_OVER:ae,V_MIN_OK:Ee,V_MIN_OVER:ee,WATCHDOG_RESTART:$E,WINTER_SUMMER_FAULT:Ke,WINTER_TIME:QE});Vr(l_);var V_=1;var c_=2;var h_=3;var m_=4;var H_=5;var F_=6;var p_=7;var U_=8;var y_=9;var X_=10;var G_=11;var Y_=12;var W_=13;var B_=14;var x_=15;var K_=16;var b_=17;var w_=18;var Z_=19;var Q_=20;var j_=21;var z_=22;var k_=23;var $_=24;var q_=25;var J_=26;var rt=28;var at=30;var Et=31;var et=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:m_,ACTIVE_ENERGY_T2:H_,ACTIVE_ENERGY_T3:F_,ACTIVE_ENERGY_T4:p_,ACTIVE_POWER_IN_NEUTRAL:y_,ACTIVE_POWER_PER_PHASE:U_,BATTERY_VOLTAGE:z_,CURRENT_BALANCE:at,CURRENT_IN_NEUTRAL:G_,CURRENT_IN_PHASE:X_,DATE_MONTH_YEAR:B_,EXPORTED_ACTIVE_ENERGY_T1:K_,EXPORTED_ACTIVE_ENERGY_T2:b_,EXPORTED_ACTIVE_ENERGY_T3:w_,EXPORTED_ACTIVE_ENERGY_T4:Z_,HOUR_MINUTE_SECOND:W_,MAGNET_INDUCTION:rt,OPTOPORT_SPEED:Et,POWER_FACTOR_PHASE_A:Q_,POWER_FACTOR_PHASE_B:j_,POWER_THRESHOLD_T1:k_,POWER_THRESHOLD_T2:$_,POWER_THRESHOLD_T3:q_,POWER_THRESHOLD_T4:J_,SET_ALL_SEGMENT_DISPLAY:V_,SOFTWARE_VERSION:c_,TOTAL_ACTIVE_ENERGY:h_,TOTAL_EXPORTED_ACTIVE_ENERGY:x_,VOLTAGE:Y_});Vr(et);var _t=2400;var tt=9600;var vt={rs485orTwi:{0:tt,2:_t,4:tt},optoport:{0:_t,2:_t,4:tt}};({rs485orTwi:Vr(vt.rs485orTwi),optoport:Vr(vt.optoport)});var At=function(r,a){r.setUint8(a.isSummerTime?1:0);r.setUint8(a.seconds);r.setUint8(a.minutes);r.setUint8(a.hours);r.setUint8(a.day||0);r.setUint8(a.date);r.setUint8(a.month);r.setUint8(a.year)};var Tt=function(r,a){r.setUint8(a.year);r.setUint8(a.month);r.setUint8(a.date)};var Rt=s;var nt=8;var Ot=function(r){var a=new Qa(nt,false);At(a,r);return lr(Rt,a.data)};var it=0;var ot=1;var st=P;var Nt=function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=new Qa(r?.energyType?ot:it,false);if(r?.energyType){a.setUint8(r.energyType)}return lr(st,a.data)};var Ct=g;var Pt=3;var Dt=function(r){var a=new Qa(Pt,false);Tt(a,r.date);return lr(Ct,a.data)};var St=1;var It=3;var ft=4;var Mt=5;var gt=7;var ut=8;var dt=9;var Lt=13;var lt=15;var Vt=16;var ct=17;var ht=18;var mt=19;var Ht=20;var Ft=21;var pt=22;var Ut=23;var yt=24;var Xt=25;var Gt=28;var Yt=30;var Wt=31;var Bt=40;var xt=41;var Kt=42;var bt=44;var wt=46;var Zt=47;var Qt=49;var jt=50;var zt=51;var kt=52;var $t=53;var qt=54;var Jt=57;var rv=58;var av=59;var Ev=60;var ev=61;var _v=62;var tv=63;var vv=64;var Av=69;var Tv=70;var Rv=71;var nv=72;var Ov=73;var iv=78;var ov=79;var sv=80;var Nv=82;var Cv=83;var Pv=84;var Dv=85;var Sv=86;var Iv=88;var fv=89;var Mv=90;var gv=92;var uv=93;var dv=94;var Lv=100;var lv=109;var Vv=111;var cv=112;var hv=113;var mv=114;var Hv=116;var Fv=117;var pv=118;var Uv=122;var yv=Object.freeze({__proto__:null,activateRatePlan:mt,getBv:cv,getCorrectTime:_v,getCriticalEvent:Sv,getCurrentStatusMeter:Jt,getCurrentValues:Lt,getDateTime:gt,getDayDemand:pt,getDayDemandExport:ov,getDayMaxDemand:Qt,getDayMaxDemandExport:Iv,getDayProfile:av,getDemand:pv,getDeviceId:Mt,getDeviceType:ft,getDisplayParam:dv,getEnergy:lt,getEnergyDayPrevious:It,getEnergyExport:iv,getEnergyExportDayPrevious:sv,getEventStatus:St,getEvents:zt,getEventsCounters:kt,getExtendedCurrentValues:rv,getHalfHourDemand:Ft,getHalfHourDemandChannel:Mv,getHalfHourDemandExport:Cv,getHalfHourDemandVare:Ov,getHalfHourDemandVareExport:Dv,getHalfHourDemandVari:nv,getHalfHourDemandVariExport:Pv,getHalfHourEnergies:Vv,getMagneticFieldThreshold:lv,getMeterInfo:Uv,getMonthDemand:Ut,getMonthDemandExport:Nv,getMonthMaxDemand:jt,getMonthMaxDemandExport:fv,getOperatorParameters:Yt,getOperatorParametersExtended:tv,getOperatorParametersExtended2:Rv,getOperatorParametersExtended3:hv,getOperatorParametersExtended4:Fv,getRatePlanInfo:bt,getSaldo:xt,getSaldoParameters:wt,getSeasonProfile:Ev,getSpecialDay:ev,getVersion:Bt,prepareRatePlan:Ht,resetPowerMaxDay:$t,resetPowerMaxMonth:qt,runTariffPlan:Tv,setAccessKey:dt,setCorrectDateTime:gv,setCorrectTime:Gt,setDateTime:ut,setDayProfile:Vt,setDisplayParam:uv,setOperatorParameters:Wt,setOperatorParametersExtended:vv,setOperatorParametersExtended2:Av,setOperatorParametersExtended3:mv,setOperatorParametersExtended4:Hv,setSaldo:Kt,setSaldoParameters:Zt,setSeasonProfile:ct,setSpecialDay:ht,setSpecialOperation:Lv,turnRelayOff:Xt,turnRelayOn:yt});Vr(yv);var Xv=3;var Gv=4;var Yv=pt;var Wv=function(r){var a=new Qa(r?.energyType?Gv:Xv,false);Tt(a,r?.date);if(r?.energyType){a.setUint8(r.energyType)}return lr(Yv,a.data)};var Bv=m;var xv=function(){return lr(Bv)};var Kv=Sv;var bv=function(r){return lr(Kv,[r.event,r.index])};var wv=1;var Zv=2;var Qv=3;var jv=4;var zv=17;var kv=18;var $v=19;var qv=20;var Jv=21;var rA=22;var aA=23;var EA=32;var eA=33;var _A=34;var tA=35;var vA=36;var AA=37;var TA=38;var RA=39;var nA=40;var OA=49;var iA=50;var oA=51;var sA=52;var NA=53;var CA=54;var PA=55;var DA=56;var SA=57;var IA=64;var fA=65;var MA=66;var gA=67;var uA=68;var dA=69;var LA=70;var lA=71;var VA=72;var cA=73;var hA=74;var mA=75;var HA=76;var FA=77;var pA=78;var UA=79;var yA=80;var XA=81;var GA=82;var YA=83;var WA=84;var BA=85;var xA=86;var KA=87;var bA=88;var wA=89;var ZA=90;var QA=91;var jA=92;var zA=93;var kA=94;var $A=95;var qA=96;var JA=97;var rT=98;var aT=99;var ET=100;var eT=101;var _T=102;var tT=103;var vT=104;var AT=105;var TT=106;var RT=107;var nT=108;var OT=109;var iT=110;var oT=111;var sT=112;var NT=113;var CT=114;var PT=115;var DT=116;var ST=117;var IT=118;var fT=119;var MT=120;var gT=121;var uT=122;var dT=123;var LT=124;var lT=125;var VT=126;var cT=127;var hT=128;var mT=129;var HT=130;var FT=131;var pT=132;var UT=133;var yT=134;var XT=135;var GT=136;var YT=137;var WT=138;var BT=139;var xT=140;var KT=141;var bT=142;var wT=143;var ZT=144;var QT=145;var jT=147;var zT=148;var kT=149;var $T=150;var qT=151;var JT=152;var rR=153;var aR=154;var ER=155;var eR=156;var _R=157;var tR=158;var vR=159;var AR=160;var TR=161;var RR=162;var nR=163;var OR=164;var iR=165;var oR=166;var sR=167;var NR=168;var CR=169;var PR=170;var DR=171;var SR=172;var IR=173;var fR=174;var MR=175;var gR=176;var uR=177;var dR=178;var LR=179;var lR=186;var VR=224;var cR=225;var hR=226;var mR=227;var HR=228;var FR=229;var pR=230;var UR=231;var yR=232;var XR=Object.freeze({__proto__:null,ACCESS_ERROR:$v,ACCESS_LOCKED:zv,ACCESS_UNLOCKED:kv,ACCUMULATION_PARAMETERS_EXT_FAULT:yT,ACCUMULATION_PARAMETERS_FAULT:UT,BAD_TEST_EEPROM:mT,BAD_TEST_FRAM:HT,BATTERY_FAULT:AT,BATTERY_OK:vT,BLOCK_TARIFF_FAULT:GT,CALCULATION_PERIOD_FAULT:XT,CALIBRATION_FAULT:RT,CALIBRATION_FLAG_RESET:hT,CALIBRATION_FLAG_SET:cT,CALIBRATION_OK:TT,CALIBRATION_PARAMETERS_FAULT:YT,CASE_CLOSED:Jv,CASE_MODULE_CLOSED:ER,CASE_MODULE_OPENED:aR,CASE_OPENED:qv,CASE_TERMINAL_BOX_CLOSED:qT,CASE_TERMINAL_BOX_OPENED:$T,CHANGE_ACCESS_KEY0:EA,CHANGE_ACCESS_KEY1:eA,CHANGE_ACCESS_KEY2:_A,CHANGE_ACCESS_KEY3:tA,CHANGE_COR_TIME:sT,CHANGE_PARAMETERS_LOCAL:vA,CHANGE_PARAMETERS_REMOTE:AA,CHANGE_PARAMETER_CHANNEL1:tR,CHANGE_PARAMETER_CHANNEL2:vR,CHANGE_PARAMETER_CHANNEL3:AR,CHANGE_PARAMETER_CHANNEL4:TR,CHANGE_PARAMETER_CHANNEL5:RR,CHANGE_PARAMETER_CHANNEL6:nR,CHANGE_TARIFF_TABLE:iA,CHANGE_TARIFF_TABLE_2:JT,CHANGE_TARIFF_TABLE_3:rR,CLOCK_FAULT:JA,CLOCK_OK:qA,CMD_RELAY_2_OFF:CT,CMD_RELAY_2_ON:NT,CMD_RELAY_OFF:nA,CMD_RELAY_ON:RA,CMD_SET_DATETIME:TA,COEFFICIENT_TRANSFORMATION_CHANGE:wT,CROSS_ZERO_EN_T1:PT,CROSS_ZERO_EN_T2:DT,CROSS_ZERO_EN_T3:ST,CROSS_ZERO_EN_T4:IT,CROSS_ZERO_EXPORT_EN_T1:OR,CROSS_ZERO_EXPORT_EN_T2:iR,CROSS_ZERO_EXPORT_EN_T3:oR,CROSS_ZERO_EXPORT_EN_T4:sR,CROSS_ZERO_EXPORT_VARE1:SR,CROSS_ZERO_EXPORT_VARE2:IR,CROSS_ZERO_EXPORT_VARE3:fR,CROSS_ZERO_EXPORT_VARE4:MR,CROSS_ZERO_EXPORT_VARI1:NR,CROSS_ZERO_EXPORT_VARI2:CR,CROSS_ZERO_EXPORT_VARI3:PR,CROSS_ZERO_EXPORT_VARI4:DR,CROSS_ZERO_VARE_T1:dT,CROSS_ZERO_VARE_T2:LT,CROSS_ZERO_VARE_T3:lT,CROSS_ZERO_VARE_T4:VT,CROSS_ZERO_VARI_T1:fT,CROSS_ZERO_VARI_T2:MT,CROSS_ZERO_VARI_T3:gT,CROSS_ZERO_VARI_T4:uT,EM_MAGNETIC_INFLUENCE_OFF:uR,EM_MAGNETIC_INFLUENCE_ON:gR,ENERGY_REGISTER_OVERFLOW:OA,ENERGY_T1_FAULT:wv,ENERGY_T2_FAULT:Zv,ENERGY_T3_FAULT:Qv,ENERGY_T4_FAULT:jv,F_MAX_OK:HA,F_MAX_OVER:FA,F_MIN_OK:pA,F_MIN_UNDER:UA,IA_MAX_OK:WA,IA_MAX_OVER:BA,IB_MAX_OK:xA,IB_MAX_OVER:KA,IC_MAX_OK:bA,IC_MAX_OVER:wA,IDIFF_OK:kA,IDIFF_OVER:$A,MAGNETIC_INFLUENCE_OFF:aA,MAGNETIC_INFLUENCE_ON:rA,METER_TROUBLE:kT,OPERATOR_PARAMETERS_EXT_VALUES_FAULT:xT,OPERATOR_PARAMETERS_VALUES_FAULT:BT,O_PARAMETERS_FAULT:oT,O_PARAMETERS_OK:iT,PA_MAX_OK:ZA,PA_MAX_OVER:QA,POWER_A_OFF:tT,POWER_A_ON:_T,POWER_B_OFF:eT,POWER_B_ON:ET,POWER_C_OFF:aT,POWER_C_ON:rT,POWER_OVER_RELAY_OFF:_R,PV_MAX_OK:jA,PV_MAX_OVER:zA,P_MAX_A_MINUS_OK:UR,P_MAX_A_MINUS_OVER:yR,RELAY_HARD_BAD_OFF:ZT,RELAY_HARD_BAD_ON:jT,RELAY_HARD_OFF:zT,RELAY_HARD_ON:QT,RELAY_OFF:PA,RELAY_OFF_BAD_SALDO:lR,RELAY_ON:CA,RESET_EM_FLAG:dR,RESET_MAGNETIC_FLAG:LR,RESTART:DA,SALDO_ENERGY_FAULT:KT,SALDO_PARAMETERS_FAULT:pT,SET_DEMAND_EN_10_MIN:mR,SET_DEMAND_EN_15_MIN:HR,SET_DEMAND_EN_1_MIN:VR,SET_DEMAND_EN_30_MIN:FR,SET_DEMAND_EN_3_MIN:cR,SET_DEMAND_EN_5_MIN:hR,SET_DEMAND_EN_60_MIN:pR,SET_NEW_SALDO:FT,SET_SALDO_PARAM:eR,SET_TARIFF_TABLE:oA,SUMMER_TIME:sA,TIME_CORRECT:bT,T_MAX_OK:yA,T_MAX_OVER:XA,T_MIN_OK:GA,T_MIN_UNDER:YA,VA_MAX_OK:IA,VA_MAX_OVER:fA,VA_MIN_OK:MA,VA_MIN_UNDER:gA,VB_MAX_OK:uA,VB_MAX_OVER:dA,VB_MIN_OK:LA,VB_MIN_UNDER:lA,VC_MAX_OK:VA,VC_MAX_OVER:cA,VC_MIN_OK:hA,VC_MIN_UNDER:mA,V_PARAMETERS_FAULT:OT,V_PARAMETERS_OK:nT,WATCHDOG_RESTART:SA,WINTER_SUMMER_FAULT:WT,WINTER_TIME:NA});Vr(XR);var GR=1;var YR=2;var WR=3;var BR=4;var xR=5;var KR=6;var bR=7;var wR=8;var ZR=9;var QR=10;var jR=11;var zR=12;var kR=13;var $R=14;var qR=15;var JR=16;var rn=17;var an=18;var En=19;var en=20;var _n=21;var tn=22;var vn=23;var An=24;var Tn=25;var Rn=26;var nn=27;var On=28;var on=29;var sn=30;var Nn=31;var Cn=32;var Pn=33;var Dn=34;var Sn=35;var In=36;var fn=37;var Mn=38;var gn=39;var un=40;var dn=41;var Ln=42;var ln=43;var Vn=44;var cn=45;var hn=46;var mn=47;var Hn=48;var Fn=49;var pn=50;var Un=51;var yn=52;var Xn=53;var Gn=54;var Yn=55;var Wn=56;var Bn=57;var xn=58;var Kn=59;var bn=60;var wn=61;var Zn=62;var Qn=63;var jn=64;var zn=65;var kn=66;var $n=67;var qn=68;var Jn=69;var rO=70;var aO=71;var EO=72;var eO=73;var _O=74;var tO=75;var vO=76;var AO=77;var TO=78;var RO=79;var nO=80;var OO=81;var iO=82;var oO=83;var sO=84;var NO=85;var CO=86;var PO=87;var DO=88;var SO=89;var IO=90;var fO=91;var MO=92;var gO=93;var uO=94;var dO=95;var LO=96;var lO=97;var VO=98;var cO=99;var hO=100;var mO=101;var HO=102;var FO=103;var pO=104;var UO=105;var yO=106;var XO=107;var GO=108;var YO=109;var WO=110;var BO=111;var xO=112;var KO=113;var bO=114;var wO=115;var ZO=116;var QO=117;var jO=118;var zO=119;var kO=120;var $O=121;var qO=122;var JO=123;var ri=124;var ai=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:BR,ACTIVE_ENERGY_T2:xR,ACTIVE_ENERGY_T3:KR,ACTIVE_ENERGY_T4:bR,ACTIVE_POWER_PHASE_A:ln,ACTIVE_POWER_PHASE_B:Vn,ACTIVE_POWER_PHASE_C:cn,APPARENT_POWER_QMINUS_PHASE_A:Qn,APPARENT_POWER_QMINUS_PHASE_B:jn,APPARENT_POWER_QMINUS_PHASE_C:zn,APPARENT_POWER_QPLUS_PHASE_A:Kn,APPARENT_POWER_QPLUS_PHASE_B:bn,APPARENT_POWER_QPLUS_PHASE_C:wn,BATTERY_VOLTAGE:un,CURRENT_BALANCE:jO,CURRENT_IN_NEUTRAL:In,CURRENT_IN_PHASE_A:Pn,CURRENT_IN_PHASE_B:Dn,CURRENT_IN_PHASE_C:Sn,CURRENT_TRANSFORMATION_RATIO:ZO,DATE_MONTH_YEAR:wO,EXPORTED_ACTIVE_ENERGY_T1:En,EXPORTED_ACTIVE_ENERGY_T2:en,EXPORTED_ACTIVE_ENERGY_T3:_n,EXPORTED_ACTIVE_ENERGY_T4:tn,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:on,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:sn,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:Nn,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:Cn,EXPORTED_REACTIVE_ENERGY_T1:An,EXPORTED_REACTIVE_ENERGY_T2:Tn,EXPORTED_REACTIVE_ENERGY_T3:Rn,EXPORTED_REACTIVE_ENERGY_T4:nn,HOUR_MINUTE_SECOND:bO,MAGNET_INDUCTION:ri,MAX_ACTIVE_POWER_DAY_T1:kn,MAX_ACTIVE_POWER_DAY_T2:$n,MAX_ACTIVE_POWER_DAY_T3:qn,MAX_ACTIVE_POWER_DAY_T4:Jn,MAX_ACTIVE_POWER_MONTH_T1:rO,MAX_ACTIVE_POWER_MONTH_T2:aO,MAX_ACTIVE_POWER_MONTH_T3:EO,MAX_ACTIVE_POWER_MONTH_T4:eO,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:IO,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:fO,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:MO,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:gO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:uO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:dO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:LO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:lO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:yO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:XO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:GO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:YO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:WO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:BO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:xO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:KO,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:VO,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:cO,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:hO,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:mO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:HO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:FO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:pO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:UO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:iO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:oO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:sO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:NO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:CO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:PO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:DO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:SO,MAX_REACTIVE_POWER_DAY_T1:_O,MAX_REACTIVE_POWER_DAY_T2:tO,MAX_REACTIVE_POWER_DAY_T3:vO,MAX_REACTIVE_POWER_DAY_T4:AO,MAX_REACTIVE_POWER_MONTH_T1:TO,MAX_REACTIVE_POWER_MONTH_T2:RO,MAX_REACTIVE_POWER_MONTH_T3:nO,MAX_REACTIVE_POWER_MONTH_T4:OO,NEGATIVE_REACTIVE_ENERGY_T1:$R,NEGATIVE_REACTIVE_ENERGY_T2:qR,NEGATIVE_REACTIVE_ENERGY_T3:JR,NEGATIVE_REACTIVE_ENERGY_T4:rn,OPTOPORT_SPEED:JO,POWER_FACTOR_PHASE_A:Yn,POWER_FACTOR_PHASE_B:Wn,POWER_FACTOR_PHASE_C:Bn,POWER_THRESHOLD_T1:zO,POWER_THRESHOLD_T2:kO,POWER_THRESHOLD_T3:$O,POWER_THRESHOLD_T4:qO,REACTIVE_ENERGY_T1:ZR,REACTIVE_ENERGY_T2:QR,REACTIVE_ENERGY_T3:jR,REACTIVE_ENERGY_T4:zR,REACTIVE_POWER_QMINUS_PHASE_A:Un,REACTIVE_POWER_QMINUS_PHASE_B:yn,REACTIVE_POWER_QMINUS_PHASE_C:Xn,REACTIVE_POWER_QPLUS_PHASE_A:mn,REACTIVE_POWER_QPLUS_PHASE_B:Hn,REACTIVE_POWER_QPLUS_PHASE_C:Fn,SET_ALL_SEGMENT_DISPLAY:GR,SOFTWARE_VERSION:YR,SUPPLY_FREQUENCY:dn,TOTAL_ACTIVE_ENERGY:WR,TOTAL_ACTIVE_POWER:Ln,TOTAL_APPARENT_POWER_QMINUS:Zn,TOTAL_APPARENT_POWER_QPLUS:xn,TOTAL_EXPORTED_ACTIVE_ENERGY:an,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:On,TOTAL_EXPORTED_REACTIVE_ENERGY:vn,TOTAL_NEGATIVE_REACTIVE_ENERGY:kR,TOTAL_POWER_FACTOR:Gn,TOTAL_REACTIVE_ENERGY:wR,TOTAL_REACTIVE_POWER_QMINUS:pn,TOTAL_REACTIVE_POWER_QPLUS:hn,VOLTAGE_IN_PHASE_A:fn,VOLTAGE_IN_PHASE_B:Mn,VOLTAGE_IN_PHASE_C:gn,VOLTAGE_TRANSFORMATION_RATIO:QO});Vr(ai);var Ei=120;var ei=254;var _i=255;var ti=Object.freeze({__proto__:null,activateRatePlan:mt,errorDataFrameResponse:_i,errorResponse:ei,getBv:cv,getCorrectTime:_v,getCriticalEvent:Sv,getCurrentStatusMeter:Jt,getCurrentValues:Lt,getDateTime:gt,getDayDemand:pt,getDayDemandExport:ov,getDayEnergies:Ei,getDayMaxDemand:Qt,getDayMaxDemandExport:Iv,getDayProfile:av,getDemand:pv,getDeviceId:Mt,getDeviceType:ft,getDisplayParam:dv,getEnergy:lt,getEnergyDayPrevious:It,getEnergyExport:iv,getEnergyExportDayPrevious:sv,getEventStatus:St,getEvents:zt,getEventsCounters:kt,getExtendedCurrentValues:rv,getHalfHourDemand:Ft,getHalfHourDemandChannel:Mv,getHalfHourDemandExport:Cv,getHalfHourDemandVare:Ov,getHalfHourDemandVareExport:Dv,getHalfHourDemandVari:nv,getHalfHourDemandVariExport:Pv,getHalfHourEnergies:Vv,getMagneticFieldThreshold:lv,getMeterInfo:Uv,getMonthDemand:Ut,getMonthDemandExport:Nv,getMonthMaxDemand:jt,getMonthMaxDemandExport:fv,getOperatorParameters:Yt,getOperatorParametersExtended:tv,getOperatorParametersExtended2:Rv,getOperatorParametersExtended3:hv,getOperatorParametersExtended4:Fv,getRatePlanInfo:bt,getSaldo:xt,getSaldoParameters:wt,getSeasonProfile:Ev,getSpecialDay:ev,getVersion:Bt,prepareRatePlan:Ht,resetPowerMaxDay:$t,resetPowerMaxMonth:qt,runTariffPlan:Tv,setAccessKey:dt,setCorrectDateTime:gv,setCorrectTime:Gt,setDateTime:ut,setDayProfile:Vt,setDisplayParam:uv,setOperatorParameters:Wt,setOperatorParametersExtended:vv,setOperatorParametersExtended2:Av,setOperatorParametersExtended3:mv,setOperatorParametersExtended4:Hv,setSaldo:Kt,setSaldoParameters:Zt,setSeasonProfile:ct,setSpecialDay:ht,setSpecialOperation:Lv,turnRelayOff:Xt,turnRelayOn:yt});Vr(ti);var vi=2400;var Ai=9600;var Ti={rs485orTwi:{0:Ai,2:vi,4:Ai},optoport:{0:Ai,2:vi,4:Ai}};({rs485orTwi:Vr(Ti.rs485orTwi),optoport:Vr(Ti.optoport)});var Ri=function(r,a){var E=a.date.year<<1|a.date.month>>3&1;var e=a.date.month<<5&224|a.date.date&31;r.setUint8(E);r.setUint8(e);r.setUint8(a.demandType);r.setUint16(a.firstIndex);r.setUint8(a.count);r.setUint8(a.period)};var ni=pv;var Oi=7;var ii=function(r){var a=new Qa(Oi,false);Ri(a,r);return lr(ni,a.data)};var oi=145;var si=30;var Ni=function(r){var a=[si,r.length+2,0,oi].concat(t(r));return[].concat(t(a),[Ta(a)])};var Ci;var Pi=(Ci={},E(E(E(E(E(E(E(E(E(E(Ci,sa,Na),Ca,Pa),Da,Sa),Ia,fa),Ma,ga),Rt,Ot),st,Nt),Ct,Dt),Yv,Wv),Bv,xv),E(E(Ci,Kv,bv),ni,ii));toBytes=oa(Pi);getBase64FromBytes=Lr;setDataSegment=Ni})();
//#endregion


/*
  Incoming arguments:
    * msg - JSON message payload downlink message json
    * msgType - type of message, for ex. 'ATTRIBUTES_UPDATED', 'POST_TELEMETRY_REQUEST', etc.
    * metadata - list of key-value pairs with additional data about the message
    * integrationMetadata - list of key-value pairs with additional data defined in Integration executing this converter

  Output must be an object with the following fields:
    * contentType - BINARY
    * data - payload in base64
*/

var bytes = toBytes(msg.commands);

// send nothing if not fit in a single data segment
if ( bytes.length > MAX_DATA_SEGMENT_SIZE ) {
    bytes = [];
} else {
    bytes = setDataSegment(bytes);
}

var result = {
    contentType: 'BINARY',
    data: getBase64FromBytes(bytes)
};

return result;
