// IMPORTANT!!!
// This example only for default downlink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// encoded message should be less than this size
// to be able to send to a device
var MAX_DATA_SEGMENT_SIZE = 50;


//#region [autogenerated jooby-codec bundle from index.js]
var toBytes,setDataSegment,getBase64FromBytes;(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function e(t){if(Array.isArray(t))return t}function r(e){if(Array.isArray(e))return t(e)}function a(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function n(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var a,n,i,E,_=[],s=true,o=false;try{if(i=(r=r.call(t)).next,0===e);else for(;!(s=(a=i.call(r)).done)&&(_.push(a.value),_.length!==e);s=!0);}catch(t){o=true,n=t}finally{try{if(!s&&null!=r.return&&(E=r.return(),Object(E)!==E))return}finally{if(o)throw n}}return _}}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t,r){return e(t)||n(t,r)||o(t,r)||i()}function s(t){return r(t)||a(t)||o(t)||E()}function o(e,r){if(e){if("string"==typeof e)return t(e,r);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,r):void 0}}var v={separator:" ",prefix:""};var T=1;var A=2;var R=3;var h=4;var u=Math.log,O=Math.pow,f=Math.LN2;var P=function(t,e,r,a,n){var i,E,_=n*8-a-1,s=(1<<_)-1,o=s>>1,v=-7,T=r?n-1:0,A=r?-1:1,R=t[e+T];T+=A;i=R&(1<<-v)-1;R>>=-v;v+=_;for(;v>0;i=i*256+t[e+T],T+=A,v-=8);E=i&(1<<-v)-1;i>>=-v;v+=a;for(;v>0;E=E*256+t[e+T],T+=A,v-=8);if(i===0){i=1-o}else if(i===s){return E?NaN:R?-Infinity:Infinity}else{E=E+O(2,a);i=i-o}return(R?-1:1)*E*O(2,i-a)};var g=function(t,e,r,a,n,i){var E,_,s,o=i*8-n-1,v=(1<<o)-1,T=v>>1,A=n===23?O(2,-24)-O(2,-77):0,R=a?0:i-1,h=a?1:-1,P=r<0||r===0&&1/r<0?1:0;r<0&&(r=-r);if(r!==r||r===Infinity){_=r!==r?1:0;E=v}else{E=u(r)/f|0;if(r*(s=O(2,-E))<1){E--;s*=2}if(E+T>=1){r+=A/s}else{r+=A*O(2,1-T)}if(r*s>=2){E++;s/=2}if(E+T>=v){_=0;E=v}else if(E+T>=1){_=(r*s-1)*O(2,n);E=E+T}else{_=r*O(2,T-1)*O(2,n);E=0}}for(;n>=8;t[e+R]=_&255,R+=h,_/=256,n-=8);E=E<<n|_;o+=n;for(;o>0;t[e+R]=E&255,R+=h,E/=256,o-=8);t[e+R-h]|=P*128};var d=[1,0];var l=[2,1,0];var U=[3,2,1,0];var I=[0,1];var p=[0,1,2];var N=[0,1,2,3];var M=function(t,e){return t[e]};var c=function(t,e,r){var a=r?I:d;var n=t[e+a[0]];var i=t[e+a[1]]<<8;return n|i};var C=function(t,e,r){var a=r?p:l;var n=t[e+a[0]];var i=t[e+a[1]]<<8;var E=t[e+a[2]]<<16;return n|i|E};var D=function(t,e,r){var a=r?N:U;var n=t[e+a[3]]*16777216;var i=t[e+a[2]]*65536;var E=t[e+a[1]]*256;var _=t[e+a[0]];return n+i+E+_};var S=function(t,e,r){t[e]=r&255};var m=function(t,e,r,a){var n=a?I:d;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255};var y=function(t,e,r,a){var n=a?p:l;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255;t[e+n[2]]=r>>>16&255};var L=function(t,e,r,a){var n=a?N:U;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255;t[e+n[2]]=r>>>16&255;t[e+n[3]]=r>>>24&255};function V(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var r=new Array(t).fill(0);this.data=r}else{this.data=t}this.offset=0;this.isLittleEndian=e}V.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){S(this.data,this.offset,t<0?t|256:t);this.offset+=T},getInt8:function(){var t=M(this.data,this.offset);this.offset+=T;return t&128?t^-256:t},setUint8:function(t){S(this.data,this.offset,t);this.offset+=T},getUint8:function(){var t=M(this.data,this.offset);this.offset+=T;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;m(this.data,this.offset,t<0?t|65536:t,e);this.offset+=A},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=c(this.data,this.offset,t);this.offset+=A;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;m(this.data,this.offset,t,e);this.offset+=A},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=c(this.data,this.offset,t);this.offset+=A;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;y(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=R},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=C(this.data,this.offset,t);this.offset+=R;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;y(this.data,this.offset,t,e);this.offset+=R},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=C(this.data,this.offset,t);this.offset+=R;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=h},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=D(this.data,this.offset,t);this.offset+=h;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t,e);this.offset+=h},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=D(this.data,this.offset,t);this.offset+=h;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;g(this.data,this.offset,t,e,23,4);this.offset+=h},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=P(this.data,this.offset,t,23,4);this.offset+=h;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var r=[];while(this.offset<e){r.push(String.fromCharCode(this.getUint8()))}return r.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var r=this.data;r.splice.apply(r,[e,t.length].concat(s(t)));this.data=r;this.offset=e+t.length}};Object.defineProperties(V.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var F=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=0;for(var a in e){if(a in t&&e[a]){r|=t[a]}}return r};var Y=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r={};for(var a in t){r[a]=(e&t[a])!==0}return r};var x=function(t,e,r){return(1<<e)-1&t>>r-1};var H=function(t,e,r,a){var n=(1<<e)-1<<r-1;var i=a;var E=t;E&=~n;i<<=r-1;E|=i;return E};var X=function(t){var e=t.trim();if(!e){return[]}e=e.replace(/0x/g,"").split(/\s+/).map((function(t){return t.padStart(2,"0")})).join("");if(e.length%2!==0){e="0".concat(e)}var r=e.length/2;var a=new Array(r);for(var n=0;n<r;n++){a[n]=parseInt(e.substring(n*2,n*2+2),16)}return a};var G="x";var W=[".","1","3","R","M"];var B=[".","A","G","R","T","D"];var w=[".","0","1","2","3","4","5"];var K=[".","A","B","C","D","E","F"];var b=[".","A","B","C","D","E","F","H","K","G"];var Q=[".","1","2","3","4"];var Z=[".","L","M","Z","K"];var j=[".","0","1","2","3","4","5","6","7","8","9"];var z=[".","D","B","C","E","P","R","O","L","F","S","M","Y","G","N","U"];var k=[".","0","1","2","3","4","5","6","P","R","L","E","G","-","/"];var q=[".","H","A","T","0","0","0","0","0","1","2","3","4","0","0","0"];var $=[".","0","1","2","3","4","5","6","7","8","I","X","G","W","M","-"];var J={typeMeterG:1<<0,downgradedToA:1<<4,supportMeterInfo:1<<6};var tt={typeMeterTransformer:1<<0,downgradedToR:1<<3,typeMeterG:1<<4,supportMeterInfo:1<<6,reactiveRPlusRMinus:1<<7};var et=function(t){return[t>>4,t&15]};var rt=function(t){var e=new Array(t.length*2).fill(0);t.forEach((function(t,r){var a=et(t),n=_(a,2),i=n[0],E=n[1];e[r*2]=i;e[r*2+1]=E}));return e};var at=function(t){var e=[];t.forEach((function(t){return e.push(t.toString(16))}));if(t.length&1){e.push("0")}return X(e.join(""))};var nt=function(t){if(t.length!==14&&t.length!==16){throw new Error("Device type bytes wrong size")}var e=["MTX "];e.push(W[t[0]]??G);e.push(B[t[1]]??G);e.push(w[t[2]]??G);e.push(w[t[3]]??G);e.push(".");e.push(K[t[4]]??G);e.push(b[t[5]]??G);e.push(".");e.push(Q[t[6]]??G);e.push(Z[t[7]]??G);var r=t[8];e.push(j[t[9]]??G);e.push("-");var a;if(t.length<14||t[12]===0&&t[13]===0){e.push(z[t[10]]??G);a=11}else if(t[13]===0){e.push(z[t[10]]??G);e.push(z[t[11]]??G);a=12}else{e.push(z[t[10]]??G);e.push(z[t[11]]??G);e.push(z[t[12]]??G);a=13}var n=t[a];if(n&&n!==0){e.push(q[n]??G)}return{type:e.join(""),revision:r}};var it=function(t,e,r){var a=[];if(t.length<11){throw new Error("Wrong format")}a.push(W.indexOf(t[0]));a.push(B.indexOf(t[1]));a.push(w.indexOf(t[2]));a.push(w.indexOf(t[3]));if(t[4]!=="."){throw new Error("Wrong format")}a.push(K.indexOf(t[5]));a.push(b.indexOf(t[6]));if(t[7]!=="."){throw new Error("Wrong format")}a.push(Q.indexOf(t[8]));a.push(Z.indexOf(t[9]));a.push(r??0);a.push(j.indexOf(t[10]));if(t[11]!=="-"){throw new Error("Wrong format")}var n=t.length>13?t.length-1:t.length;for(var i=12;i<n;i++){a.push(z.indexOf(t[i]))}if(n<t.length){a.push(q.indexOf(t[n]))}var E=at(a);var _=new Array(9).fill(0);_[0]=0;for(var s=0;s<E.length;s++){_[s+(E.length<8?1:0)]=E[s]}return _};var Et=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=["MTX "];var r=t[1]===5?"-":" ";e.push(W[t[0]]??G);e.push(B[t[1]]??G);e.push(r);for(var a=2;a<t.length;a++){if(t[a]!==0){e.push(k[t[a]]??G)}}return{type:e.join("")}};var _t=function(t){if(t.length<3){throw new Error("Wrong format")}var e=[];e.push(W.indexOf(t[0]));e.push(B.indexOf(t[1]));for(var r=3;r<t.length;r++){e.push(k.indexOf(t[r]))}var a=at(e);if(a.length===8){return a}if(a.length>8){throw new Error("Wrong format")}var n=new Array(8).fill(0);for(var i=0;i<a.length;i++){n[i]=a[i]}return n};var st=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=[];e.push(W[t[0]]??G);for(var r=1;r<t.length;r++){if(t[r]!==0){e.push($[t[r]]??G)}}return{type:e.join("")}};var ot=function(t){if(t.length<1){throw new Error("Wrong format")}var e=[];e.push(W.indexOf(t[0]));for(var r=1;r<t.length;r++){e.push($.indexOf(t[r]))}var a=at(e);var n=new Array(8).fill(0);for(var i=0;i<a.length&&i<8;i++){n[i]=a[i]}return n};var vt=function(t){if(t.length!==9){throw new Error("The buffer is too small")}var e;var r=[0,5,6,7,9,127,239];var a=r.indexOf(t[0])!==-1?2:0;var n=rt(t.slice(0,8));var i=n[a];var E=W[i];if(E==="1"||E==="3"){e={...nt(n.slice(a)),descriptor:E==="1"?{meterType:"mtx1",...Y(J,t[8])}:{meterType:"mtx3",...Y(tt,t[8])}}}else{e=E==="M"?st(n):Et(n)}return e};var Tt=function(t,e){var r=t.type,a=t.revision,n=t.descriptor;if(!r.startsWith("MTX ")){throw new Error("Wrong format")}var i;var E=r.substring(4);var _=r[4];if(_==="1"||_==="3"){i=it(E,e,a)}else{i=_==="M"?ot(E):_t(E)}if(n?.meterType){i[8]=n.meterType==="mtx1"?F(J,n):F(tt,n)}else{i[8]=0}return i};var At=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=Object.assign({},v,e),a=r.separator,n=r.prefix;return t.map((function(t){return"".concat(n).concat(t.toString(16).padStart(2,"0"))})).join(a)};var Rt=80;var ht=81;var ut=82;var Ot=83;var ft=84;var Pt=85;var gt=86;var dt=87;var lt=88;var Ut=89;var It=90;var pt=91;var Nt=255;var Mt=Object.freeze({__proto__:null,DATA_REQUEST:Rt,DATA_RESPONSE:ht,FRAGMENT_REQUEST:It,FRAGMENT_RESPONSE:pt,IDENT_REQUEST:ut,IDENT_RESPONSE:Ot,INVALID:Nt,L2_CHECK_ADDRESS_REQUEST:gt,L2_CHECK_ADDRESS_RESPONSE:dt,L2_RM_ADDRESS_REQUEST:lt,L2_RM_ADDRESS_RESPONSE:Ut,L2_SET_ADDRESS_REQUEST:ft,L2_SET_ADDRESS_RESPONSE:Pt});var ct=function(t){var e={};for(var r in t){var a=t[r];e[a]=r}return e};var Ct=ct(Mt);var Dt=1;var St=2;var mt=3;var yt=16;var Lt=17;var Vt=18;var Ft=19;var Yt=20;var xt=21;var Ht=32;var Xt=33;var Gt=34;var Wt=35;var Bt=36;var wt=37;var Kt=38;var bt=39;var Qt=40;var Zt=41;var jt=49;var zt=50;var kt=51;var qt=52;var $t=53;var Jt=54;var te=55;var ee=56;var re=57;var ae=64;var ne=65;var ie=66;var Ee=67;var _e=68;var se=69;var oe=70;var ve=71;var Te=72;var Ae=73;var Re=74;var he=75;var ue=76;var Oe=77;var fe=78;var Pe=79;var ge=80;var de=81;var le=82;var Ue=83;var Ie=84;var pe=85;var Ne=86;var Me=87;var ce=88;var Ce=89;var De=96;var Se=97;var me=98;var ye=99;var Le=100;var Ve=101;var Fe=102;var Ye=103;var xe=104;var He=105;var Xe=112;var Ge=113;var We=114;var Be=115;var we=116;var Ke=117;var be=118;var Qe=119;var Ze=120;var je=121;var ze=122;var ke=123;var qe=124;var $e=125;var Je=144;var tr=145;var er=147;var rr=148;var ar=156;var nr=157;var ir=158;var Er=159;var _r=160;var sr=161;var or=162;var vr=176;var Tr=177;var Ar=178;var Rr=179;var hr=180;var ur=181;var Or=182;var fr=183;var Pr=208;var gr=224;var dr=225;var lr=226;var Ur=227;var Ir=228;var pr=229;var Nr=230;var Mr=Object.freeze({__proto__:null,ACCESS_CLOSED:yt,ACCPARAM_BAD:We,ACCPARAM_EXT_BAD:Be,BAD_TEST_EEPROM:xe,BAD_TEST_FRAM:He,BAT_FAULT:Ue,BAT_OK:le,BIPOLAR_POWER_FAULT:hr,BIPOLAR_POWER_OK:ur,BLOCK_TARIFF_BAD:Ke,CALC_PERIOD_BAD:we,CALFLAG_RESET:Ye,CALFLAG_SET:Fe,CALIBR_PARAM_BAD:be,CAL_FAULT:pe,CAL_OK:Ie,CASE_CLOSE:Ft,CASE_MODULE_CLOSE:$e,CASE_MODULE_OPEN:qe,CASE_OPEN:Vt,CASE_TERMINAL_CLOSE:ke,CASE_TERMINAL_OPEN:ze,CHANGE_ACCESS_KEY0:Ht,CHANGE_ACCESS_KEY1:Xt,CHANGE_ACCESS_KEY2:Gt,CHANGE_ACCESS_KEY3:Wt,CHANGE_COR_TIME:Zt,CHANGE_PAR_LOCAL:Bt,CHANGE_PAR_REMOTE:wt,CHANGE_TARIFF_TBL:zt,CLOCK_FAULT:Me,CLOCK_OK:Ne,CMD_CHANGE_TIME:Kt,CMD_RELAY_2_OFF:Se,CMD_RELAY_2_ON:De,CMD_RELAY_OFF:Qt,CMD_RELAY_ON:bt,CROSSZERO_ENT1:me,CROSSZERO_ENT2:ye,CROSSZERO_ENT3:Le,CROSSZERO_ENT4:Ve,CROSSZERO_EXP_ENT1:ir,CROSSZERO_EXP_ENT2:Er,CROSSZERO_EXP_ENT3:_r,CROSSZERO_EXP_ENT4:sr,CURRENT_UNEQUIL_FAULT:Ar,CURRENT_UNEQUIL_OK:Rr,EM_MAGNETIC_OFF:Tr,EM_MAGNETIC_ON:vr,ENERGY_REG_FAULT:Dt,ENERGY_REG_OVERFLOW:jt,ERR_ACCESS:Lt,F_MAX_OK:Te,F_MAX_OVER:Ae,F_MIN_OK:Re,F_MIN_OVER:he,I_MAX_OK:ue,I_MAX_OVER:Oe,MAGNETIC_OFF:xt,MAGNETIC_ON:Yt,NVRAM_FAULT:Pr,OP_PAR_FAULT:mt,POWERSALDO_OK:ge,POWERSALDO_OVER:de,POWER_A_OFF:ce,POWER_A_ON:Ce,POWER_OVER_RELAY_OFF:nr,P_MAX_OK:fe,P_MAX_OVER:Pe,RELAY_HARD_BAD_OFF:Je,RELAY_HARD_BAD_ON:er,RELAY_HARD_OFF:rr,RELAY_HARD_ON:tr,RELAY_OFF:te,RELAY_ON:Jt,RESET_EM_FLAG:Or,RESET_MAGN_FLAG:fr,RESTART:ee,SALDO_EN_BAD:Ze,SALDO_PARAM_BAD:Ge,SET_DEMAND_EN_10MIN:Ur,SET_DEMAND_EN_15MIN:Ir,SET_DEMAND_EN_1MIN:gr,SET_DEMAND_EN_30MIN:pr,SET_DEMAND_EN_3MIN:dr,SET_DEMAND_EN_5MIN:lr,SET_DEMAND_EN_60MIN:Nr,SET_NEW_SALDO:Xe,SET_SALDO_PARAM:ar,SET_TARIFF_TBL:kt,SUMMER_TIME:qt,TIME_CORRECT:je,TIME_CORRECT_NEW:or,T_MAX_OK:_e,T_MAX_OVER:se,T_MIN_OK:oe,T_MIN_OVER:ve,VENDOR_PAR_FAULT:St,V_MAX_OK:ae,V_MAX_OVER:ne,V_MIN_OK:ie,V_MIN_OVER:Ee,WD_RESTART:re,WINTER_SUMMER_BAD:Qe,WINTER_TIME:$t});var cr=ct(Mr);var Cr={type:Rt,destination:65535,source:65534};var Dr=11;var Sr=7;var mr=2+Sr;var yr=4;var Lr={SET_ALL_SEGMENT_DISPLAY:1,SOFTWARE_VERSION:2,TOTAL_ACTIVE_ENERGY:4,ACTIVE_ENERGY_T1:8,ACTIVE_ENERGY_T2:16,ACTIVE_ENERGY_T3:32,ACTIVE_ENERGY_T4:64,ACTIVE_POWER_PER_PHASE:128,ACTIVE_POWER_IN_NEUTRAL:256,CURRENT_IN_PHASE:512,CURRENT_IN_NEUTRAL:1024,VOLTAGE:2048,HOUR_MINUTE_SECOND:4096,DATE_MONTH_YEAR:8192,TOTAL_EXPORTED_ACTIVE_ENERGY:16384,EXPORTED_ACTIVE_ENERGY_T1:32768,EXPORTED_ACTIVE_ENERGY_T2:65536,EXPORTED_ACTIVE_ENERGY_T3:131072,EXPORTED_ACTIVE_ENERGY_T4:262144,POWER_COEFFICIENT_PHASE_A:524288,POWER_COEFFICIENT_PHASE_B:1048576,BATTERY_VOLTAGE:2097152,POWER_THRESHOLD_T1:4194304,POWER_THRESHOLD_T2:8388608,POWER_THRESHOLD_T3:16777216,POWER_THRESHOLD_T4:33554432,CURRENT_BALANCE:536870912};var Vr={...Lr,AUTO_SCREEN_SCROLLING:2147483648};var Fr={...Lr,MAGNET_INDUCTION:134217728,OPTOPORT_SPEED:1073741824,SORT_DISPLAY_SCREENS:2147483648};var Yr={RELAY_ON_Y:1,RELAY_ON_CENTER:2,RELAY_ON_PB:4,RELAY_ON_TARIFF_1:8,RELAY_ON_TARIFF_2:16,RELAY_ON_TARIFF_3:32,RELAY_ON_TARIFF_4:64,RELAY_ON_V_GOOD:128};var xr={RELAY_OFF_Y:1,RELAY_OFF_CENTER:2,RELAY_OFF_TARIFF_1:4,RELAY_OFF_TARIFF_2:8,RELAY_OFF_TARIFF_3:16,RELAY_OFF_TARIFF_4:32,RELAY_OFF_I_LIMIT:64,RELAY_OFF_V_BAD:128};var Hr={RELAY_OFF_LIM_TARIFF_1:2,RELAY_OFF_LIM_TARIFF_2:4,RELAY_OFF_LIM_TARIFF_3:8,RELAY_OFF_LIM_TARIFF_4:16,RELAY_OFF_PF_MIN:32};var Xr={RELAY_ON_TIMEOUT:1,RELAY_ON_SALDO:2,RELAY_OFF_SALDO:4,RELAY_OFF_SALDO_SOFT:8,RELAY_OFF_MAGNET:16,RELAY_ON_MAGNET_TIMEOUT:32,RELAY_ON_MAGNET_AUTO:64};var Gr={RELAY_OFF_UNEQUAL_CURRENT:1,RELAY_ON_UNEQUAL_CURRENT:2,RELAY_OFF_BIPOLAR_POWER:4,RELAY_ON_BIPOLAR_POWER:8};var Wr={BLOCK_KEY_OPTOPORT:2,MAGNET_SCREEN_CONST:32};var Br={CASE_OPEN:2**0,MAGNETIC_ON:2**1,PARAMETERS_UPDATE_REMOTE:2**2,PARAMETERS_UPDATE_LOCAL:2**3,RESTART:2**4,ERROR_ACCESS:2**5,TIME_SET:2**6,TIME_CORRECT:2**7,DEVICE_FAILURE:2**8,CASE_TERMINAL_OPEN:2**9,CASE_MODULE_OPEN:2**10,TARIFF_TABLE_SET:2**11,TARIFF_TABLE_GET:2**12,PROTECTION_RESET_EM:2**13,PROTECTION_RESET_MAGNETIC:2**14};var wr={RELAY_STATE:2**0,RELAY_UBAD:2**1,RELAY_UNEQ_CURRENT:2**4,RELAY_OFF_CENTER:2**5,RELAY_IMAX:2**6,RELAY_PMAX:2**7};var Kr={RELAY_COSFI:2**0,RELAY_SALDO_OFF_FLAG:2**1,RELAY_UNEQUIL_CURRENT_OFF:2**2,RELAY_BIPOLAR_POWER_OFF:2**3,RELAY_SALDO_OFF_ON_MAX_POWER:2**4,RELAY_HARD_ST1:2**5};var br={MAXVA:2**0,MINVA:2**1,MAXT:2**2,MINT:2**3,MAXF:2**4,MINF:2**5,MAXIA:2**6,MAXP:2**7};var Qr={MAX_POWER_SALDO:2**0,BATTERY_VBAT_BAD:2**1,CLOCK_UNSET:2**3,MIN_COS_FI:2**5};var Zr={UNEQUIL_CURRENT:2**0,BIPOLAR_POWER:2**1,POWER_A_NEGATIVE:2**6,POWER_B_NEGATIVE:2**7};var jr={RELAY_OFF_LIMIT_P_MINUS_T1:8,RELAY_OFF_LIMIT_P_MINUS_T2:16,RELAY_OFF_LIMIT_P_MINUS_T3:32,RELAY_OFF_LIMIT_P_MINUS_T4:64};function zr(t,e,r){var a=r>>yr;var n=new Array(yr).fill(0);n.forEach((function(e,r){var i=!!x(a,1,r+1);if(i){n[r]=t.getUint32()}else{n[r]=null}}));return n}function kr(t,e,r){var a=1+yr;var n=e;r.forEach((function(t,e){n=H(n,1,e+a,Number(!!t))}));t.setUint8(n)}function qr(t){if(t===65535){return{tariff:undefined,energy:undefined}}return{tariff:t>>14&3,energy:t&16383}}function $r(t,e){var r=e.tariff,a=e.energy;if(r!==undefined&&a!==undefined){t.setUint16(r<<14|a&16383)}else{t.setUint16(65535)}}function Jr(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;V.call(this,t,e)}Jr.prototype=Object.create(V.prototype);Jr.prototype.constructor=Jr;Jr.getDayProfileFromByte=function(t){return{tariff:x(t,2,1),isFirstHalfHour:!x(t,1,3),hour:x(t,5,4)}};Jr.getByteFromDayProfile=function(t){var e=0;e=H(e,2,1,t.tariff);e=H(e,1,3,+!t.isFirstHalfHour);e=H(e,5,4,t.hour);return e};Jr.getDefaultSeasonProfile=function(){return{month:1,date:1,dayIndexes:[0,0,0,0,0,0,0]}};Jr.getDefaultOperatorParameters=function(){return{vpThreshold:265e3,vThreshold:156e3,ipThreshold:12e4,pmaxThreshold0:31800,pmaxThreshold1:31800,pmaxThreshold2:31800,pmaxThreshold3:31800,speedOptoPort:0,tint:30,calcPeriodDate:1,timeoutDisplay:127,timeoutScreen:7,displaySet:Y(Vr,2147496324),relaySet4:Y(Xr,0),relaySet3:Y(Hr,0),relaySet2:Y(xr,3),relaySet1:Y(Yr,3),displayType:0,ten:0,timeoutRefresh:240,deltaCorMin:15,timeoutMagnetOff:5,timeoutMagnetOn:5,define1:Y(Wr,0),timeoutRelayOn:1,timeoutRelayKey:0,timeoutRelayAuto:5,timeoutBadVAVB:5,freqMax:55,freqMin:45,phMin:0,year:0,month:0,date:0,energyDecimalPoint:2,typeMeter:0,timeoutIMax:5,timeoutPMax:5,timeoutCos:5,pMaxDef:1,displaySetExt:Y(Fr,137904127),timeoutUneqCurrent:5,timeoutBipolarPower:5,relaySet5:Y(Gr,0),timeCorrectPeriod:24,timeCorrectPassHalfhour:false}};Jr.getDefaultOperatorParametersExtended3=function(){return{pmaxMinusThreshold0:0,pmaxMinusThreshold1:0,pmaxMinusThreshold2:0,pmaxMinusThreshold3:0,relaySet:Y(jr,0)}};Jr.prototype.getFrameHeader=function(){var t=this.getUint8();var e=Ct[t];var r=this.getUint16();var a=this.getUint16();return{type:t,typeName:e,destination:r,source:a}};Jr.prototype.setFrameHeader=function(t){var e=t.type,r=e===void 0?Cr.type:e,a=t.destination,n=a===void 0?Cr.destination:a,i=t.source,E=i===void 0?Cr.source:i;this.setUint8(r);this.setUint16(n);this.setUint16(E)};Jr.prototype.getDeviceId=function(){var t=At(this.getBytes(3),{separator:""});var e=this.getUint8();var r=this.getUint8();var a=At(this.getBytes(3),{separator:""});return{manufacturer:t,type:e,year:r,serial:a}};Jr.prototype.setDeviceId=function(t){var e=t.manufacturer,r=t.type,a=t.year,n=t.serial;this.setBytes(X(e));this.setUint8(r);this.setUint8(a);this.setBytes(X(n))};Jr.prototype.getDateTime=function(){return{isSummerTime:!!this.getUint8(),seconds:this.getUint8(),minutes:this.getUint8(),hours:this.getUint8(),day:this.getUint8(),date:this.getUint8(),month:this.getUint8(),year:this.getUint8()}};Jr.prototype.setDateTime=function(t){this.setUint8(t.isSummerTime?1:0);this.setUint8(t.seconds);this.setUint8(t.minutes);this.setUint8(t.hours);this.setUint8(t.day||0);this.setUint8(t.date);this.setUint8(t.month);this.setUint8(t.year)};Jr.prototype.getTariffPlan=function(){return{id:this.getUint32(),tariffSet:this.getUint8(),activateYear:this.getUint8(),activateMonth:this.getUint8(),activateDay:this.getUint8(),specialProfilesArraySize:this.getUint8(),seasonProfilesArraySize:this.getUint8(),dayProfilesArraySize:this.getUint8()}};Jr.prototype.setTariffPlan=function(t){this.setUint32(t.id);this.setUint8(t.tariffSet);this.setUint8(t.activateYear);this.setUint8(t.activateMonth);this.setUint8(t.activateDay);this.setUint8(t.specialProfilesArraySize);this.setUint8(t.seasonProfilesArraySize);this.setUint8(t.dayProfilesArraySize)};Jr.prototype.getTimeCorrectionParameters=function(){return{monthTransitionSummer:this.getUint8(),dateTransitionSummer:this.getUint8(),hoursTransitionSummer:this.getUint8(),hoursCorrectSummer:this.getUint8(),monthTransitionWinter:this.getUint8(),dateTransitionWinter:this.getUint8(),hoursTransitionWinter:this.getUint8(),hoursCorrectWinter:this.getUint8(),isCorrectionNeeded:this.getUint8()===1}};Jr.prototype.setTimeCorrectionParameters=function(t){this.setUint8(t.monthTransitionSummer);this.setUint8(t.dateTransitionSummer);this.setUint8(t.hoursTransitionSummer);this.setUint8(t.hoursCorrectSummer);this.setUint8(t.monthTransitionWinter);this.setUint8(t.dateTransitionWinter);this.setUint8(t.hoursTransitionWinter);this.setUint8(t.hoursCorrectWinter);this.setUint8(+t.isCorrectionNeeded)};Jr.prototype.getDayProfile=function(){return Jr.getDayProfileFromByte(this.getUint8())};Jr.prototype.setDayProfile=function(t){this.setUint8(Jr.getByteFromDayProfile(t))};Jr.prototype.getSeasonProfile=function(){var t=this;return{month:this.getUint8(),date:this.getUint8(),dayIndexes:new Array(Sr).fill(0).map((function(){return t.getUint8()}))}};Jr.prototype.setSeasonProfile=function(t){var e=this;this.setUint8(t.month);this.setUint8(t.date);t.dayIndexes.forEach((function(t){return e.setUint8(t)}))};Jr.prototype.getSpecialDay=function(){return{month:this.getUint8(),date:this.getUint8(),dayIndex:this.getUint8(),isPeriodic:this.getUint8()===0}};Jr.prototype.setSpecialDay=function(t){this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.dayIndex);this.setUint8(+!t.isPeriodic)};Jr.prototype.getDeviceType=function(){return vt(this.getBytes(9))};Jr.prototype.setDeviceType=function(t){this.setBytes(Tt(t))};Jr.prototype.getOperatorParameters=function(){var t={vpThreshold:this.getUint32(),vThreshold:this.getUint32(),ipThreshold:this.getUint32(),pmaxThreshold0:this.getUint32(),pmaxThreshold1:this.getUint32(),pmaxThreshold2:this.getUint32(),pmaxThreshold3:this.getUint32(),speedOptoPort:this.getUint8(),tint:this.getUint8(),calcPeriodDate:this.getUint8(),timeoutDisplay:this.getUint8(),timeoutScreen:this.getUint8(),displaySet:Y(Vr,this.getUint32()),relaySet4:Y(Xr,this.getUint8()),relaySet3:Y(Hr,this.getUint8()),relaySet2:Y(xr,this.getUint8()),relaySet1:Y(Yr,this.getUint8()),displayType:this.getUint8(),ten:this.getUint8(),timeoutRefresh:this.getUint16(),deltaCorMin:this.getUint8(),timeoutMagnetOff:this.getUint8(),timeoutMagnetOn:this.getUint8(),define1:Y(Wr,this.getUint8()),timeoutRelayOn:this.getUint8(),timeoutRelayKey:this.getUint8(),timeoutRelayAuto:this.getUint8(),timeoutBadVAVB:this.getUint8(),freqMax:this.getUint8(),freqMin:this.getUint8(),phMin:this.getUint16(),year:this.getUint8(),month:this.getUint8(),date:this.getUint8(),energyDecimalPoint:this.getUint8(),typeMeter:this.getUint8(),timeoutIMax:this.getUint8(),timeoutPMax:this.getUint8(),timeoutCos:this.getUint8(),pMaxDef:this.getUint8(),displaySetExt:Y(Fr,this.getUint32()),timeoutUneqCurrent:this.getUint8(),timeoutBipolarPower:this.getUint8(),relaySet5:Y(Gr,this.getUint8()),timeCorrectPeriod:0,timeCorrectPassHalfhour:false};var e=this.getUint8();t.timeCorrectPeriod=e&127;t.timeCorrectPassHalfhour=!!(e&128);return t};Jr.prototype.setOperatorParameters=function(t){var e=t.timeCorrectPeriod|(t.timeCorrectPassHalfhour?128:0);this.setUint32(t.vpThreshold);this.setUint32(t.vThreshold);this.setUint32(t.ipThreshold);this.setUint32(t.pmaxThreshold0);this.setUint32(t.pmaxThreshold1);this.setUint32(t.pmaxThreshold2);this.setUint32(t.pmaxThreshold3);this.setUint8(t.speedOptoPort);this.setUint8(t.tint);this.setUint8(t.calcPeriodDate);this.setUint8(t.timeoutDisplay);this.setUint8(t.timeoutScreen);this.setUint32(F(Vr,t.displaySet));this.setUint8(F(Xr,t.relaySet4));this.setUint8(F(Hr,t.relaySet3));this.setUint8(F(xr,t.relaySet2));this.setUint8(F(Yr,t.relaySet1));this.setUint8(t.displayType);this.setUint8(t.ten);this.setUint16(t.timeoutRefresh);this.setUint8(t.deltaCorMin);this.setUint8(t.timeoutMagnetOff);this.setUint8(t.timeoutMagnetOn);this.setUint8(F(Wr,t.define1));this.setUint8(t.timeoutRelayOn);this.setUint8(t.timeoutRelayKey);this.setUint8(t.timeoutRelayAuto);this.setUint8(t.timeoutBadVAVB);this.setUint8(t.freqMax);this.setUint8(t.freqMin);this.setUint16(t.phMin);this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.energyDecimalPoint);this.setUint8(t.typeMeter);this.setUint8(t.timeoutIMax);this.setUint8(t.timeoutPMax);this.setUint8(t.timeoutCos);this.setUint8(t.pMaxDef);this.setUint32(F(Fr,t.displaySetExt));this.setUint8(t.timeoutUneqCurrent);this.setUint8(t.timeoutBipolarPower);this.setUint8(F(Gr,t.relaySet5));this.setUint8(e)};Jr.prototype.getPackedEnergyWithType=function(){var t=this.getUint8();var e=x(t,yr,1);var r=zr(this,e,t);return{energyType:e,energies:r}};Jr.prototype.setPackedEnergyWithType=function(t){var e=this;var r=t.energyType,a=t.energies;if(r){kr(this,r,a)}a.forEach((function(t){if(t!==null){e.setUint32(t)}}))};Jr.prototype.getEnergies=function(){var t=this;return new Array(yr).fill(0).map((function(){return t.getInt32()}))};Jr.prototype.setEnergies=function(t){var e=this;t.forEach((function(t){return e.setUint32(t)}))};Jr.prototype.getDate=function(){return{year:this.getUint8(),month:this.getUint8(),date:this.getUint8()}};Jr.prototype.setDate=function(t){this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date)};Jr.prototype.getSaldoParameters=function(){var t=this;return{coefficients:new Array(4).fill(0).map((function(){return t.getUint32()})),decimalPointTariff:this.getUint8(),indicationThreshold:this.getInt32(),relayThreshold:this.getInt32(),mode:this.getUint8(),saldoOffTimeBegin:this.getUint8(),saldoOffTimeEnd:this.getUint8(),decimalPointIndication:this.getUint8(),powerThreshold:this.getUint32(),creditThreshold:this.getInt32()}};Jr.prototype.setSaldoParameters=function(t){var e=this;t.coefficients.forEach((function(t){return e.setUint32(t)}));this.setUint8(t.decimalPointTariff);this.setInt32(t.indicationThreshold);this.setInt32(t.relayThreshold);this.setUint8(t.mode);this.setUint8(t.saldoOffTimeBegin);this.setUint8(t.saldoOffTimeEnd);this.setUint8(t.decimalPointIndication);this.setUint32(t.powerThreshold);this.setInt32(t.creditThreshold)};Jr.prototype.getEnergyPeriods=function(t){var e=this;var r=new Array(t).fill(0).map((function(){return e.getUint16()}));return r.map((function(t){return qr(t)}))};Jr.prototype.setEnergyPeriods=function(t){var e=this;t.forEach((function(t){return $r(e,t)}))};Jr.prototype.getEventStatus=function(){var t=this.getUint16();return Y(Br,t)};Jr.prototype.setEventStatus=function(t){this.setUint16(F(Br,t))};Jr.prototype.getExtendedCurrentValues2=function(){var t=this.getUint16();var e=Y(wr,this.getUint8());var r=Y(Kr,this.getUint8());var a=Y(br,this.getUint8());var n=Y(Qr,this.getUint8());var i=Y(Zr,this.getUint8());return{uBattery:t,relayStatus:e,relayStatus2:r,status1:a,status2:n,status3:i}};Jr.prototype.setExtendedCurrentValues2=function(t){var e=t.uBattery,r=t.relayStatus,a=t.relayStatus2,n=t.status1,i=t.status2,E=t.status3;this.setUint16(e);this.setUint8(F(wr,r));this.setUint8(F(Kr,a));this.setUint8(F(br,n));this.setUint8(F(Qr,i));this.setUint8(F(Zr,E))};Jr.prototype.getEvent=function(){var t={hours:this.getUint8(),minutes:this.getUint8(),seconds:this.getUint8(),event:this.getUint8()};var e=t.event;var r=this.bytesLeft;t.eventName=cr[e];switch(e){case nr:if(r<4){return t}t.power=[this.getUint8(),this.getUint8(),this.getUint8(),this.getUint8()];break;case Kt:case je:if(r<8){return t}t.newDate=this.getDateTime();break}return t};Jr.prototype.setEvent=function(t){this.setUint8(t.hours);this.setUint8(t.minutes);this.setUint8(t.seconds);this.setUint8(t.event);switch(t.event){case nr:for(var e of t.power){this.setUint8(e)}break;case Kt:case je:this.setDateTime(t.newDate);break}};Jr.prototype.getDemand=function(){var t=this.getUint8();var e=this.getUint8();return{date:{year:t>>1,month:t<<3&15|e>>5,date:e&31},energyType:this.getUint8(),firstIndex:this.getUint16(),count:this.getUint8(),period:this.getUint8()}};Jr.prototype.setDemand=function(t){var e=t.date.year<<1|t.date.month>>3&1;var r=t.date.month<<5&224|t.date.date&31;this.setUint8(e);this.setUint8(r);this.setUint8(t.energyType);this.setUint16(t.firstIndex);this.setUint8(t.count);this.setUint8(t.period)};Jr.prototype.getDayMaxDemandResponse=function(){var t=this;var e=this.getDate();var r=new Array(yr).fill(0).map((function(){return{hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}));return{date:e,power:r}};Jr.prototype.setDayMaxDemandResponse=function(t){var e=this;this.setDate(t.date);t.power.forEach((function(t){e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};Jr.prototype.getOperatorParametersExtended3=function(){return{pmaxMinusThreshold0:this.getUint32(),pmaxMinusThreshold1:this.getUint32(),pmaxMinusThreshold2:this.getUint32(),pmaxMinusThreshold3:this.getUint32(),relaySet:Y(jr,this.getUint8())}};Jr.prototype.setOperatorParametersExtended3=function(t){var e=t.pmaxMinusThreshold0,r=t.pmaxMinusThreshold1,a=t.pmaxMinusThreshold2,n=t.pmaxMinusThreshold3,i=t.relaySet;this.setUint32(e);this.setUint32(r);this.setUint32(a);this.setUint32(n);this.setUint8(F(jr,i))};Jr.prototype.getMonthMaxPowerByTariffs=function(){var t=this;return new Array(yr).fill(0).map((function(){return{date:t.getUint8(),hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}))};Jr.prototype.setMonthMaxPowerByTariffs=function(t){var e=this;t.forEach((function(t){e.setUint8(t.date);e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};var ta=function(t){return btoa(t.map((function(t){return String.fromCharCode(t)})).join(""))};var ea=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return[t,e.length].concat(s(e))};var ra=0;var aa=3;var na=1;var ia=3;var Ea=4;var _a=5;var sa=7;var oa=8;var va=9;var Ta=13;var Aa=15;var Ra=16;var ha=17;var ua=18;var Oa=19;var fa=20;var Pa=21;var ga=22;var da=23;var la=24;var Ua=25;var Ia=28;var pa=30;var Na=31;var Ma=40;var ca=41;var Ca=42;var Da=44;var Sa=45;var ma=46;var ya=47;var La=49;var Va=50;var Fa=51;var Ya=52;var xa=53;var Ha=54;var Xa=57;var Ga=58;var Wa=59;var Ba=60;var wa=61;var Ka=62;var ba=65;var Qa=70;var Za=74;var ja=75;var za=79;var ka=80;var qa=82;var $a=83;var Ja=88;var tn=89;var en=91;var rn=92;var an=93;var nn=94;var En=100;var _n=109;var sn=111;var on=112;var vn=113;var Tn=114;var An=118;var Rn=122;var hn=Object.freeze({__proto__:null,activateRatePlan:Oa,getBuildVersion:on,getCorrectTime:Ka,getCriticalEvent:ba,getCurrentStatusMeter:Xa,getCurrentValues:Ta,getDateTime:sa,getDayDemand:ga,getDayDemandExport:za,getDayMaxDemand:La,getDayMaxDemandExport:Ja,getDayMaxDemandPrevious:Za,getDayProfile:Wa,getDemand:An,getDeviceId:_a,getDeviceType:Ea,getDisplayParam:nn,getEnergy:Aa,getEnergyDayPrevious:ia,getEnergyExport:en,getEnergyExportDayPrevious:ka,getEventStatus:na,getEvents:Fa,getEventsCounters:Ya,getExtendedCurrentValues:Ga,getExtendedCurrentValues2:Sa,getHalfHourDemand:Pa,getHalfHourDemandExport:$a,getHalfHourDemandPrevious:ja,getHalfhoursEnergies:sn,getMagneticFieldThreshold:_n,getMeterInfo:Rn,getMonthDemand:da,getMonthDemandExport:qa,getMonthMaxDemand:Va,getMonthMaxDemandExport:tn,getOperatorParameters:pa,getOperatorParametersExtended3:vn,getRatePlanInfo:Da,getSaldo:ca,getSaldoParameters:ma,getSeasonProfile:Ba,getSpecialDay:wa,getVersion:Ma,prepareRatePlan:fa,resetPowerMaxDay:xa,resetPowerMaxMonth:Ha,runTariffPlan:Qa,setAccessKey:va,setCorrectDateTime:rn,setCorrectTime:Ia,setDateTime:oa,setDayProfile:Ra,setDisplayParam:an,setOperatorParameters:Na,setOperatorParametersExtended3:Tn,setSaldo:Ca,setSaldoParameters:ya,setSeasonProfile:ha,setSpecialDay:ua,setSpecialOperation:En,turnRelayOff:Ua,turnRelayOn:la});ct(hn);var un=Oa;var On=1+Dr;var fn=function(t){var e=new Jr(On);e.setUint8(t.tariffTable);e.setTariffPlan(t.tariffPlan);return ea(un,e.data)};var Pn=on;var gn=function(){return ea(Pn)};var dn=Ka;var ln=function(){return ea(dn)};var Un=0;var In=1;var pn=2;var Nn=3;var Mn=4;var cn=5;var Cn=6;var Dn=7;var Sn=8;var mn=9;var yn=10;var Ln=11;var Vn=12;var Fn=13;var Yn=14;var xn=Object.freeze({__proto__:null,CASE_MODULE_OPEN:yn,CASE_OPEN:Un,CASE_TERMINAL_OPEN:mn,DEVICE_FAILURE:Sn,ERROR_ACCESS:cn,MAGNETIC_ON:In,PARAMETERS_UPDATE_LOCAL:Nn,PARAMETERS_UPDATE_REMOTE:pn,PROTECTION_RESET_EM:Fn,PROTECTION_RESET_MAGNETIC:Yn,RESTART:Mn,TARIFF_TABLE_GET:Vn,TARIFF_TABLE_SET:Ln,TIME_CORRECT:Dn,TIME_SET:Cn});ct(xn);var Hn=Xa;var Xn=function(){return ea(Hn)};var Gn=Ta;var Wn=function(){return ea(Gn)};var Bn=sa;var wn=function(){return ea(Bn)};var Kn=La;var bn=3;var Qn=function(t){var e=new Jr(bn);e.setDate(t.date);return ea(Kn,e.data)};var Zn=Ja;var jn=3;var zn=function(t){var e=new Jr(jn);e.setDate(t.date);return ea(Zn,e.data)};var kn=Wa;var qn=3;var $n=function(t){var e=new Jr(qn);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setUint8(t.isActive?0:1);return ea(kn,e.data)};var Jn=_a;var ti=function(){return ea(Jn)};var ei=Ea;var ri=function(){return ea(ei)};var ai=0;var ni=128;var ii=129;var Ei=130;var _i=131;var si=132;var oi=133;var vi=134;var Ti=135;var Ai=136;var Ri=137;var hi=144;var ui=145;var Oi=146;var fi=147;var Pi=149;var gi=151;var di=152;var li=153;var Ui=154;var Ii=155;var pi=156;var Ni=159;var Mi=160;var ci=240;var Ci=Object.freeze({__proto__:null,ACCESS_DENIED:fi,BAD_ARRAY_INDEX:vi,BAD_BLOCK_NUMBER:pi,BAD_DATA_LENGTH:oi,BAD_MESSAGE:si,BAD_RATE_PLAN_ID:Ai,BAD_RATE_PLAN_SIZE:Ri,BAD_RESPONSE_LENGTH:hi,BAD_SALDO_WRITE:Pi,BLOCKED_METER:gi,CALIBRATION_DISABLED:Oi,DECRYPTION_FAILURE:Ei,INTERNAL:ci,INVALID_CORRECTION_INTERVAL:Ui,NOT_ALIGNED_DATA:ii,NOT_PREPARED_RATE_PLAN:Ti,NO_DATA_FOR_DATE:ui,OK:ai,OUT_OFF_RANGE:Ni,SET_METER_TYPE_FAILURE:Mi,TIME_CORRECTION_FAILURE:li,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:Ii,UNENCRYPTED_COMMAND_DISABLED:di,UNKNOWN_COMMAND:ni,UNKNOWN_PROTOCOL:_i});ct(Ci);var Di=1;var Si=2;var mi=3;var yi=4;var Li=5;var Vi=6;var Fi=7;var Yi=8;var xi=9;var Hi=10;var Xi=11;var Gi=12;var Wi=13;var Bi=14;var wi=15;var Ki=16;var bi=17;var Qi=18;var Zi=19;var ji=20;var zi=21;var ki=22;var qi=23;var $i=24;var Ji=25;var tE=26;var eE=28;var rE=30;var aE=31;var nE=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:yi,ACTIVE_ENERGY_T2:Li,ACTIVE_ENERGY_T3:Vi,ACTIVE_ENERGY_T4:Fi,ACTIVE_POWER_IN_NEUTRAL:xi,ACTIVE_POWER_PER_PHASE:Yi,BATTERY_VOLTAGE:ki,CURRENT_BALANCE:rE,CURRENT_IN_NEUTRAL:Xi,CURRENT_IN_PHASE:Hi,DATE_MONTH_YEAR:Bi,EXPORTED_ACTIVE_ENERGY_T1:Ki,EXPORTED_ACTIVE_ENERGY_T2:bi,EXPORTED_ACTIVE_ENERGY_T3:Qi,EXPORTED_ACTIVE_ENERGY_T4:Zi,HOUR_MINUTE_SECOND:Wi,MAGNET_INDUCTION:eE,OPTOPORT_SPEED:aE,POWER_COEFFICIENT_PHASE_A:ji,POWER_COEFFICIENT_PHASE_B:zi,POWER_THRESHOLD_T1:qi,POWER_THRESHOLD_T2:$i,POWER_THRESHOLD_T3:Ji,POWER_THRESHOLD_T4:tE,SET_ALL_SEGMENT_DISPLAY:Di,SOFTWARE_VERSION:Si,TOTAL_ACTIVE_ENERGY:mi,TOTAL_EXPORTED_ACTIVE_ENERGY:wi,VOLTAGE:Gi});ct(nE);var iE=120;var EE=121;var _E=254;var sE=Object.freeze({__proto__:null,activateRatePlan:Oa,errorResponse:_E,getBuildVersion:on,getCorrectTime:Ka,getCriticalEvent:ba,getCurrentStatusMeter:Xa,getCurrentValues:Ta,getDateTime:sa,getDayDemand:ga,getDayDemandExport:za,getDayEnergies:iE,getDayMaxDemand:La,getDayMaxDemandExport:Ja,getDayMaxDemandPrevious:Za,getDayMaxPower:EE,getDayProfile:Wa,getDemand:An,getDeviceId:_a,getDeviceType:Ea,getDisplayParam:nn,getEnergy:Aa,getEnergyDayPrevious:ia,getEnergyExport:en,getEnergyExportDayPrevious:ka,getEventStatus:na,getEvents:Fa,getEventsCounters:Ya,getExtendedCurrentValues:Ga,getExtendedCurrentValues2:Sa,getHalfHourDemand:Pa,getHalfHourDemandExport:$a,getHalfHourDemandPrevious:ja,getHalfhoursEnergies:sn,getMagneticFieldThreshold:_n,getMeterInfo:Rn,getMonthDemand:da,getMonthDemandExport:qa,getMonthMaxDemand:Va,getMonthMaxDemandExport:tn,getOperatorParameters:pa,getOperatorParametersExtended3:vn,getRatePlanInfo:Da,getSaldo:ca,getSaldoParameters:ma,getSeasonProfile:Ba,getSpecialDay:wa,getVersion:Ma,prepareRatePlan:fa,resetPowerMaxDay:xa,resetPowerMaxMonth:Ha,runTariffPlan:Qa,setAccessKey:va,setCorrectDateTime:rn,setCorrectTime:Ia,setDateTime:oa,setDayProfile:Ra,setDisplayParam:an,setOperatorParameters:Na,setOperatorParametersExtended3:Tn,setSaldo:Ca,setSaldoParameters:ya,setSeasonProfile:ha,setSpecialDay:ua,setSpecialOperation:En,turnRelayOff:Ua,turnRelayOn:la});ct(sE);var oE=Fa;var vE=4;var TE=function(t){var e=new Jr(vE);e.setDate(t.date);e.setUint8(t.offset);return ea(oE,e.data)};var AE=Ya;var RE=function(){return ea(AE)};var hE=na;var uE=function(){return ea(hE)};var OE=Ga;var fE=function(){return ea(OE)};var PE=Pa;var gE=3;var dE=function(t){var e=new Jr(gE);e.setDate(t.date);return ea(PE,e.data)};var lE=$a;var UE=3;var IE=function(t){var e=new Jr(UE);e.setDate(t.date);return ea(lE,e.data)};var pE=4;var NE=["A+","A+R+","A+R-","A-","A-R+","A-R-"];var ME=4294967295;var cE={"A+":1,"A+R+":2,"A+R-":4,"A-":8,"A-R+":16,"A-R-":32};var CE=function(t){var e={};Object.keys(t).forEach((function(r){e[r]=!!t[r]}));return F(cE,e)};var DE=function(t){return t<pE?1<<t:0};var SE=function(t){return t<pE?1<<t<<4:0};var mE=function(t,e){var r=0;if(t<pE){if(e["A+"]||e["A+R+"]||e["A+R-"]){r|=DE(t)}if(e["A-"]||e["A-R+"]||e["A-R-"]){r|=SE(t)}}return r};function yE(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;V.call(this,t,e)}yE.prototype=Object.create(V.prototype);yE.prototype.constructor=yE;yE.prototype.getDate=function(){var t=this.getUint8();var e=this.getUint8();return{year:t>>1,month:t<<3&15|e>>5,date:e&31}};yE.prototype.setDate=function(t){var e=t.year,r=t.month,a=t.date;var n=e<<1|r>>3&1;var i=r<<5&224|a&31;this.setUint8(n);this.setUint8(i)};yE.prototype.getEnergiesFlags=function(){var t=this.getUint8();return Y(cE,t)};yE.prototype.setEnergiesFlags=function(t){this.setUint8(CE(t))};yE.prototype.getHalfhoursEnergy1=function(t){var e=[];for(var r=0;r<t;r++){var a=this.getUint16();var n=a>>14&3;var i=a&16383;e.push(a===ME?undefined:{tariff:n,energy:i})}return e};yE.prototype.setHalfhoursEnergy1=function(t){if(t){for(var e=0;e<t.length;e++){var r=t[e],a=r.tariff,n=r.energy;var i=a<<14|n;this.setUint16(i===undefined?ME:i)}}};yE.prototype.getHalfhoursEnergy3=function(t){var e=[];for(var r=0;r<t;r++){var a=this.getUint16();e.push(a===ME?undefined:a)}return e};yE.prototype.setHalfhoursEnergy3=function(t){if(t){for(var e=0;e<t.length;e++){var r=t[e];this.setUint16(r===undefined?ME:r)}}};yE.prototype.getHalfhoursEnergies1=function(t,e){var r=this;var a={};NE.forEach((function(n){if(t[n]){a[n]=r.getHalfhoursEnergy1(e)}}));return a};yE.prototype.getHalfhoursEnergies3=function(t,e){var r=this;var a={};NE.forEach((function(n){if(t[n]){a[n]=r.getHalfhoursEnergy3(e)}}));return a};yE.prototype.setHalfhoursEnergies1=function(t){var e=this;NE.forEach((function(r){e.setHalfhoursEnergy1(t[r])}))};yE.prototype.setHalfhoursEnergies3=function(t){var e=this;NE.forEach((function(r){e.setHalfhoursEnergy3(t[r])}))};yE.prototype.getAPlusTariffEnergies=function(t){var e={};if(t&cE["A+"]){e["A+"]=this.getUint32()}if(t&cE["A+R+"]){e["A+R+"]=this.getUint32()}if(t&cE["A+R-"]){e["A+R-"]=this.getUint32()}return e};yE.prototype.setAPlusTariffEnergies=function(t){if(t){if(t["A+"]){this.setUint32(t["A+"])}if(t["A+R+"]){this.setUint32(t["A+R+"])}if(t["A+R-"]){this.setUint32(t["A+R-"])}}};yE.prototype.getAMinusTariffEnergies=function(t){var e={};if(t&cE["A-"]){e["A-"]=this.getUint32()}if(t&cE["A-R+"]){e["A-R+"]=this.getUint32()}if(t&cE["A-R-"]){e["A-R-"]=this.getUint32()}return e};yE.prototype.setAMinusTariffEnergies=function(t){if(t){if(t["A-"]){this.setUint32(t["A-"])}if(t["A-R+"]){this.setUint32(t["A-R+"])}if(t["A-R-"]){this.setUint32(t["A-R-"])}}};yE.prototype.getTariffsEnergies=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(pE).fill(null);for(var a=0;a<pE;a++){if(e&DE(a)){r[a]=this.getAPlusTariffEnergies(t)}}for(var n=0;n<pE;n++){if(e&SE(n)){r[n]={...r[n],...this.getAMinusTariffEnergies(t)}}}return r};yE.prototype.setTariffsEnergies=function(t){var e=this;var r=0;var a=0;t.forEach((function(t,e){if(t){r|=CE(t);a|=mE(e,t)}}));this.setUint8(r);this.setUint8(a);t.forEach((function(t){return e.setAPlusTariffEnergies(t)}));t.forEach((function(t){return e.setAMinusTariffEnergies(t)}))};yE.prototype.getPowerMax=function(){return{hours:this.getUint8(),minutes:this.getUint8(),power:this.getUint32()}};yE.prototype.setPowerMax=function(t){if(t){var e=t.hours,r=t.minutes,a=t.power;this.setUint8(e);this.setUint8(r);this.setUint32(a)}};yE.prototype.getAPlusTariffPowerMax=function(t){var e={};if(t&cE["A+"]){e["A+"]=this.getPowerMax()}if(t&cE["A+R+"]){e["A+R+"]=this.getPowerMax()}if(t&cE["A+R-"]){e["A+R-"]=this.getPowerMax()}return e};yE.prototype.setAPlusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A+"]);this.setPowerMax(t["A+R+"]);this.setPowerMax(t["A+R+"])}};yE.prototype.getAMinusTariffPowerMax=function(t){var e={};if(t&cE["A-"]){e["A-"]=this.getPowerMax()}if(t&cE["A-R+"]){e["A-R+"]=this.getPowerMax()}if(t&cE["A-R-"]){e["A-R-"]=this.getPowerMax()}return e};yE.prototype.setAMinusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A-"]);this.setPowerMax(t["A-R+"]);this.setPowerMax(t["A-R-"])}};yE.prototype.getTariffsPowerMax=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(pE).fill(null);for(var a=0;a<pE;a++){if(e&DE(a)){r[a]=this.getAPlusTariffPowerMax(t)}}for(var n=0;n<pE;n++){if(e&SE(n)){r[n]={...r[n],...this.getAMinusTariffPowerMax(t)}}}return r};yE.prototype.setTariffsPowerMax=function(t){var e=this;var r=0;var a=0;t.forEach((function(t,e){if(t){r|=CE(t);a|=mE(e,t)}}));this.setUint8(r);this.setUint8(a);t.forEach((function(t){return e.setAPlusTariffPowerMax(t)}));t.forEach((function(t){return e.setAMinusTariffPowerMax(t)}))};var LE=sn;var VE=5;var FE=function(t){var e=new yE(VE);e.setDate(t.date);e.setEnergiesFlags(t.energies);e.setUint8(t.firstHalfhour);e.setUint8(t.halfhoursNumber);return ea(LE,e.data)};var YE=_n;var xE=function(){return ea(YE)};var HE=Rn;var XE=function(){return ea(HE)};var GE=da;var WE=2;var BE=function(t){var e=new Jr(WE);e.setUint8(t.year);e.setUint8(t.month);return ea(GE,e.data)};var wE=qa;var KE=2;var bE=function(t){var e=new Jr(KE);e.setUint8(t.year);e.setUint8(t.month);return ea(wE,e.data)};var QE=Va;var ZE=function(t){var e=t.year,r=t.month;return ea(QE,[e,r])};var jE=tn;var zE=function(t){var e=t.year,r=t.month;return ea(jE,[e,r])};var kE=vn;var qE=function(){return ea(kE)};var $E=pa;var JE=function(){return ea($E)};var t_=Da;var e_=function(t){return ea(t_,[t.tariffTable])};var r_=ca;var a_=function(){return ea(r_)};var n_=ma;var i_=function(){return ea(n_)};var E_=Ba;var __=3;var s_=function(t){var e=new Jr(__);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setUint8(t.isActive?0:1);return ea(E_,e.data)};var o_=wa;var v_=3;var T_=function(t){var e=new Jr(v_);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setUint8(t.isActive?0:1);return ea(o_,e.data)};var A_=Ma;var R_=function(){return ea(A_)};var h_=fa;var u_=5;var O_=function(t){var e=new Jr(u_);e.setUint8(t.tariffTable);e.setUint32(t.id);return ea(h_,e.data)};var f_=xa;var P_=function(){return ea(f_)};var g_=Ha;var d_=function(){return ea(g_)};var l_=Qa;var U_=function(t){return ea(l_,[t.tariffTable])};var I_=16;var p_=va;var N_=1+I_;var M_=function(t){var e=new Jr(N_);e.setUint8(t.accessLevel);e.setBytes(t.key);return ea(p_,e.data)};var c_=rn;var C_=2;var D_=function(t){var e=new Jr(C_);e.setInt16(t.seconds);return ea(c_,e.data)};var S_=Ia;var m_=9;var y_=function(t){var e=new Jr(m_);e.setTimeCorrectionParameters(t);return ea(S_,e.data)};var L_=oa;var V_=8;var F_=function(t){var e=new Jr(V_);e.setDateTime(t);return ea(L_,e.data)};var Y_=8;var x_=255;var H_=Ra;var X_=function(t){var e=t.periods.length<Y_;var r=2+t.periods.length+ +e;var a=new Jr(r);a.setUint8(t.tariffTable);a.setUint8(t.index);t.periods.forEach((function(t){a.setDayProfile(t)}));if(e){a.setUint8(x_)}return ea(H_,a.data)};var G_=Tn;var W_=17;var B_=function(t){var e=new Jr(W_);e.setOperatorParametersExtended3(t);return ea(G_,e.data)};var w_=Ca;var K_=12;var b_=function(t){var e=new Jr(K_);e.setUint8(t.date.month);e.setUint8(t.date.date);e.setUint8(t.date.hours);e.setUint8(t.date.minutes);e.setInt32(t.saldoNew);e.setInt32(t.saldoOld);return ea(w_,e.data)};var Q_=ya;var Z_=37;var j_=function(t){var e=new Jr(Z_);e.setSaldoParameters(t);return ea(Q_,e.data)};var z_=ha;var k_=mr;var q_=function(t){var e=new Jr(k_);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setSeasonProfile(t);return ea(z_,e.data)};var $_=ua;var J_=6;var ts=function(t){var e=new Jr(J_);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setSpecialDay(t);return ea($_,e.data)};var es=En;var rs=2;var as=function(t){var e=new Jr(rs);var r=0;if(t.readScreensInfo){r|=128}if(t.resetElectroMagneticIndication){r|=1}if(t.resetMagneticIndication){r|=2}e.setUint8(t.type);e.setUint8(r);return ea(es,e.data)};var ns=Ua;var is=function(){return ea(ns)};var Es=la;var _s=function(){return ea(Es)};var ss={encrypt:function(){},decrypt:function(){}};var os=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var r=e;t.forEach((function(t){r^=t}));return r};var vs=16;var Ts=[0];var As=function(t){return function(e,r){var a;var n=r.messageId,i=n===void 0?1:n,E=r.accessLevel,_=E===void 0?aa:E,o=r.aesKey;var v=e.map((function(e){if("id"in e){return t[e.id](e.parameters||{})}if("command"in e){return e.command.bytes}throw new Error("wrong command format")}));var T=_|16;var A=[i,T];var R=(a=[]).concat.apply(a,[T].concat(s(v),[Ts]));if(_!==ra){var h=(R.length+1)%vs;if(h){R=R.concat(new Array(vs-h).fill(0))}}R=R.concat(os(R));if(o&&_!==ra){R=s(ss.encrypt(o,R))}return A.concat(R)}};var Rs=1;var hs=3;var us=4;var Os=5;var fs=7;var Ps=8;var gs=9;var ds=13;var ls=15;var Us=16;var Is=17;var ps=18;var Ns=19;var Ms=20;var cs=21;var Cs=22;var Ds=23;var Ss=24;var ms=25;var ys=28;var Ls=30;var Vs=31;var Fs=40;var Ys=41;var xs=42;var Hs=44;var Xs=46;var Gs=47;var Ws=49;var Bs=50;var ws=51;var Ks=52;var bs=53;var Qs=54;var Zs=57;var js=58;var zs=59;var ks=60;var qs=61;var $s=62;var Js=63;var to=64;var eo=69;var ro=70;var ao=71;var no=72;var io=73;var Eo=78;var _o=79;var so=80;var oo=82;var vo=83;var To=84;var Ao=85;var Ro=86;var ho=88;var uo=89;var Oo=90;var fo=92;var Po=93;var go=94;var lo=100;var Uo=109;var Io=111;var po=112;var No=113;var Mo=114;var co=116;var Co=117;var Do=118;var So=122;var mo=Object.freeze({__proto__:null,activateRatePlan:Ns,getBuildVersion:po,getCorrectTime:$s,getCriticalEvent:Ro,getCurrentStatusMeter:Zs,getCurrentValues:ds,getDateTime:fs,getDayDemand:Cs,getDayDemandExport:_o,getDayMaxDemand:Ws,getDayMaxDemandExport:ho,getDayProfile:zs,getDemand:Do,getDeviceId:Os,getDeviceType:us,getDisplayParam:go,getEnergy:ls,getEnergyDayPrevious:hs,getEnergyExport:Eo,getEnergyExportDayPrevious:so,getEventStatus:Rs,getEvents:ws,getEventsCounters:Ks,getExtendedCurrentValues:js,getHalfHourDemand:cs,getHalfHourDemandChannel:Oo,getHalfHourDemandExport:vo,getHalfHourDemandVare:io,getHalfHourDemandVareExport:Ao,getHalfHourDemandVari:no,getHalfHourDemandVariExport:To,getHalfhoursEnergies:Io,getMagneticFieldThreshold:Uo,getMeterInfo:So,getMonthDemand:Ds,getMonthDemandExport:oo,getMonthMaxDemand:Bs,getMonthMaxDemandExport:uo,getOperatorParameters:Ls,getOperatorParametersExtended:Js,getOperatorParametersExtended2:ao,getOperatorParametersExtended3:No,getOperatorParametersExtended4:Co,getRatePlanInfo:Hs,getSaldo:Ys,getSaldoParameters:Xs,getSeasonProfile:ks,getSpecialDay:qs,getVersion:Fs,prepareRatePlan:Ms,resetPowerMaxDay:bs,resetPowerMaxMonth:Qs,runTariffPlan:ro,setAccessKey:gs,setCorrectDateTime:fo,setCorrectTime:ys,setDateTime:Ps,setDayProfile:Us,setDisplayParam:Po,setOperatorParameters:Vs,setOperatorParametersExtended:to,setOperatorParametersExtended2:eo,setOperatorParametersExtended3:Mo,setOperatorParametersExtended4:co,setSaldo:xs,setSaldoParameters:Gs,setSeasonProfile:Is,setSpecialDay:ps,setSpecialOperation:lo,turnRelayOff:ms,turnRelayOn:Ss});ct(mo);var yo=Ro;var Lo=function(t){return ea(yo,[t.event,t.index])};var Vo=1;var Fo=2;var Yo=3;var xo=4;var Ho=17;var Xo=18;var Go=19;var Wo=20;var Bo=21;var wo=22;var Ko=23;var bo=32;var Qo=33;var Zo=34;var jo=35;var zo=36;var ko=37;var qo=38;var $o=39;var Jo=40;var tv=49;var ev=50;var rv=51;var av=52;var nv=53;var iv=54;var Ev=55;var _v=56;var sv=57;var ov=64;var vv=65;var Tv=66;var Av=67;var Rv=68;var hv=69;var uv=70;var Ov=71;var fv=72;var Pv=73;var gv=74;var dv=75;var lv=76;var Uv=77;var Iv=78;var pv=79;var Nv=80;var Mv=81;var cv=82;var Cv=83;var Dv=84;var Sv=85;var mv=86;var yv=87;var Lv=88;var Vv=89;var Fv=90;var Yv=91;var xv=92;var Hv=93;var Xv=94;var Gv=95;var Wv=96;var Bv=97;var wv=98;var Kv=99;var bv=100;var Qv=101;var Zv=102;var jv=103;var zv=104;var kv=105;var qv=106;var $v=107;var Jv=108;var tT=109;var eT=110;var rT=111;var aT=112;var nT=113;var iT=114;var ET=115;var _T=116;var sT=117;var oT=118;var vT=119;var TT=120;var AT=121;var RT=122;var hT=123;var uT=124;var OT=125;var fT=126;var PT=127;var gT=128;var dT=129;var lT=130;var UT=131;var IT=132;var pT=133;var NT=134;var MT=135;var cT=136;var CT=137;var DT=138;var ST=139;var mT=140;var yT=141;var LT=142;var VT=143;var FT=144;var YT=145;var xT=147;var HT=148;var XT=149;var GT=150;var WT=151;var BT=152;var wT=153;var KT=154;var bT=155;var QT=156;var ZT=157;var jT=158;var zT=159;var kT=160;var qT=161;var $T=162;var JT=163;var tA=164;var eA=165;var rA=166;var aA=167;var nA=168;var iA=169;var EA=170;var _A=171;var sA=172;var oA=173;var vA=174;var TA=175;var AA=176;var RA=177;var hA=178;var uA=179;var OA=224;var fA=225;var PA=226;var gA=227;var dA=228;var lA=229;var UA=230;var IA=231;var pA=232;var NA=Object.freeze({__proto__:null,ACCESS_LOCKED:Ho,ACCESS_UNLOCKED:Xo,ACCUMULATION_PARAM_BAD:pT,ACCUMULATION_PARAM_EXT_BAD:NT,BAD_TEST_EEPROM:dT,BAD_TEST_FRAM:lT,BATTERY_FAULT:kv,BATTERY_OK:zv,BLOCK_TARIFF_BAD:cT,CALCULATION_PERIOD_BAD:MT,CALIBRATION_FAULT:$v,CALIBRATION_FLAG_RESET:gT,CALIBRATION_FLAG_SET:PT,CALIBRATION_OK:qv,CALIBRATION_PARAM_BAD:CT,CASE_CLOSE:Bo,CASE_KLEMA_CLOSE:WT,CASE_KLEMA_OPEN:GT,CASE_MODULE_CLOSE:bT,CASE_MODULE_OPEN:KT,CASE_OPEN:Wo,CHANGE_ACCESS_KEY0:bo,CHANGE_ACCESS_KEY1:Qo,CHANGE_ACCESS_KEY2:Zo,CHANGE_ACCESS_KEY3:jo,CHANGE_COR_TIME:aT,CHANGE_PARAMETERS_LOCAL:zo,CHANGE_PARAMETERS_REMOTE:ko,CHANGE_PARAM_CHANNEL1:jT,CHANGE_PARAM_CHANNEL2:zT,CHANGE_PARAM_CHANNEL3:kT,CHANGE_PARAM_CHANNEL4:qT,CHANGE_PARAM_CHANNEL5:$T,CHANGE_PARAM_CHANNEL6:JT,CHANGE_TARIFF_TABLE:ev,CHANGE_TARIFF_TABLE_2:BT,CHANGE_TARIFF_TABLE_3:wT,CLOCK_FAULT:Bv,CLOCK_OK:Wv,CMD_CHANGE_TIME:qo,CMD_RELAY_2_OFF:iT,CMD_RELAY_2_ON:nT,CMD_RELAY_OFF:Jo,CMD_RELAY_ON:$o,COEFFICIENT_TRANSFORMATION_CHANGE:VT,CROSS_ZERO_ENT1:ET,CROSS_ZERO_ENT2:_T,CROSS_ZERO_ENT3:sT,CROSS_ZERO_ENT4:oT,CROSS_ZERO_EXPORT_ENT1:tA,CROSS_ZERO_EXPORT_ENT2:eA,CROSS_ZERO_EXPORT_ENT3:rA,CROSS_ZERO_EXPORT_ENT4:aA,CROSS_ZERO_EXPORT_VARE1:sA,CROSS_ZERO_EXPORT_VARE2:oA,CROSS_ZERO_EXPORT_VARE3:vA,CROSS_ZERO_EXPORT_VARE4:TA,CROSS_ZERO_EXPORT_VARI1:nA,CROSS_ZERO_EXPORT_VARI2:iA,CROSS_ZERO_EXPORT_VARI3:EA,CROSS_ZERO_EXPORT_VARI4:_A,CROSS_ZERO_VARE1:hT,CROSS_ZERO_VARE2:uT,CROSS_ZERO_VARE3:OT,CROSS_ZERO_VARE4:fT,CROSS_ZERO_VARI1:vT,CROSS_ZERO_VARI2:TT,CROSS_ZERO_VARI3:AT,CROSS_ZERO_VARI4:RT,EM_MAGNETIC_OFF:RA,EM_MAGNETIC_ON:AA,ENERGY_REGISTER_OVERFLOW:tv,ENERGY_T1_FAULT:Vo,ENERGY_T2_FAULT:Fo,ENERGY_T3_FAULT:Yo,ENERGY_T4_FAULT:xo,ERR_ACCESS:Go,F_MAX_OK:lv,F_MAX_OVER:Uv,F_MIN_OK:Iv,F_MIN_UNDER:pv,IA_MAX_OK:Dv,IA_MAX_OVER:Sv,IB_MAX_OK:mv,IB_MAX_OVER:yv,IC_MAX_OK:Lv,IC_MAX_OVER:Vv,IDIFF_OK:Xv,IDIFF_OVER:Gv,MAGNETIC_OFF:Ko,MAGNETIC_ON:wo,METER_TROUBLE:XT,OP_PARAM_BAD:ST,OP_PARAM_EXT_BAD:mT,O_PARAMETERS_FAULT:rT,O_PARAMETERS_OK:eT,PA_MAX_OK:Fv,PA_MAX_OVER:Yv,POWER_A_OFF:jv,POWER_A_ON:Zv,POWER_B_OFF:Qv,POWER_B_ON:bv,POWER_C_OFF:Kv,POWER_C_ON:wv,POWER_OVER_RELAY_OFF:ZT,PV_MAX_OK:xv,PV_MAX_OVER:Hv,P_MAX_A_MINUS_OK:IA,P_MAX_A_MINUS_OVER:pA,RELAY_HARD_BAD_OFF:FT,RELAY_HARD_BAD_ON:xT,RELAY_HARD_OFF:HT,RELAY_HARD_ON:YT,RELAY_OFF:Ev,RELAY_ON:iv,RESET_EM_FLAG:hA,RESET_MAGNETIC_FLAG:uA,RESTART:_v,SALDO_ENERGY_BAD:yT,SALDO_PARAM_BAD:IT,SET_DEMAND_EN_10_MIN:gA,SET_DEMAND_EN_15_MIN:dA,SET_DEMAND_EN_1_MIN:OA,SET_DEMAND_EN_30_MIN:lA,SET_DEMAND_EN_3_MIN:fA,SET_DEMAND_EN_5_MIN:PA,SET_DEMAND_EN_60_MIN:UA,SET_NEW_SALDO:UT,SET_SALDO_PARAM:QT,SET_TARIFF_TABLE:rv,SUMMER_TIME:av,TIME_CORRECT:LT,T_MAX_OK:Nv,T_MAX_OVER:Mv,T_MIN_OK:cv,T_MIN_UNDER:Cv,VA_MAX_OK:ov,VA_MAX_OVER:vv,VA_MIN_OK:Tv,VA_MIN_UNDER:Av,VB_MAX_OK:Rv,VB_MAX_OVER:hv,VB_MIN_OK:uv,VB_MIN_UNDER:Ov,VC_MAX_OK:fv,VC_MAX_OVER:Pv,VC_MIN_OK:gv,VC_MIN_UNDER:dv,V_PARAMETERS_FAULT:tT,V_PARAMETERS_OK:Jv,WD_RESTART:sv,WINTER_SUMMER_BAD:DT,WINTER_TIME:nv});var MA=ct(NA);var cA=1;var CA=2;var DA=3;var SA=4;var mA=5;var yA=6;var LA=7;var VA=8;var FA=9;var YA=10;var xA=11;var HA=12;var XA=13;var GA=14;var WA=15;var BA=16;var wA=17;var KA=18;var bA=19;var QA=20;var ZA=21;var jA=22;var zA=23;var kA=24;var qA=25;var $A=26;var JA=27;var tR=28;var eR=29;var rR=30;var aR=31;var nR=32;var iR=33;var ER=34;var _R=35;var sR=36;var oR=37;var vR=38;var TR=39;var AR=40;var RR=41;var hR=42;var uR=43;var OR=44;var fR=45;var PR=46;var gR=47;var dR=48;var lR=49;var UR=50;var IR=51;var pR=52;var NR=53;var MR=54;var cR=55;var CR=56;var DR=57;var SR=58;var mR=59;var yR=60;var LR=61;var VR=62;var FR=63;var YR=64;var xR=65;var HR=66;var XR=67;var GR=68;var WR=69;var BR=70;var wR=71;var KR=72;var bR=73;var QR=74;var ZR=75;var jR=76;var zR=77;var kR=78;var qR=79;var $R=80;var JR=81;var th=82;var eh=83;var rh=84;var ah=85;var nh=86;var ih=87;var Eh=88;var _h=89;var sh=90;var oh=91;var vh=92;var Th=93;var Ah=94;var Rh=95;var hh=96;var uh=97;var Oh=98;var fh=99;var Ph=100;var gh=101;var dh=102;var lh=103;var Uh=104;var Ih=105;var ph=106;var Nh=107;var Mh=108;var ch=109;var Ch=110;var Dh=111;var Sh=112;var mh=113;var yh=114;var Lh=115;var Vh=116;var Fh=117;var Yh=118;var xh=119;var Hh=120;var Xh=121;var Gh=122;var Wh=123;var Bh=124;var wh=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:SA,ACTIVE_ENERGY_T2:mA,ACTIVE_ENERGY_T3:yA,ACTIVE_ENERGY_T4:LA,ACTIVE_POWER_PHASE_A:uR,ACTIVE_POWER_PHASE_B:OR,ACTIVE_POWER_PHASE_C:fR,APPARENT_POWER_QMINUS_PHASE_A:FR,APPARENT_POWER_QMINUS_PHASE_B:YR,APPARENT_POWER_QMINUS_PHASE_C:xR,APPARENT_POWER_QPLUS_PHASE_A:mR,APPARENT_POWER_QPLUS_PHASE_B:yR,APPARENT_POWER_QPLUS_PHASE_C:LR,BATTERY_VOLTAGE:AR,CURRENT_BALANCE:Yh,CURRENT_IN_NEUTRAL:sR,CURRENT_IN_PHASE_A:iR,CURRENT_IN_PHASE_B:ER,CURRENT_IN_PHASE_C:_R,CURRENT_TRANSFORMATION_RATIO:Vh,DATE_MONTH_YEAR:Lh,EXPORTED_ACTIVE_ENERGY_T1:bA,EXPORTED_ACTIVE_ENERGY_T2:QA,EXPORTED_ACTIVE_ENERGY_T3:ZA,EXPORTED_ACTIVE_ENERGY_T4:jA,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:eR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:rR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:aR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:nR,EXPORTED_REACTIVE_ENERGY_T1:kA,EXPORTED_REACTIVE_ENERGY_T2:qA,EXPORTED_REACTIVE_ENERGY_T3:$A,EXPORTED_REACTIVE_ENERGY_T4:JA,HOUR_MINUTE_SECOND:yh,MAGNET_INDUCTION:Bh,MAX_ACTIVE_POWER_DAY_T1:HR,MAX_ACTIVE_POWER_DAY_T2:XR,MAX_ACTIVE_POWER_DAY_T3:GR,MAX_ACTIVE_POWER_DAY_T4:WR,MAX_ACTIVE_POWER_MONTH_T1:BR,MAX_ACTIVE_POWER_MONTH_T2:wR,MAX_ACTIVE_POWER_MONTH_T3:KR,MAX_ACTIVE_POWER_MONTH_T4:bR,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:sh,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:oh,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:vh,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:Th,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:Ah,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:Rh,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:hh,MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:uh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:ph,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:Nh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:Mh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:ch,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:Ch,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:Dh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:Sh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:mh,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:Oh,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:fh,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:Ph,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:gh,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:dh,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:lh,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:Uh,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:Ih,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:th,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:eh,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:rh,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:ah,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:nh,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:ih,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:Eh,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:_h,MAX_REACTIVE_POWER_DAY_T1:QR,MAX_REACTIVE_POWER_DAY_T2:ZR,MAX_REACTIVE_POWER_DAY_T3:jR,MAX_REACTIVE_POWER_DAY_T4:zR,MAX_REACTIVE_POWER_MONTH_T1:kR,MAX_REACTIVE_POWER_MONTH_T2:qR,MAX_REACTIVE_POWER_MONTH_T3:$R,MAX_REACTIVE_POWER_MONTH_T4:JR,NEGATIVE_REACTIVE_ENERGY_T1:GA,NEGATIVE_REACTIVE_ENERGY_T2:WA,NEGATIVE_REACTIVE_ENERGY_T3:BA,NEGATIVE_REACTIVE_ENERGY_T4:wA,OPTOPORT_SPEED:Wh,POWER_COEFFICIENT_PHASE_A:cR,POWER_COEFFICIENT_PHASE_B:CR,POWER_COEFFICIENT_PHASE_C:DR,POWER_THRESHOLD_T1:xh,POWER_THRESHOLD_T2:Hh,POWER_THRESHOLD_T3:Xh,POWER_THRESHOLD_T4:Gh,REACTIVE_ENERGY_T1:FA,REACTIVE_ENERGY_T2:YA,REACTIVE_ENERGY_T3:xA,REACTIVE_ENERGY_T4:HA,REACTIVE_POWER_QMINUS_PHASE_A:IR,REACTIVE_POWER_QMINUS_PHASE_B:pR,REACTIVE_POWER_QMINUS_PHASE_C:NR,REACTIVE_POWER_QPLUS_PHASE_A:gR,REACTIVE_POWER_QPLUS_PHASE_B:dR,REACTIVE_POWER_QPLUS_PHASE_C:lR,SET_ALL_SEGMENT_DISPLAY:cA,SOFTWARE_VERSION:CA,SUPPLY_FREQUENCY:RR,TOTAL_ACTIVE_ENERGY:DA,TOTAL_ACTIVE_POWER:hR,TOTAL_APPARENT_POWER_QMINUS:VR,TOTAL_APPARENT_POWER_QPLUS:SR,TOTAL_EXPORTED_ACTIVE_ENERGY:KA,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:tR,TOTAL_EXPORTED_REACTIVE_ENERGY:zA,TOTAL_NEGATIVE_REACTIVE_ENERGY:XA,TOTAL_POWER_FACTOR:MR,TOTAL_REACTIVE_ENERGY:VA,TOTAL_REACTIVE_POWER_QMINUS:UR,TOTAL_REACTIVE_POWER_QPLUS:PR,VOLTAGE_IN_PHASE_A:oR,VOLTAGE_IN_PHASE_B:vR,VOLTAGE_IN_PHASE_C:TR,VOLTAGE_TRANSFORMATION_RATIO:Fh});ct(wh);var Kh=254;var bh=Object.freeze({__proto__:null,activateRatePlan:Ns,errorResponse:Kh,getBuildVersion:po,getCorrectTime:$s,getCriticalEvent:Ro,getCurrentStatusMeter:Zs,getCurrentValues:ds,getDateTime:fs,getDayDemand:Cs,getDayDemandExport:_o,getDayMaxDemand:Ws,getDayMaxDemandExport:ho,getDayProfile:zs,getDemand:Do,getDeviceId:Os,getDeviceType:us,getDisplayParam:go,getEnergy:ls,getEnergyDayPrevious:hs,getEnergyExport:Eo,getEnergyExportDayPrevious:so,getEventStatus:Rs,getEvents:ws,getEventsCounters:Ks,getExtendedCurrentValues:js,getHalfHourDemand:cs,getHalfHourDemandChannel:Oo,getHalfHourDemandExport:vo,getHalfHourDemandVare:io,getHalfHourDemandVareExport:Ao,getHalfHourDemandVari:no,getHalfHourDemandVariExport:To,getHalfhoursEnergies:Io,getMagneticFieldThreshold:Uo,getMeterInfo:So,getMonthDemand:Ds,getMonthDemandExport:oo,getMonthMaxDemand:Bs,getMonthMaxDemandExport:uo,getOperatorParameters:Ls,getOperatorParametersExtended:Js,getOperatorParametersExtended2:ao,getOperatorParametersExtended3:No,getOperatorParametersExtended4:Co,getRatePlanInfo:Hs,getSaldo:Ys,getSaldoParameters:Xs,getSeasonProfile:ks,getSpecialDay:qs,getVersion:Fs,prepareRatePlan:Ms,resetPowerMaxDay:bs,resetPowerMaxMonth:Qs,runTariffPlan:ro,setAccessKey:gs,setCorrectDateTime:fo,setCorrectTime:ys,setDateTime:Ps,setDayProfile:Us,setDisplayParam:Po,setOperatorParameters:Vs,setOperatorParametersExtended:to,setOperatorParametersExtended2:eo,setOperatorParametersExtended3:Mo,setOperatorParametersExtended4:co,setSaldo:xs,setSaldoParameters:Gs,setSeasonProfile:Is,setSpecialDay:ps,setSpecialOperation:lo,turnRelayOff:ms,turnRelayOn:Ss});ct(bh);var Qh=2400;var Zh=9600;var jh={plc:{0:Zh,2:Qh,4:Zh},optoport:{0:Qh,2:Qh,4:Zh}};var zh={plc:ct(jh.plc),optoport:ct(jh.optoport)};var kh=95;var qh=9;var $h=28;var Jh=28;var tu=4;var eu={SET_ALL_SEGMENT_DISPLAY:1<<0,SOFTWARE_VERSION:1<<1,TOTAL_ACTIVE_ENERGY:1<<2,ACTIVE_ENERGY_T1:1<<3,ACTIVE_ENERGY_T2:1<<4,ACTIVE_ENERGY_T3:1<<5,ACTIVE_ENERGY_T4:1<<6,TOTAL_REACTIVE_ENERGY:1<<7,REACTIVE_ENERGY_T1:1<<8,REACTIVE_ENERGY_T2:1<<9,REACTIVE_ENERGY_T3:1<<10,REACTIVE_ENERGY_T4:1<<11,TOTAL_NEGATIVE_REACTIVE_ENERGY:1<<12,NEGATIVE_REACTIVE_ENERGY_T1:1<<13,NEGATIVE_REACTIVE_ENERGY_T2:1<<14,NEGATIVE_REACTIVE_ENERGY_T3:1<<15,NEGATIVE_REACTIVE_ENERGY_T4:1<<16,TOTAL_EXPORTED_ACTIVE_ENERGY:1<<17,EXPORTED_ACTIVE_ENERGY_T1:1<<18,EXPORTED_ACTIVE_ENERGY_T2:1<<19,EXPORTED_ACTIVE_ENERGY_T3:1<<20,EXPORTED_ACTIVE_ENERGY_T4:1<<21,TOTAL_EXPORTED_REACTIVE_ENERGY:1<<22,EXPORTED_REACTIVE_ENERGY_T1:1<<23,EXPORTED_REACTIVE_ENERGY_T2:1<<24,EXPORTED_REACTIVE_ENERGY_T3:1<<25,EXPORTED_REACTIVE_ENERGY_T4:1<<26,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:1<<27,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:1<<28,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:1<<29,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:1<<30,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:1<<31};var ru={CURRENT_IN_PHASE_A:1<<0,CURRENT_IN_PHASE_B:1<<1,CURRENT_IN_PHASE_C:1<<2,CURRENT_IN_NEUTRAL:1<<3,VOLTAGE_IN_PHASE_A:1<<4,VOLTAGE_IN_PHASE_B:1<<5,VOLTAGE_IN_PHASE_C:1<<6,BATTERY_VOLTAGE:1<<7,SUPPLY_FREQUENCY:1<<8,ACTIVE_POWER_SUM:1<<9,ACTIVE_POWER_PHASE_A:1<<10,ACTIVE_POWER_PHASE_B:1<<11,ACTIVE_POWER_PHASE_C:1<<12,TOTAL_REACTIVE_POWER_QPLUS:1<<13,REACTIVE_POWER_QPLUS_PHASE_A:1<<14,REACTIVE_POWER_QPLUS_PHASE_B:1<<15,REACTIVE_POWER_QPLUS_PHASE_C:1<<16,TOTAL_REACTIVE_POWER_QMINUS:1<<17,REACTIVE_POWER_QMINUS_PHASE_A:1<<18,REACTIVE_POWER_QMINUS_PHASE_B:1<<19,REACTIVE_POWER_QMINUS_PHASE_C:1<<20,TOTAL_POWER_FACTOR:1<<21,POWER_COEFFICIENT_PHASE_A:1<<22,POWER_COEFFICIENT_PHASE_B:1<<23,POWER_COEFFICIENT_PHASE_C:1<<24,TOTAL_APPARENT_POWER_QPLUS:1<<25,APPARENT_POWER_QPLUS_PHASE_A:1<<26,APPARENT_POWER_QPLUS_PHASE_B:1<<27,APPARENT_POWER_QPLUS_PHASE_C:1<<28,TOTAL_APPARENT_POWER_QMINUS:1<<29,APPARENT_POWER_QMINUS_PHASE_A:1<<30,APPARENT_POWER_QMINUS_PHASE_B:1<<31};var au={APPARENT_POWER_QMINUS_PHASE_C:1<<0,MAX_ACTIVE_POWER_DAY_T1:1<<1,MAX_ACTIVE_POWER_DAY_T2:1<<2,MAX_ACTIVE_POWER_DAY_T3:1<<3,MAX_ACTIVE_POWER_DAY_T4:1<<4,MAX_ACTIVE_POWER_MONTH_T1:1<<5,MAX_ACTIVE_POWER_MONTH_T2:1<<6,MAX_ACTIVE_POWER_MONTH_T3:1<<7,MAX_ACTIVE_POWER_MONTH_T4:1<<8,MAX_REACTIVE_POWER_DAY_T1:1<<9,MAX_REACTIVE_POWER_DAY_T2:1<<10,MAX_REACTIVE_POWER_DAY_T3:1<<11,MAX_REACTIVE_POWER_DAY_T4:1<<12,MAX_REACTIVE_POWER_MONTH_T1:1<<13,MAX_REACTIVE_POWER_MONTH_T2:1<<14,MAX_REACTIVE_POWER_MONTH_T3:1<<15,MAX_REACTIVE_POWER_MONTH_T4:1<<16,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:1<<17,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:1<<18,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:1<<19,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:1<<20,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:1<<21,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:1<<22,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:1<<23,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:1<<24,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:1<<25,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:1<<26,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:1<<27,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:1<<28,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:1<<29,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:1<<30,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:1<<31};var nu={MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:1<<0,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:1<<1,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:1<<2,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:1<<3,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:1<<4,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:1<<5,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:1<<6,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:1<<7,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:1<<8,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:1<<9,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:1<<10,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:1<<11,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:1<<12,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:1<<13,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:1<<14,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:1<<15,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:1<<16,HOUR_MINUTE_SECOND:1<<17,DATE_MONTH_YEAR:1<<18,CURRENT_TRANSFORMATION_RATIO:1<<19,VOLTAGE_TRANSFORMATION_RATIO:1<<20,CURRENT_BALANCE:1<<21,POWER_THRESHOLD_T1:1<<22,POWER_THRESHOLD_T2:1<<23,POWER_THRESHOLD_T3:1<<24,POWER_THRESHOLD_T4:1<<25};var iu={...nu,SORT_DISPLAY_SCREENS:1<<29,AUTO_SCREEN_SCROLLING:1<<31};var Eu={EVENT:1<<0,PROFILE_P01:1<<1,PROFILE_P02:1<<2,PROFILE_P03:1<<3,PROFILE_P04:1<<4,PROFILE_P05:1<<5,PROFILE_P06:1<<6};var _u={RELAY_ON_Y:1<<0,RELAY_ON_CENTER:1<<1,RELAY_ON_PB:1<<2,RELAY_ON_TARIFF_1:1<<3,RELAY_ON_TARIFF_2:1<<4,RELAY_ON_TARIFF_3:1<<5,RELAY_ON_TARIFF_4:1<<6,RELAY_ON_V_GOOD:1<<7,RELAY_OFF_Y:1<<8,RELAY_OFF_CENTER:1<<9,RELAY_OFF_TARIFF_1:1<<10,RELAY_OFF_TARIFF_2:1<<11,RELAY_OFF_TARIFF_3:1<<12,RELAY_OFF_TARIFF_4:1<<13,RELAY_OFF_I_LIMIT:1<<14,RELAY_OFF_V_BAD:1<<15,RELAY_OFF_DIFF_CURRENT_BAD:1<<16,RELAY_OFF_LIM_TARIFF_1:1<<17,RELAY_OFF_LIM_TARIFF_2:1<<18,RELAY_OFF_LIM_TARIFF_3:1<<19,RELAY_OFF_LIM_TARIFF_4:1<<20,RELAY_OFF_LIM_VAR_TARIFF_1:1<<21,RELAY_OFF_LIM_VAR_TARIFF_2:1<<22,RELAY_OFF_LIM_VAR_TARIFF_3:1<<23,RELAY_OFF_LIM_VAR_TARIFF_4:1<<24,RELAY_ON_PF_MIN:1<<25,RELAY_OFF_PF_MIN:1<<26,RELAY_ON_TIMEOUT:1<<27,RELAY_ON_SALDO:1<<28,RELAY_OFF_SALDO:1<<29,RELAY_OFF_SALDO_SOFT:1<<30};var su={TRANSFORMATION_RATIO:1<<0,METER_TYPE_R:1<<4,ACCUMULATE_BY_R_PLUS_MINUS:1<<7};var ou={RESET_DAY_MAX_POWER_KEY:1<<0,RESET_MONTH_MAX_POWER_KEY:1<<1,BLOCK_KEY_OPTOPORT:1<<2,MAGNET_SCREEN_CONST:1<<5,ALLOW_BROWNOUT_INDICATION:1<<7};var vu={...nu,OPTOPORT_SPEED:1<<26,MAGNET_INDUCTION:1<<27};var Tu={RELAY_OFF_MAGNET:1<<0,RELAY_ON_MAGNET_TIMEOUT:1<<1,RELAY_ON_MAGNET_AUTO:1<<2};var Au=function(t){return{plc:jh.plc[x(t,4,1)],optoport:jh.optoport[x(t,4,5)]}};var Ru=function(t){var e=0;e=H(e,4,1,Number(zh.plc[t.plc]));e=H(e,4,5,Number(zh.optoport[t.optoport]));return e};function hu(t,e,r){var a=r>>tu;var n=[];var i=[];var E=[];for(var _=0;_<yr;_++){var s=!!x(a,1,_+1);if(s){n.push(t.getInt32());i.push(t.getInt32());E.push(t.getInt32())}else{n.push(null);i.push(null);E.push(null)}}return{wh:n,vari:i,vare:E}}function uu(t,e){var r=e.wh,a=e.vari,n=e.vare;var i=1+tu;var E=t;for(var _=0;_<yr;_++){E=H(E,1,_+i,Number(!!r[_]&&!!a[_]&&!!n[_]))}return E}function Ou(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;Jr.call(this,t,e)}Ou.prototype=Object.create(Jr.prototype);Ou.prototype.constructor=Ou;Ou.getDefaultOperatorParameters=function(){return{vpThreshold:265e3,vThreshold:156e3,ipThreshold:12e4,pmaxThreshold0:31800,pmaxThreshold1:31800,pmaxThreshold2:31800,pmaxThreshold3:31800,rmaxThreshold0:31800,rmaxThreshold1:31800,rmaxThreshold2:31800,rmaxThreshold3:31800,tint:30,calcPeriodDate:1,timeoutDisplay:127,timeoutScreen:7,displaySet1:Y(eu,4229),displaySet2:Y(ru,139776),displaySet3:Y(au,0),relaySet:Y(_u,771),speedOptoPort:Au(64),ten:30,tu:30,timeIntervalPowerOff:3,reserved:0,timeoutBadVAVB:5,freqMax:55,freqMin:45,year:0,month:0,date:0,energyDecimalPoint:2,voltageTransformationRatioNumerator:1,voltageTransformationRatioDenominator:1,currentTransformationRatioNumerator:1,currentTransformationRatioDenominator:1,typeMeter:Y(su,0),phMin:0,timeoutIMax:5,timeoutPMax:5,timeoutCos:5,pMaxDef:1,displaySet4:Y(iu,2147876864)}};Ou.getDefaultOperatorParametersExtended=function(){return{timeoutRelayOn:1,define1:Y(ou,0),timeoutRelayKey:0,timeoutRelayAuto:5}};Ou.getDefaultOperatorParametersExtended2=function(){return{deltaCorMin:0,timeoutMagnetOff:5,relaySetExt:Y(Tu,0),timeoutMagnetOn:5,defaultPlcPhase:3,displaySet21:Y(eu,4231),displaySet22:Y(ru,31597303),displaySet23:Y(au,0),displaySet24:Y(vu,393216),channel1:0,channel2:0,channel3:0,channel4:0,channel5:0,channel6:0,timeCorrectPeriod:24,timeCorrectPassHalfhour:false}};Ou.getDefaultOperatorParametersExtended3=Jr.getDefaultOperatorParametersExtended3;Ou.prototype.getOperatorParameters=function(){return{vpThreshold:this.getUint32(),vThreshold:this.getUint32(),ipThreshold:this.getUint32(),pmaxThreshold0:this.getUint32(),pmaxThreshold1:this.getUint32(),pmaxThreshold2:this.getUint32(),pmaxThreshold3:this.getUint32(),rmaxThreshold0:this.getUint32(),rmaxThreshold1:this.getUint32(),rmaxThreshold2:this.getUint32(),rmaxThreshold3:this.getUint32(),tint:this.getUint8(),calcPeriodDate:this.getUint8(),timeoutDisplay:this.getUint8(),timeoutScreen:this.getUint8(),displaySet1:Y(eu,this.getUint32()),displaySet2:Y(ru,this.getUint32()),displaySet3:Y(au,this.getUint32()),relaySet:Y(_u,this.getUint32()),speedOptoPort:Au(this.getUint8()),ten:this.getUint8(),tu:this.getUint8(),timeIntervalPowerOff:this.getUint8(),reserved:this.getUint8(),timeoutBadVAVB:this.getUint8(),freqMax:this.getUint8(),freqMin:this.getUint8(),year:this.getUint8(),month:this.getUint8(),date:this.getUint8(),energyDecimalPoint:this.getUint8(),voltageTransformationRatioNumerator:this.getUint16(),voltageTransformationRatioDenominator:this.getUint16(),currentTransformationRatioNumerator:this.getUint16(),currentTransformationRatioDenominator:this.getUint16(),typeMeter:Y(su,this.getUint8()),phMin:this.getUint16(),timeoutIMax:this.getUint8(),timeoutPMax:this.getUint8(),timeoutCos:this.getUint8(),pMaxDef:this.getUint8(),displaySet4:Y(iu,this.getUint32())}};Ou.prototype.setOperatorParameters=function(t){this.setUint32(t.vpThreshold);this.setUint32(t.vThreshold);this.setUint32(t.ipThreshold);this.setUint32(t.pmaxThreshold0);this.setUint32(t.pmaxThreshold1);this.setUint32(t.pmaxThreshold2);this.setUint32(t.pmaxThreshold3);this.setUint32(t.rmaxThreshold0);this.setUint32(t.rmaxThreshold1);this.setUint32(t.rmaxThreshold2);this.setUint32(t.rmaxThreshold3);this.setUint8(t.tint);this.setUint8(t.calcPeriodDate);this.setUint8(t.timeoutDisplay);this.setUint8(t.timeoutScreen);this.setUint32(F(eu,t.displaySet1));this.setUint32(F(ru,t.displaySet2));this.setUint32(F(au,t.displaySet3));this.setUint32(F(_u,t.relaySet));this.setUint8(Ru(t.speedOptoPort));this.setUint8(t.ten);this.setUint8(t.tu);this.setUint8(t.timeIntervalPowerOff);this.setUint8(t.reserved);this.setUint8(t.timeoutBadVAVB);this.setUint8(t.freqMax);this.setUint8(t.freqMin);this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.energyDecimalPoint);this.setUint16(t.voltageTransformationRatioNumerator);this.setUint16(t.voltageTransformationRatioDenominator);this.setUint16(t.currentTransformationRatioNumerator);this.setUint16(t.currentTransformationRatioDenominator);this.setUint8(F(su,t.typeMeter));this.setUint16(t.phMin);this.setUint8(t.timeoutIMax);this.setUint8(t.timeoutPMax);this.setUint8(t.timeoutCos);this.setUint8(t.pMaxDef);this.setUint32(F(iu,t.displaySet4))};Ou.prototype.getOperatorParametersExtended=function(){return{timeoutRelayOn:this.getUint8(),define1:Y(ou,this.getUint8()),timeoutRelayKey:this.getUint8(),timeoutRelayAuto:this.getUint8()}};Ou.prototype.setOperatorParametersExtended=function(t){this.setUint8(t.timeoutRelayOn);this.setUint8(F(ou,t.define1));this.setUint8(t.timeoutRelayKey);this.setUint8(t.timeoutRelayAuto);this.setUint32(0);this.setUint8(0)};Ou.prototype.getEnergies=function(){var t=[];var e=[];var r=[];for(var a=0;a<yr;a++){t.push(this.getInt32());e.push(this.getInt32());r.push(this.getInt32())}return{wh:t,vari:e,vare:r}};Ou.prototype.setEnergies=function(t){for(var e=0;e<yr;e++){this.setInt32(t.wh[e]);this.setInt32(t.vari[e]);this.setInt32(t.vare[e])}};Ou.prototype.getPackedEnergyWithType=function(){var t=this.getUint8();var e=x(t,tu,1);var r=hu(this,e,t);return{energyType:e,energies:r}};Ou.prototype.setPackedEnergyWithType=function(t){var e=t.energyType,r=t.energies;if(e){var a=uu(e,r);var n=a>>tu;this.setUint8(a);for(var i=0;i<yr;i++){var E=!!x(n,1,i+1);if(E){this.setInt32(r.wh[i]);this.setInt32(r.vari[i]);this.setInt32(r.vare[i])}}return}for(var _=0;_<yr;_++){this.setInt32(r.wh[_]);this.setInt32(r.vari[_]);this.setInt32(r.vare[_])}};Ou.prototype.getEnergyPeriods=function(t){var e=this;return new Array(t).fill(0).map((function(){var t=e.getUint16();return t===65535?undefined:t}))};Ou.prototype.setEnergyPeriods=function(t){var e=this;t.forEach((function(t){return e.setUint16(t===undefined?65535:t)}))};Ou.prototype.getMaxDemand=function(){return{hourPmax:this.getUint8(),minPmax:this.getUint8(),pmax:this.getInt32(),hourVariMax:this.getUint8(),minVariMax:this.getUint8(),variMax:this.getInt32(),hourVareMax:this.getUint8(),minVareMax:this.getUint8(),vareMax:this.getInt32()}};Ou.prototype.setMaxDemand=function(t){this.setUint8(t.hourPmax);this.setUint8(t.minPmax);this.setInt32(t.pmax);this.setUint8(t.hourVariMax);this.setUint8(t.minVariMax);this.setInt32(t.variMax);this.setUint8(t.hourVareMax);this.setUint8(t.minVareMax);this.setInt32(t.vareMax)};Ou.prototype.getDayMaxDemandResponse=function(){var t=this;var e=this.getDate();var r=new Array(yr).fill(0).map((function(){return t.getMaxDemand()}));return{date:e,maxDemands:r}};Ou.prototype.setDayMaxDemandResponse=function(t){var e=this;this.setDate(t.date);t.maxDemands.forEach((function(t){return e.setMaxDemand(t)}))};Ou.prototype.getMonthMaxDemandResponse=function(){var t=this;var e={year:this.getUint8(),month:this.getUint8()};var r=new Array(yr).fill(0).map((function(){return t.getMaxDemand()}));return{date:e,maxDemands:r}};Ou.prototype.setMonthMaxDemandResponse=function(t){var e=this;this.setUint8(t.date.year);this.setUint8(t.date.month);t.maxDemands.forEach((function(t){return e.setMaxDemand(t)}))};Ou.prototype.getEvent=function(){var t={hours:this.getUint8(),minutes:this.getUint8(),seconds:this.getUint8(),event:this.getUint8()};var e=t.event;var r=this.bytesLeft;t.eventName=MA[e];switch(e){case ZT:if(r<4){return t}t.power=[this.getUint8(),this.getUint8(),this.getUint8(),this.getUint8()];break;case qo:case LT:if(r<8){return t}t.newDate=this.getDateTime();break}return t};Ou.prototype.setEvent=function(t){this.setUint8(t.hours);this.setUint8(t.minutes);this.setUint8(t.seconds);this.setUint8(t.event);switch(t.event){case ZT:for(var e of t.power){this.setUint8(e)}break;case qo:case LT:this.setDateTime(t.newDate);break}};Ou.prototype.getDemand=function(){var t=this.getUint8();var e=this.getUint8();return{date:{year:t>>1,month:t<<3&15|e>>5,date:e&31},demandParam:this.getUint8(),firstIndex:this.getUint16(),count:this.getUint8(),period:this.getUint8()}};Ou.prototype.setDemand=function(t){var e=t.date.year<<1|t.date.month>>3&1;var r=t.date.month<<5&224|t.date.date&31;this.setUint8(e);this.setUint8(r);this.setUint8(t.demandParam);this.setUint16(t.firstIndex);this.setUint8(t.count);this.setUint8(t.period)};Ou.prototype.getOperatorParametersExtended2=function(){var t={deltaCorMin:this.getUint8(),timeoutMagnetOff:this.getUint8(),relaySetExt:Y(Tu,this.getUint8()),timeoutMagnetOn:this.getUint8(),defaultPlcPhase:this.getUint8(),displaySet21:Y(eu,this.getUint32()),displaySet22:Y(ru,this.getUint32()),displaySet23:Y(au,this.getUint32()),displaySet24:Y(vu,this.getUint32()),channel1:this.getUint8(),channel2:this.getUint8(),channel3:this.getUint8(),channel4:this.getUint8(),channel5:this.getUint8(),channel6:this.getUint8(),timeCorrectPeriod:0,timeCorrectPassHalfhour:false};var e=this.getUint8();t.timeCorrectPeriod=e&127;t.timeCorrectPassHalfhour=!!(e&128);return t};Ou.prototype.setOperatorParametersExtended2=function(t){var e=t.timeCorrectPeriod|(t.timeCorrectPassHalfhour?128:0);this.setUint8(t.deltaCorMin);this.setUint8(t.timeoutMagnetOff);this.setUint8(F(Tu,t.relaySetExt));this.setUint8(t.timeoutMagnetOn);this.setUint8(t.defaultPlcPhase);this.setUint32(F(eu,t.displaySet21));this.setUint32(F(ru,t.displaySet22));this.setUint32(F(au,t.displaySet23));this.setUint32(F(vu,t.displaySet24));this.setUint8(t.channel1);this.setUint8(t.channel2);this.setUint8(t.channel3);this.setUint8(t.channel4);this.setUint8(t.channel5);this.setUint8(t.channel6);this.setUint8(e)};Ou.prototype.getOperatorParametersExtended4=function(){return{displaySet5:Y(Eu,this.getUint32()),displaySet25:Y(Eu,this.getUint32()),displaySet31:Y(eu,this.getUint32()),displaySet32:Y(ru,this.getUint32()),displaySet33:Y(au,this.getUint32()),displaySet34:Y(iu,this.getUint32()),displaySet35:Y(Eu,this.getUint32())}};Ou.prototype.setOperatorParametersExtended4=function(t){this.setUint32(F(Eu,t.displaySet5));this.setUint32(F(Eu,t.displaySet25));this.setUint32(F(eu,t.displaySet31));this.setUint32(F(ru,t.displaySet32));this.setUint32(F(au,t.displaySet33));this.setUint32(F(iu,t.displaySet34));this.setUint32(F(Eu,t.displaySet35))};var fu=3;var Pu=4;var gu=Cs;var du=function(t){var e=new Ou(t?.energyType?Pu:fu);e.setDate(t?.date);if(t?.energyType){e.setUint8(t.energyType)}return ea(gu,e.data)};var lu=_o;var Uu=3;var Iu=function(t){var e=new Ou(Uu);e.setDate(t.date);return ea(lu,e.data)};var pu=Do;var Nu=7;var Mu=function(t){var e=new Ou(Nu);e.setDemand(t);return ea(pu,e.data)};var cu=go;var Cu=1;var Du=function(t){var e=new Ou(Cu);e.setUint8(t.displayMode);return ea(cu,e.data)};var Su=ls;var mu=function(){return ea(Su)};var yu=hs;var Lu=function(t){if(t.energyType){return ea(yu,[t.energyType])}return ea(yu)};var Vu=Eo;var Fu=function(){return ea(Vu)};var Yu=so;var xu=function(){return ea(Yu)};var Hu=Oo;var Xu=5;var Gu=function(t){var e=new Ou(Xu);e.setUint8(t.channel);e.setUint8(t.loadProfile);e.setDate(t.date);return ea(Hu,e.data)};var Wu=io;var Bu=3;var wu=function(t){var e=new Ou(Bu);e.setDate(t.date);return ea(Wu,e.data)};var Ku=Ao;var bu=3;var Qu=function(t){var e=new Ou(bu);e.setDate(t.date);return ea(Ku,e.data)};var Zu=no;var ju=3;var zu=function(t){var e=new Ou(ju);e.setDate(t.date);return ea(Zu,e.data)};var ku=To;var qu=3;var $u=function(t){var e=new Ou(qu);e.setDate(t.date);return ea(ku,e.data)};var Ju=Js;var tO=function(){return ea(Ju)};var eO=ao;var rO=function(){return ea(eO)};var aO=Co;var nO=function(){return ea(aO)};var iO=Po;var EO=function(t){return ea(iO,[t.displayMode].concat(s(t.order)))};var _O=Vs;var sO=kh;var oO=function(t){var e=new Ou(sO);e.setOperatorParameters(t);return ea(_O,e.data)};var vO=to;var TO=qh;var AO=function(t){var e=new Ou(TO);e.setOperatorParametersExtended(t);return ea(vO,e.data)};var RO=eo;var hO=$h;var uO=function(t){var e=new Ou(hO);e.setOperatorParametersExtended2(t);return ea(RO,e.data)};var OO=co;var fO=Jh;var PO=function(t){var e=new Ou(fO);e.setOperatorParametersExtended4(t);return ea(OO,e.data)};var gO={};var dO=As(gO);gO[un]=fn;gO[Pn]=gn;gO[dn]=ln;gO[Hn]=Xn;gO[Gn]=Wn;gO[Bn]=wn;gO[Bn]=wn;gO[Kn]=Qn;gO[Zn]=zn;gO[kn]=$n;gO[Jn]=ti;gO[ei]=ri;gO[oE]=TE;gO[AE]=RE;gO[hE]=uE;gO[OE]=fE;gO[PE]=dE;gO[lE]=IE;gO[LE]=FE;gO[YE]=xE;gO[HE]=XE;gO[GE]=BE;gO[wE]=bE;gO[QE]=ZE;gO[jE]=zE;gO[$E]=JE;gO[kE]=qE;gO[t_]=e_;gO[r_]=a_;gO[n_]=i_;gO[E_]=s_;gO[o_]=T_;gO[A_]=R_;gO[h_]=O_;gO[f_]=P_;gO[g_]=d_;gO[l_]=U_;gO[p_]=M_;gO[c_]=D_;gO[S_]=y_;gO[L_]=F_;gO[H_]=X_;gO[G_]=B_;gO[w_]=b_;gO[Q_]=j_;gO[z_]=q_;gO[$_]=ts;gO[es]=as;gO[ns]=is;gO[Es]=_s;gO[yo]=Lo;gO[gu]=du;gO[lu]=Iu;gO[pu]=Mu;gO[cu]=Du;gO[Su]=mu;gO[yu]=Lu;gO[Vu]=Fu;gO[Yu]=xu;gO[Hu]=Gu;gO[Wu]=wu;gO[Ku]=Qu;gO[Zu]=zu;gO[ku]=$u;gO[Ju]=tO;gO[eO]=rO;gO[aO]=nO;gO[iO]=EO;gO[_O]=oO;gO[vO]=AO;gO[RO]=uO;gO[OO]=PO;var lO=145;var UO=30;var IO=function(t){var e=[UO,t.length+2,0,lO].concat(s(t));return[].concat(s(e),[os(e)])};getBase64FromBytes=ta;toBytes=dO;setDataSegment=IO})();
//#endregion


/*
  Incoming arguments:
    * msg - JSON message payload downlink message json
    * msgType - type of message, for ex. 'ATTRIBUTES_UPDATED', 'POST_TELEMETRY_REQUEST', etc.
    * metadata - list of key-value pairs with additional data about the message
    * integrationMetadata - list of key-value pairs with additional data defined in Integration executing this converter

  Output must be an object with the following fields:
    * contentType - BINARY
    * data - payload in base64
*/

var bytes = toBytes(msg.commands);

// send nothing if not fit in a single data segment
if ( bytes.length > MAX_DATA_SEGMENT_SIZE ) {
    bytes = [];
} else {
    bytes = setDataSegment(bytes);
}

var result = {
    contentType: 'BINARY',
    data: getBase64FromBytes(bytes)
};

return result;
