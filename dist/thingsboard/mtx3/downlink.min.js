// IMPORTANT!!!
// This example only for default downlink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// encoded message should be less than this size
// to be able to send to a device
var MAX_DATA_SEGMENT_SIZE = 50;


//#region [autogenerated jooby-codec bundle from index.js]
var toBytes,setDataSegment,getBase64FromBytes;(function(){"use strict";function r(r,a){(null==a||a>r.length)&&(a=r.length);for(var E=0,e=Array(a);E<a;E++)e[E]=r[E];return e}function a(a){if(Array.isArray(a))return r(a)}function E(r,a,E){return(a=A(a))in r?Object.defineProperty(r,a,{value:E,enumerable:true,configurable:true,writable:true}):r[a]=E,r}function e(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(r){return a(r)||e(r)||T(r)||_()}function v(r,a){if("object"!=typeof r||!r)return r;var E=r[Symbol.toPrimitive];if(void 0!==E){var e=E.call(r,a);if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(r)}function A(r){var a=v(r,"string");return"symbol"==typeof a?a:a+""}function T(a,E){if(a){if("string"==typeof a)return r(a,E);var e={}.toString.call(a).slice(8,-1);return"Object"===e&&a.constructor&&(e=a.constructor.name),"Map"===e||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(a,E):void 0}}var R=1;var n=3;var O=4;var i=5;var o=7;var s=8;var N=9;var P=13;var C=15;var D=16;var S=17;var I=18;var f=19;var M=20;var g=21;var u=22;var d=23;var L=24;var l=25;var V=28;var c=30;var h=31;var m=40;var H=41;var F=42;var p=44;var U=45;var y=46;var X=47;var G=49;var Y=50;var W=51;var B=52;var x=53;var K=54;var b=57;var w=58;var Z=59;var Q=60;var j=61;var z=62;var k=65;var $=70;var q=74;var J=75;var rr=79;var ar=80;var Er=82;var er=83;var _r=88;var tr=89;var vr=91;var Ar=92;var Tr=93;var Rr=94;var nr=100;var Or=109;var ir=111;var or=112;var sr=113;var Nr=114;var Pr=116;var Cr=117;var Dr=118;var Sr=122;var Ir=Object.freeze({__proto__:null,activateRatePlan:f,getBv:or,getCorrectTime:z,getCriticalEvent:k,getCurrentStatusMeter:b,getCurrentValues:P,getDateTime:o,getDayDemand:u,getDayDemandExport:rr,getDayMaxDemand:G,getDayMaxDemandExport:_r,getDayMaxDemandPrevious:q,getDayProfile:Z,getDemand:Dr,getDemandParameters:Cr,getDeviceId:i,getDeviceType:O,getDisplayParam:Rr,getEnergy:C,getEnergyDayPrevious:n,getEnergyExport:vr,getEnergyExportDayPrevious:ar,getEventStatus:R,getEvents:W,getEventsCounters:B,getExtendedCurrentValues:w,getExtendedCurrentValues2:U,getHalfHourDemand:g,getHalfHourDemandExport:er,getHalfHourDemandPrevious:J,getHalfHourEnergies:ir,getMagneticFieldThreshold:Or,getMeterInfo:Sr,getMonthDemand:d,getMonthDemandExport:Er,getMonthMaxDemand:Y,getMonthMaxDemandExport:tr,getOperatorParameters:c,getOperatorParametersExtended3:sr,getRatePlanInfo:p,getSaldo:H,getSaldoParameters:y,getSeasonProfile:Q,getSpecialDay:j,getVersion:m,prepareRatePlan:M,resetPowerMaxDay:x,resetPowerMaxMonth:K,runTariffPlan:$,setAccessKey:N,setCorrectDateTime:Ar,setCorrectTime:V,setDateTime:s,setDayProfile:D,setDemandParameters:Pr,setDisplayParam:Tr,setOperatorParameters:h,setOperatorParametersExtended3:Nr,setSaldo:F,setSaldoParameters:X,setSeasonProfile:S,setSpecialDay:I,setSpecialOperation:nr,turnRelayOff:l,turnRelayOn:L});var fr=120;var Mr=121;var gr=254;var ur=255;var dr=Object.freeze({__proto__:null,activateRatePlan:f,errorDataFrameResponse:ur,errorResponse:gr,getBv:or,getCorrectTime:z,getCriticalEvent:k,getCurrentStatusMeter:b,getCurrentValues:P,getDateTime:o,getDayDemand:u,getDayDemandExport:rr,getDayEnergies:fr,getDayMaxDemand:G,getDayMaxDemandExport:_r,getDayMaxDemandPrevious:q,getDayMaxPower:Mr,getDayProfile:Z,getDemand:Dr,getDemandParameters:Cr,getDeviceId:i,getDeviceType:O,getDisplayParam:Rr,getEnergy:C,getEnergyDayPrevious:n,getEnergyExport:vr,getEnergyExportDayPrevious:ar,getEventStatus:R,getEvents:W,getEventsCounters:B,getExtendedCurrentValues:w,getExtendedCurrentValues2:U,getHalfHourDemand:g,getHalfHourDemandExport:er,getHalfHourDemandPrevious:J,getHalfHourEnergies:ir,getMagneticFieldThreshold:Or,getMeterInfo:Sr,getMonthDemand:d,getMonthDemandExport:Er,getMonthMaxDemand:Y,getMonthMaxDemandExport:tr,getOperatorParameters:c,getOperatorParametersExtended3:sr,getRatePlanInfo:p,getSaldo:H,getSaldoParameters:y,getSeasonProfile:Q,getSpecialDay:j,getVersion:m,prepareRatePlan:M,resetPowerMaxDay:x,resetPowerMaxMonth:K,runTariffPlan:$,setAccessKey:N,setCorrectDateTime:Ar,setCorrectTime:V,setDateTime:s,setDayProfile:D,setDemandParameters:Pr,setDisplayParam:Tr,setOperatorParameters:h,setOperatorParametersExtended3:Nr,setSaldo:F,setSaldoParameters:X,setSeasonProfile:S,setSpecialDay:I,setSpecialOperation:nr,turnRelayOff:l,turnRelayOn:L});var Lr=function(r){return btoa(r.map(function(r){return String.fromCharCode(r)}).join(""))};var lr=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return[r,a.length].concat(t(a))};var Vr=function(r){var a={};for(var E in r){var e=r[E];a[e]=E}return a};Vr(dr);var cr=0;var hr=128;var mr=129;var Hr=130;var Fr=131;var pr=132;var Ur=133;var yr=134;var Xr=135;var Gr=136;var Yr=137;var Wr=144;var Br=145;var xr=146;var Kr=147;var br=149;var wr=151;var Zr=152;var Qr=153;var jr=154;var zr=155;var kr=156;var $r=159;var qr=160;var Jr=240;var ra=Object.freeze({__proto__:null,ACCESS_DENIED:Kr,BAD_ARRAY_INDEX:yr,BAD_BLOCK_NUMBER:kr,BAD_DATA_LENGTH:Ur,BAD_MESSAGE:pr,BAD_RATE_PLAN_ID:Gr,BAD_RATE_PLAN_SIZE:Yr,BAD_RESPONSE_LENGTH:Wr,BAD_SALDO_WRITE:br,BLOCKED_METER:wr,CALIBRATION_DISABLED:xr,DECRYPTION_FAILURE:Hr,INTERNAL:Jr,INVALID_CORRECTION_INTERVAL:jr,NOT_ALIGNED_DATA:mr,NOT_PREPARED_RATE_PLAN:Xr,NO_DATA_FOR_DATE:Br,OK:cr,OUT_OFF_RANGE:$r,SET_METER_TYPE_FAILURE:qr,TIME_CORRECTION_FAILURE:Qr,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:zr,UNENCRYPTED_COMMAND_DISABLED:Zr,UNKNOWN_COMMAND:hr,UNKNOWN_PROTOCOL:Fr});Vr(ra);var aa=0;var Ea=1;var ea=2;var _a=3;var ta=Object.freeze({__proto__:null,READ_ONLY:_a,READ_WRITE:ea,ROOT:Ea,UNENCRYPTED:aa});var va=ur;var Aa={encrypt:function(){},decrypt:function(){}};var Ta=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var E=a;r.forEach(function(r){E^=r});return E};var Ra=E(E(E(E({},aa,0),_a,1),ea,2),Ea,3);var na=function(r){var a=_a;r.forEach(function(r){var E;if("accessLevel"in r){E=r.accessLevel}if("command"in r){E=r.command.accessLevel}if(Ra[E]>Ra[a]){a=E}});return a};var Oa=16;var ia=[0];var oa=function(r){return function(a,E){var e=E.messageId,_=e===void 0?1:e,v=E.accessLevel,A=v===void 0?na(a):v,T=E.aesKey;var R=a.flatMap(function(a){if("id"in a){return r[a.id](a.parameters||{})}if("command"in a){return a.command.bytes}throw new Error("wrong command format")});var n=A|16;var O=[_,n];var i=a.length===1&&"id"in a[0]&&a[0].id===va;if(i){return O.concat(R)}var o=[].concat(n,R,ia);if(A!==aa){var s=(o.length+1)%Oa;if(s){o=o.concat(new Array(Oa-s).fill(0))}}o=o.concat(Ta(o));if(T&&A!==aa){o=t(Aa.encrypt(T,o))}return O.concat(o)}};Vr(Ir);var sa=R;var Na=function(){return lr(sa)};var Pa=n;var Ca=function(r){if(r.energyType){return lr(Pa,[r.energyType])}return lr(Pa)};var Da=O;var Sa=function(){return lr(Da)};var Ia=i;var fa=function(){return lr(Ia)};var Ma=o;var ga=function(){return lr(Ma)};var ua=1;var da=2;var La=3;var la=4;var Va=Math.log,ca=Math.pow,ha=Math.LN2;var ma=function(r,a,E,e,_){var t,v,A=_*8-e-1,T=(1<<A)-1,R=T>>1,n=-7,O=E?_-1:0,i=E?-1:1,o=r[a+O];O+=i;t=o&(1<<-n)-1;o>>=-n;n+=A;for(;n>0;t=t*256+r[a+O],O+=i,n-=8);v=t&(1<<-n)-1;t>>=-n;n+=e;for(;n>0;v=v*256+r[a+O],O+=i,n-=8);if(t===0){t=1-R}else if(t===T){return v?NaN:o?-Infinity:Infinity}else{v=v+ca(2,e);t=t-R}return(o?-1:1)*v*ca(2,t-e)};var Ha=function(r,a,E,e,_,t){var v,A,T,R=t*8-_-1,n=(1<<R)-1,O=n>>1,i=_===23?ca(2,-24)-ca(2,-77):0,o=e?0:t-1,s=e?1:-1,N=E<0||E===0&&1/E<0?1:0;E<0&&(E=-E);if(E!==E||E===Infinity){A=E!==E?1:0;v=n}else{v=Va(E)/ha|0;if(E*(T=ca(2,-v))<1){v--;T*=2}if(v+O>=1){E+=i/T}else{E+=i*ca(2,1-O)}if(E*T>=2){v++;T/=2}if(v+O>=n){A=0;v=n}else if(v+O>=1){A=(E*T-1)*ca(2,_);v=v+O}else{A=E*ca(2,O-1)*ca(2,_);v=0}}for(;_>=8;r[a+o]=A&255,o+=s,A/=256,_-=8);v=v<<_|A;R+=_;for(;R>0;r[a+o]=v&255,o+=s,v/=256,R-=8);r[a+o-s]|=N*128};var Fa=[1,0];var pa=[2,1,0];var Ua=[3,2,1,0];var ya=[0,1];var Xa=[0,1,2];var Ga=[0,1,2,3];var Ya=function(r,a){return r[a]};var Wa=function(r,a,E){var e=E?ya:Fa;var _=r[a+e[0]];var t=r[a+e[1]]<<8;return _|t};var Ba=function(r,a,E){var e=E?Xa:pa;var _=r[a+e[0]];var t=r[a+e[1]]<<8;var v=r[a+e[2]]<<16;return _|t|v};var xa=function(r,a,E){var e=E?Ga:Ua;var _=r[a+e[3]]*16777216;var t=r[a+e[2]]*65536;var v=r[a+e[1]]*256;var A=r[a+e[0]];return _+t+v+A};var Ka=function(r,a,E){r[a]=E&255};var ba=function(r,a,E,e){var _=e?ya:Fa;r[a+_[0]]=E&255;r[a+_[1]]=E>>>8&255};var wa=function(r,a,E,e){var _=e?Xa:pa;r[a+_[0]]=E&255;r[a+_[1]]=E>>>8&255;r[a+_[2]]=E>>>16&255};var Za=function(r,a,E,e){var _=e?Ga:Ua;r[a+_[0]]=E&255;r[a+_[1]]=E>>>8&255;r[a+_[2]]=E>>>16&255;r[a+_[3]]=E>>>24&255};function Qa(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof r==="number"){var E=new Array(r).fill(0);this.data=E}else{this.data=r}this.offset=0;this.isLittleEndian=a}Qa.prototype={toUint8Array:function(){return this.data},seek:function(r){if(r<0||r>=this.data.length){throw new Error("Invalid position.")}this.offset=r},setInt8:function(r){Ka(this.data,this.offset,r<0?r|256:r);this.offset+=ua},getInt8:function(){var r=Ya(this.data,this.offset);this.offset+=ua;return r&128?r^-256:r},setUint8:function(r){Ka(this.data,this.offset,r);this.offset+=ua},getUint8:function(){var r=Ya(this.data,this.offset);this.offset+=ua;return r},setInt16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ba(this.data,this.offset,r<0?r|65536:r,a);this.offset+=da},getInt16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Wa(this.data,this.offset,r);this.offset+=da;return a&32768?a^-65536:a},setUint16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ba(this.data,this.offset,r,a);this.offset+=da},getUint16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Wa(this.data,this.offset,r);this.offset+=da;return a},setInt24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;wa(this.data,this.offset,r<0?r|16777216:r,a);this.offset+=La},getInt24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Ba(this.data,this.offset,r);this.offset+=La;return a&8388608?a^-16777216:a},setUint24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;wa(this.data,this.offset,r,a);this.offset+=La},getUint24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Ba(this.data,this.offset,r);this.offset+=La;return a},setInt32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Za(this.data,this.offset,r<0?r|4294967296:r,a);this.offset+=la},getInt32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=xa(this.data,this.offset,r);this.offset+=la;return a&2147483648?a^-4294967296:a},setUint32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Za(this.data,this.offset,r,a);this.offset+=la},getUint32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=xa(this.data,this.offset,r);this.offset+=la;return a},setFloat32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Ha(this.data,this.offset,r,a,23,4);this.offset+=la},getFloat32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=ma(this.data,this.offset,r,23,4);this.offset+=la;return a},setString:function(r){this.setUint8(r.length);for(var a=0;a<r.length;++a){this.setUint8(r.charCodeAt(a))}},getString:function(){var r=this.getUint8();var a=this.offset+r;var E=[];while(this.offset<a){E.push(String.fromCharCode(this.getUint8()))}return E.join("")},getBytesToOffset:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,r)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=a+r;return this.data.slice(a,this.offset)},setBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var E=this.data;E.splice.apply(E,[a,r.length].concat(t(r)));this.data=E;this.offset=a+r.length}};Object.defineProperties(Qa.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var ja=80;var za=81;var ka=82;var $a=83;var qa=84;var Ja=85;var rE=86;var aE=87;var EE=88;var eE=89;var _E=90;var tE=91;var vE=255;var AE=Object.freeze({__proto__:null,DATA_REQUEST:ja,DATA_RESPONSE:za,FRAGMENT_REQUEST:_E,FRAGMENT_RESPONSE:tE,IDENT_REQUEST:ka,IDENT_RESPONSE:$a,INVALID:vE,L2_CHECK_ADDRESS_REQUEST:rE,L2_CHECK_ADDRESS_RESPONSE:aE,L2_RM_ADDRESS_REQUEST:EE,L2_RM_ADDRESS_RESPONSE:eE,L2_SET_ADDRESS_REQUEST:qa,L2_SET_ADDRESS_RESPONSE:Ja});Vr(AE);Vr(ta);var TE=0;var RE=1;var nE=2;var OE=3;var iE=4;var oE=5;var sE=6;var NE=7;var PE=8;var CE=9;var DE=10;var SE=11;var IE=12;var fE=13;var ME=14;var gE=Object.freeze({__proto__:null,CASE_MODULE_OPEN:DE,CASE_OPEN:TE,CASE_TERMINAL_OPEN:CE,DEVICE_FAILURE:PE,ERROR_ACCESS:oE,MAGNETIC_ON:RE,PARAMETERS_UPDATE_LOCAL:OE,PARAMETERS_UPDATE_REMOTE:nE,PROTECTION_RESET_EM:fE,PROTECTION_RESET_MAGNETIC:ME,RESTART:iE,TARIFF_TABLE_GET:IE,TARIFF_TABLE_SET:SE,TIME_CORRECT:NE,TIME_SET:sE});Vr(gE);var uE=1;var dE=2;var LE=3;var lE=16;var VE=17;var cE=18;var hE=19;var mE=20;var HE=21;var FE=32;var pE=33;var UE=34;var yE=35;var XE=36;var GE=37;var YE=38;var WE=39;var BE=40;var xE=41;var KE=49;var bE=50;var wE=51;var ZE=52;var QE=53;var jE=54;var zE=55;var kE=56;var $E=57;var qE=60;var JE=61;var re=62;var ae=63;var Ee=64;var ee=65;var _e=66;var te=67;var ve=68;var Ae=69;var Te=70;var Re=71;var ne=72;var Oe=73;var ie=74;var oe=75;var se=76;var Ne=77;var Pe=78;var Ce=79;var De=80;var Se=81;var Ie=82;var fe=83;var Me=84;var ge=85;var ue=86;var de=87;var Le=88;var le=89;var Ve=96;var ce=97;var he=98;var me=99;var He=100;var Fe=101;var pe=102;var Ue=103;var ye=104;var Xe=105;var Ge=112;var Ye=113;var We=114;var Be=115;var xe=116;var Ke=117;var be=118;var we=119;var Ze=120;var Qe=121;var je=122;var ze=123;var ke=124;var $e=125;var qe=126;var Je=144;var r_=145;var a_=147;var E_=148;var e_=152;var __=156;var t_=157;var v_=158;var A_=159;var T_=160;var R_=161;var n_=162;var O_=176;var i_=177;var o_=178;var s_=179;var N_=180;var P_=181;var C_=182;var D_=183;var S_=185;var I_=186;var f_=224;var M_=225;var g_=226;var u_=227;var d_=228;var L_=229;var l_=230;var V_=231;var c_=232;var h_=Object.freeze({__proto__:null,ACCESS_ERROR:VE,ACCESS_LOCKED:lE,ACC_PARAMETERS_EXT_FAULT:Be,ACC_PARAMETERS_FAULT:We,BAD_TEST_EEPROM:ye,BAD_TEST_FRAM:Xe,BATTERY_FAULT:fe,BATTERY_OK:Ie,BIPOLAR_POWER_FAULT:N_,BIPOLAR_POWER_OK:P_,BLOCK_TARIFF_FAULT:Ke,CALC_PERIOD_FAULT:xe,CALIBRATION_FAULT:ge,CALIBRATION_FLAG_RESET:Ue,CALIBRATION_FLAG_SET:pe,CALIBRATION_OK:Me,CALIBRATION_PARAMETERS_FAULT:be,CASE_CLOSED:hE,CASE_MODULE_CLOSED:$e,CASE_MODULE_OPENED:ke,CASE_OPENED:cE,CASE_TERMINAL_BOX_CLOSED:ze,CASE_TERMINAL_BOX_OPENED:je,CHANGE_ACCESS_KEY0:FE,CHANGE_ACCESS_KEY1:pE,CHANGE_ACCESS_KEY2:UE,CHANGE_ACCESS_KEY3:yE,CHANGE_COR_TIME:xE,CHANGE_PARAMETERS_CHANNEL:S_,CHANGE_PARAMETERS_LOCAL:XE,CHANGE_PARAMETERS_REMOTE:GE,CHANGE_TARIFF_TABLE:bE,CHANGE_TARIFF_TABLE_2:e_,CLOCK_FAULT:de,CLOCK_OK:ue,CMD_RELAY_2_OFF:ce,CMD_RELAY_2_ON:Ve,CMD_RELAY_OFF:BE,CMD_RELAY_ON:WE,CMD_SET_DATETIME:YE,CROSS_ZERO_EN_T1:he,CROSS_ZERO_EN_T2:me,CROSS_ZERO_EN_T3:He,CROSS_ZERO_EN_T4:Fe,CROSS_ZERO_EXPORT_EN_T1:v_,CROSS_ZERO_EXPORT_EN_T2:A_,CROSS_ZERO_EXPORT_EN_T3:T_,CROSS_ZERO_EXPORT_EN_T4:R_,CURRENT_UNEQUAL_FAULT:o_,CURRENT_UNEQUAL_OK:s_,EM_MAGNETIC_INFLUENCE_OFF:i_,EM_MAGNETIC_INFLUENCE_ON:O_,ENERGY_REGISTER_FAULT:uE,ENERGY_REGISTER_OVERFLOW:KE,F_MAX_OK:ne,F_MAX_OVER:Oe,F_MIN_OK:ie,F_MIN_OVER:oe,I_MAX_OK:se,I_MAX_OVER:Ne,MAGNETIC_INFLUENCE_OFF:HE,MAGNETIC_INFLUENCE_ON:mE,OPERATOR_PARAMETERS_VALUES_FAULT:LE,POWER_A_OFF:Le,POWER_A_ON:le,POWER_B_OFF:JE,POWER_B_ON:qE,POWER_C_OFF:ae,POWER_C_ON:re,POWER_GOOD_DIO:qe,POWER_OVER_RELAY_OFF:t_,POWER_SALDO_OK:De,POWER_SALDO_OVER:Se,P_MAX_A_MINUS_OK:V_,P_MAX_A_MINUS_OVER:c_,P_MAX_OK:Pe,P_MAX_OVER:Ce,RELAY_HARD_BAD_OFF:Je,RELAY_HARD_BAD_ON:a_,RELAY_HARD_OFF:E_,RELAY_HARD_ON:r_,RELAY_OFF:zE,RELAY_OFF_BAD_SALDO:I_,RELAY_ON:jE,RESET_EM_FLAG:C_,RESET_MAGNET_FLAG:D_,RESTART:kE,SALDO_EN_FAULT:Ze,SALDO_PARAMETERS_FAULT:Ye,SET_DEMAND_EN_10MIN:u_,SET_DEMAND_EN_15MIN:d_,SET_DEMAND_EN_1MIN:f_,SET_DEMAND_EN_30MIN:L_,SET_DEMAND_EN_3MIN:M_,SET_DEMAND_EN_5MIN:g_,SET_DEMAND_EN_60MIN:l_,SET_NEW_SALDO:Ge,SET_SALDO_PARAM:__,SET_TARIFF_TABLE:wE,SUMMER_TIME:ZE,TIME_CORRECT:Qe,TIME_CORRECT_NEW:n_,T_MAX_OK:ve,T_MAX_OVER:Ae,T_MIN_OK:Te,T_MIN_OVER:Re,VENDOR_PAR_FAULT:dE,V_MAX_OK:Ee,V_MAX_OVER:ee,V_MIN_OK:_e,V_MIN_OVER:te,WATCHDOG_RESTART:$E,WINTER_SUMMER_FAULT:we,WINTER_TIME:QE});Vr(h_);var m_=1;var H_=2;var F_=3;var p_=4;var U_=5;var y_=6;var X_=7;var G_=8;var Y_=9;var W_=10;var B_=11;var x_=12;var K_=13;var b_=14;var w_=15;var Z_=16;var Q_=17;var j_=18;var z_=19;var k_=20;var $_=21;var q_=22;var J_=23;var rt=24;var at=25;var Et=26;var et=28;var _t=30;var tt=31;var vt=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:p_,ACTIVE_ENERGY_T2:U_,ACTIVE_ENERGY_T3:y_,ACTIVE_ENERGY_T4:X_,ACTIVE_POWER_IN_NEUTRAL:Y_,ACTIVE_POWER_PER_PHASE:G_,BATTERY_VOLTAGE:q_,CURRENT_BALANCE:_t,CURRENT_IN_NEUTRAL:B_,CURRENT_IN_PHASE:W_,DATE_MONTH_YEAR:b_,EXPORTED_ACTIVE_ENERGY_T1:Z_,EXPORTED_ACTIVE_ENERGY_T2:Q_,EXPORTED_ACTIVE_ENERGY_T3:j_,EXPORTED_ACTIVE_ENERGY_T4:z_,HOUR_MINUTE_SECOND:K_,MAGNET_INDUCTION:et,OPTOPORT_SPEED:tt,POWER_FACTOR_PHASE_A:k_,POWER_FACTOR_PHASE_B:$_,POWER_THRESHOLD_T1:J_,POWER_THRESHOLD_T2:rt,POWER_THRESHOLD_T3:at,POWER_THRESHOLD_T4:Et,SET_ALL_SEGMENT_DISPLAY:m_,SOFTWARE_VERSION:H_,TOTAL_ACTIVE_ENERGY:F_,TOTAL_EXPORTED_ACTIVE_ENERGY:w_,VOLTAGE:x_});Vr(vt);var At=2400;var Tt=9600;var Rt={rs485orTwi:{0:Tt,2:At,4:Tt},optoport:{0:At,2:At,4:Tt}};({rs485orTwi:Vr(Rt.rs485orTwi),optoport:Vr(Rt.optoport)});var nt=function(r,a){r.setUint8(a.isSummerTime?1:0);r.setUint8(a.seconds);r.setUint8(a.minutes);r.setUint8(a.hours);r.setUint8(a.day||0);r.setUint8(a.date);r.setUint8(a.month);r.setUint8(a.year)};var Ot=function(r,a){r.setUint8(a.year);r.setUint8(a.month);r.setUint8(a.date)};var it=s;var ot=8;var st=function(r){var a=new Qa(ot,false);nt(a,r);return lr(it,a.data)};var Nt=0;var Pt=1;var Ct=C;var Dt=function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=new Qa(r?.energyType?Pt:Nt,false);if(r?.energyType){a.setUint8(r.energyType)}return lr(Ct,a.data)};var St=g;var It=3;var ft=function(r){var a=new Qa(It,false);Ot(a,r.date);return lr(St,a.data)};var Mt=1;var gt=3;var ut=4;var dt=5;var Lt=7;var lt=8;var Vt=9;var ct=13;var ht=15;var mt=16;var Ht=17;var Ft=18;var pt=19;var Ut=20;var yt=21;var Xt=22;var Gt=23;var Yt=24;var Wt=25;var Bt=28;var xt=30;var Kt=31;var bt=40;var wt=41;var Zt=42;var Qt=44;var jt=46;var zt=47;var kt=49;var $t=50;var qt=51;var Jt=52;var rv=53;var av=54;var Ev=57;var ev=58;var _v=59;var tv=60;var vv=61;var Av=62;var Tv=63;var Rv=64;var nv=69;var Ov=70;var iv=71;var ov=72;var sv=73;var Nv=78;var Pv=79;var Cv=80;var Dv=82;var Sv=83;var Iv=84;var fv=85;var Mv=86;var gv=88;var uv=89;var dv=90;var Lv=92;var lv=93;var Vv=94;var cv=100;var hv=109;var mv=111;var Hv=112;var Fv=113;var pv=114;var Uv=116;var yv=117;var Xv=118;var Gv=122;var Yv=Object.freeze({__proto__:null,activateRatePlan:pt,getBv:Hv,getCorrectTime:Av,getCriticalEvent:Mv,getCurrentStatusMeter:Ev,getCurrentValues:ct,getDateTime:Lt,getDayDemand:Xt,getDayDemandExport:Pv,getDayMaxDemand:kt,getDayMaxDemandExport:gv,getDayProfile:_v,getDemand:Xv,getDeviceId:dt,getDeviceType:ut,getDisplayParam:Vv,getEnergy:ht,getEnergyDayPrevious:gt,getEnergyExport:Nv,getEnergyExportDayPrevious:Cv,getEventStatus:Mt,getEvents:qt,getEventsCounters:Jt,getExtendedCurrentValues:ev,getHalfHourDemand:yt,getHalfHourDemandChannel:dv,getHalfHourDemandExport:Sv,getHalfHourDemandVare:sv,getHalfHourDemandVareExport:fv,getHalfHourDemandVari:ov,getHalfHourDemandVariExport:Iv,getHalfHourEnergies:mv,getMagneticFieldThreshold:hv,getMeterInfo:Gv,getMonthDemand:Gt,getMonthDemandExport:Dv,getMonthMaxDemand:$t,getMonthMaxDemandExport:uv,getOperatorParameters:xt,getOperatorParametersExtended:Tv,getOperatorParametersExtended2:iv,getOperatorParametersExtended3:Fv,getOperatorParametersExtended4:yv,getRatePlanInfo:Qt,getSaldo:wt,getSaldoParameters:jt,getSeasonProfile:tv,getSpecialDay:vv,getVersion:bt,prepareRatePlan:Ut,resetPowerMaxDay:rv,resetPowerMaxMonth:av,runTariffPlan:Ov,setAccessKey:Vt,setCorrectDateTime:Lv,setCorrectTime:Bt,setDateTime:lt,setDayProfile:mt,setDisplayParam:lv,setOperatorParameters:Kt,setOperatorParametersExtended:Rv,setOperatorParametersExtended2:nv,setOperatorParametersExtended3:pv,setOperatorParametersExtended4:Uv,setSaldo:Zt,setSaldoParameters:zt,setSeasonProfile:Ht,setSpecialDay:Ft,setSpecialOperation:cv,turnRelayOff:Wt,turnRelayOn:Yt});Vr(Yv);var Wv=3;var Bv=4;var xv=Xt;var Kv=function(r){var a=new Qa(r?.energyType?Bv:Wv,false);Ot(a,r?.date);if(r?.energyType){a.setUint8(r.energyType)}return lr(xv,a.data)};var bv=m;var wv=function(){return lr(bv)};var Zv=Mv;var Qv=function(r){return lr(Zv,[r.event,r.index])};var jv=1;var zv=2;var kv=3;var $v=4;var qv=17;var Jv=18;var rA=19;var aA=20;var EA=21;var eA=22;var _A=23;var tA=32;var vA=33;var AA=34;var TA=35;var RA=36;var nA=37;var OA=38;var iA=39;var oA=40;var sA=49;var NA=50;var PA=51;var CA=52;var DA=53;var SA=54;var IA=55;var fA=56;var MA=57;var gA=64;var uA=65;var dA=66;var LA=67;var lA=68;var VA=69;var cA=70;var hA=71;var mA=72;var HA=73;var FA=74;var pA=75;var UA=76;var yA=77;var XA=78;var GA=79;var YA=80;var WA=81;var BA=82;var xA=83;var KA=84;var bA=85;var wA=86;var ZA=87;var QA=88;var jA=89;var zA=90;var kA=91;var $A=92;var qA=93;var JA=94;var rT=95;var aT=96;var ET=97;var eT=98;var _T=99;var tT=100;var vT=101;var AT=102;var TT=103;var RT=104;var nT=105;var OT=106;var iT=107;var oT=108;var sT=109;var NT=110;var PT=111;var CT=112;var DT=113;var ST=114;var IT=115;var fT=116;var MT=117;var gT=118;var uT=119;var dT=120;var LT=121;var lT=122;var VT=123;var cT=124;var hT=125;var mT=126;var HT=127;var FT=128;var pT=129;var UT=130;var yT=131;var XT=132;var GT=133;var YT=134;var WT=135;var BT=136;var xT=137;var KT=138;var bT=139;var wT=140;var ZT=141;var QT=142;var jT=143;var zT=144;var kT=145;var $T=147;var qT=148;var JT=149;var rR=150;var aR=151;var ER=152;var eR=153;var _R=154;var tR=155;var vR=156;var AR=157;var TR=158;var RR=159;var nR=160;var OR=161;var iR=162;var oR=163;var sR=164;var NR=165;var PR=166;var CR=167;var DR=168;var SR=169;var IR=170;var fR=171;var MR=172;var gR=173;var uR=174;var dR=175;var LR=176;var lR=177;var VR=178;var cR=179;var hR=224;var mR=225;var HR=226;var FR=227;var pR=228;var UR=229;var yR=230;var XR=231;var GR=232;var YR=Object.freeze({__proto__:null,ACCESS_ERROR:rA,ACCESS_LOCKED:qv,ACCESS_UNLOCKED:Jv,ACCUMULATION_PARAMETERS_EXT_FAULT:YT,ACCUMULATION_PARAMETERS_FAULT:GT,BAD_TEST_EEPROM:pT,BAD_TEST_FRAM:UT,BATTERY_FAULT:nT,BATTERY_OK:RT,BLOCK_TARIFF_FAULT:BT,CALCULATION_PERIOD_FAULT:WT,CALIBRATION_FAULT:iT,CALIBRATION_FLAG_RESET:FT,CALIBRATION_FLAG_SET:HT,CALIBRATION_OK:OT,CALIBRATION_PARAMETERS_FAULT:xT,CASE_CLOSED:EA,CASE_MODULE_CLOSED:tR,CASE_MODULE_OPENED:_R,CASE_OPENED:aA,CASE_TERMINAL_BOX_CLOSED:aR,CASE_TERMINAL_BOX_OPENED:rR,CHANGE_ACCESS_KEY0:tA,CHANGE_ACCESS_KEY1:vA,CHANGE_ACCESS_KEY2:AA,CHANGE_ACCESS_KEY3:TA,CHANGE_COR_TIME:CT,CHANGE_PARAMETERS_LOCAL:RA,CHANGE_PARAMETERS_REMOTE:nA,CHANGE_PARAMETER_CHANNEL1:TR,CHANGE_PARAMETER_CHANNEL2:RR,CHANGE_PARAMETER_CHANNEL3:nR,CHANGE_PARAMETER_CHANNEL4:OR,CHANGE_PARAMETER_CHANNEL5:iR,CHANGE_PARAMETER_CHANNEL6:oR,CHANGE_TARIFF_TABLE:NA,CHANGE_TARIFF_TABLE_2:ER,CHANGE_TARIFF_TABLE_3:eR,CLOCK_FAULT:ET,CLOCK_OK:aT,CMD_RELAY_2_OFF:ST,CMD_RELAY_2_ON:DT,CMD_RELAY_OFF:oA,CMD_RELAY_ON:iA,CMD_SET_DATETIME:OA,COEFFICIENT_TRANSFORMATION_CHANGE:jT,CROSS_ZERO_EN_T1:IT,CROSS_ZERO_EN_T2:fT,CROSS_ZERO_EN_T3:MT,CROSS_ZERO_EN_T4:gT,CROSS_ZERO_EXPORT_EN_T1:sR,CROSS_ZERO_EXPORT_EN_T2:NR,CROSS_ZERO_EXPORT_EN_T3:PR,CROSS_ZERO_EXPORT_EN_T4:CR,CROSS_ZERO_EXPORT_VARE1:MR,CROSS_ZERO_EXPORT_VARE2:gR,CROSS_ZERO_EXPORT_VARE3:uR,CROSS_ZERO_EXPORT_VARE4:dR,CROSS_ZERO_EXPORT_VARI1:DR,CROSS_ZERO_EXPORT_VARI2:SR,CROSS_ZERO_EXPORT_VARI3:IR,CROSS_ZERO_EXPORT_VARI4:fR,CROSS_ZERO_VARE_T1:VT,CROSS_ZERO_VARE_T2:cT,CROSS_ZERO_VARE_T3:hT,CROSS_ZERO_VARE_T4:mT,CROSS_ZERO_VARI_T1:uT,CROSS_ZERO_VARI_T2:dT,CROSS_ZERO_VARI_T3:LT,CROSS_ZERO_VARI_T4:lT,EM_MAGNETIC_INFLUENCE_OFF:lR,EM_MAGNETIC_INFLUENCE_ON:LR,ENERGY_REGISTER_OVERFLOW:sA,ENERGY_T1_FAULT:jv,ENERGY_T2_FAULT:zv,ENERGY_T3_FAULT:kv,ENERGY_T4_FAULT:$v,F_MAX_OK:UA,F_MAX_OVER:yA,F_MIN_OK:XA,F_MIN_UNDER:GA,IA_MAX_OK:KA,IA_MAX_OVER:bA,IB_MAX_OK:wA,IB_MAX_OVER:ZA,IC_MAX_OK:QA,IC_MAX_OVER:jA,IDIFF_OK:JA,IDIFF_OVER:rT,MAGNETIC_INFLUENCE_OFF:_A,MAGNETIC_INFLUENCE_ON:eA,METER_TROUBLE:JT,OPERATOR_PARAMETERS_EXT_VALUES_FAULT:wT,OPERATOR_PARAMETERS_VALUES_FAULT:bT,O_PARAMETERS_FAULT:PT,O_PARAMETERS_OK:NT,PA_MAX_OK:zA,PA_MAX_OVER:kA,POWER_A_OFF:TT,POWER_A_ON:AT,POWER_B_OFF:vT,POWER_B_ON:tT,POWER_C_OFF:_T,POWER_C_ON:eT,POWER_OVER_RELAY_OFF:AR,PV_MAX_OK:$A,PV_MAX_OVER:qA,P_MAX_A_MINUS_OK:XR,P_MAX_A_MINUS_OVER:GR,RELAY_HARD_BAD_OFF:zT,RELAY_HARD_BAD_ON:$T,RELAY_HARD_OFF:qT,RELAY_HARD_ON:kT,RELAY_OFF:IA,RELAY_ON:SA,RESET_EM_FLAG:VR,RESET_MAGNETIC_FLAG:cR,RESTART:fA,SALDO_ENERGY_FAULT:ZT,SALDO_PARAMETERS_FAULT:XT,SET_DEMAND_EN_10_MIN:FR,SET_DEMAND_EN_15_MIN:pR,SET_DEMAND_EN_1_MIN:hR,SET_DEMAND_EN_30_MIN:UR,SET_DEMAND_EN_3_MIN:mR,SET_DEMAND_EN_5_MIN:HR,SET_DEMAND_EN_60_MIN:yR,SET_NEW_SALDO:yT,SET_SALDO_PARAM:vR,SET_TARIFF_TABLE:PA,SUMMER_TIME:CA,TIME_CORRECT:QT,T_MAX_OK:YA,T_MAX_OVER:WA,T_MIN_OK:BA,T_MIN_UNDER:xA,VA_MAX_OK:gA,VA_MAX_OVER:uA,VA_MIN_OK:dA,VA_MIN_UNDER:LA,VB_MAX_OK:lA,VB_MAX_OVER:VA,VB_MIN_OK:cA,VB_MIN_UNDER:hA,VC_MAX_OK:mA,VC_MAX_OVER:HA,VC_MIN_OK:FA,VC_MIN_UNDER:pA,V_PARAMETERS_FAULT:sT,V_PARAMETERS_OK:oT,WATCHDOG_RESTART:MA,WINTER_SUMMER_FAULT:KT,WINTER_TIME:DA});Vr(YR);var WR=1;var BR=2;var xR=3;var KR=4;var bR=5;var wR=6;var ZR=7;var QR=8;var jR=9;var zR=10;var kR=11;var $R=12;var qR=13;var JR=14;var rn=15;var an=16;var En=17;var en=18;var _n=19;var tn=20;var vn=21;var An=22;var Tn=23;var Rn=24;var nn=25;var On=26;var on=27;var sn=28;var Nn=29;var Pn=30;var Cn=31;var Dn=32;var Sn=33;var In=34;var fn=35;var Mn=36;var gn=37;var un=38;var dn=39;var Ln=40;var ln=41;var Vn=42;var cn=43;var hn=44;var mn=45;var Hn=46;var Fn=47;var pn=48;var Un=49;var yn=50;var Xn=51;var Gn=52;var Yn=53;var Wn=54;var Bn=55;var xn=56;var Kn=57;var bn=58;var wn=59;var Zn=60;var Qn=61;var jn=62;var zn=63;var kn=64;var $n=65;var qn=66;var Jn=67;var rO=68;var aO=69;var EO=70;var eO=71;var _O=72;var tO=73;var vO=74;var AO=75;var TO=76;var RO=77;var nO=78;var OO=79;var iO=80;var oO=81;var sO=82;var NO=83;var PO=84;var CO=85;var DO=86;var SO=87;var IO=88;var fO=89;var MO=90;var gO=91;var uO=92;var dO=93;var LO=94;var lO=95;var VO=96;var cO=97;var hO=98;var mO=99;var HO=100;var FO=101;var pO=102;var UO=103;var yO=104;var XO=105;var GO=106;var YO=107;var WO=108;var BO=109;var xO=110;var KO=111;var bO=112;var wO=113;var ZO=114;var QO=115;var jO=116;var zO=117;var kO=118;var $O=119;var qO=120;var JO=121;var ri=122;var ai=123;var Ei=124;var ei=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:KR,ACTIVE_ENERGY_T2:bR,ACTIVE_ENERGY_T3:wR,ACTIVE_ENERGY_T4:ZR,ACTIVE_POWER_PHASE_A:cn,ACTIVE_POWER_PHASE_B:hn,ACTIVE_POWER_PHASE_C:mn,APPARENT_POWER_QMINUS_PHASE_A:zn,APPARENT_POWER_QMINUS_PHASE_B:kn,APPARENT_POWER_QMINUS_PHASE_C:$n,APPARENT_POWER_QPLUS_PHASE_A:wn,APPARENT_POWER_QPLUS_PHASE_B:Zn,APPARENT_POWER_QPLUS_PHASE_C:Qn,BATTERY_VOLTAGE:Ln,CURRENT_BALANCE:kO,CURRENT_IN_NEUTRAL:Mn,CURRENT_IN_PHASE_A:Sn,CURRENT_IN_PHASE_B:In,CURRENT_IN_PHASE_C:fn,CURRENT_TRANSFORMATION_RATIO:jO,DATE_MONTH_YEAR:QO,EXPORTED_ACTIVE_ENERGY_T1:_n,EXPORTED_ACTIVE_ENERGY_T2:tn,EXPORTED_ACTIVE_ENERGY_T3:vn,EXPORTED_ACTIVE_ENERGY_T4:An,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:Nn,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:Pn,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:Cn,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:Dn,EXPORTED_REACTIVE_ENERGY_T1:Rn,EXPORTED_REACTIVE_ENERGY_T2:nn,EXPORTED_REACTIVE_ENERGY_T3:On,EXPORTED_REACTIVE_ENERGY_T4:on,HOUR_MINUTE_SECOND:ZO,MAGNET_INDUCTION:Ei,MAX_ACTIVE_POWER_DAY_T1:qn,MAX_ACTIVE_POWER_DAY_T2:Jn,MAX_ACTIVE_POWER_DAY_T3:rO,MAX_ACTIVE_POWER_DAY_T4:aO,MAX_ACTIVE_POWER_MONTH_T1:EO,MAX_ACTIVE_POWER_MONTH_T2:eO,MAX_ACTIVE_POWER_MONTH_T3:_O,MAX_ACTIVE_POWER_MONTH_T4:tO,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:MO,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:gO,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:uO,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:dO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:LO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:lO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:VO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:cO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:GO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:YO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:WO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:BO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:xO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:KO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:bO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:wO,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:hO,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:mO,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:HO,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:FO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:pO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:UO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:yO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:XO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:sO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:NO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:PO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:CO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:DO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:SO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:IO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:fO,MAX_REACTIVE_POWER_DAY_T1:vO,MAX_REACTIVE_POWER_DAY_T2:AO,MAX_REACTIVE_POWER_DAY_T3:TO,MAX_REACTIVE_POWER_DAY_T4:RO,MAX_REACTIVE_POWER_MONTH_T1:nO,MAX_REACTIVE_POWER_MONTH_T2:OO,MAX_REACTIVE_POWER_MONTH_T3:iO,MAX_REACTIVE_POWER_MONTH_T4:oO,NEGATIVE_REACTIVE_ENERGY_T1:JR,NEGATIVE_REACTIVE_ENERGY_T2:rn,NEGATIVE_REACTIVE_ENERGY_T3:an,NEGATIVE_REACTIVE_ENERGY_T4:En,OPTOPORT_SPEED:ai,POWER_FACTOR_PHASE_A:Bn,POWER_FACTOR_PHASE_B:xn,POWER_FACTOR_PHASE_C:Kn,POWER_THRESHOLD_T1:$O,POWER_THRESHOLD_T2:qO,POWER_THRESHOLD_T3:JO,POWER_THRESHOLD_T4:ri,REACTIVE_ENERGY_T1:jR,REACTIVE_ENERGY_T2:zR,REACTIVE_ENERGY_T3:kR,REACTIVE_ENERGY_T4:$R,REACTIVE_POWER_QMINUS_PHASE_A:Xn,REACTIVE_POWER_QMINUS_PHASE_B:Gn,REACTIVE_POWER_QMINUS_PHASE_C:Yn,REACTIVE_POWER_QPLUS_PHASE_A:Fn,REACTIVE_POWER_QPLUS_PHASE_B:pn,REACTIVE_POWER_QPLUS_PHASE_C:Un,SET_ALL_SEGMENT_DISPLAY:WR,SOFTWARE_VERSION:BR,SUPPLY_FREQUENCY:ln,TOTAL_ACTIVE_ENERGY:xR,TOTAL_ACTIVE_POWER:Vn,TOTAL_APPARENT_POWER_QMINUS:jn,TOTAL_APPARENT_POWER_QPLUS:bn,TOTAL_EXPORTED_ACTIVE_ENERGY:en,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:sn,TOTAL_EXPORTED_REACTIVE_ENERGY:Tn,TOTAL_NEGATIVE_REACTIVE_ENERGY:qR,TOTAL_POWER_FACTOR:Wn,TOTAL_REACTIVE_ENERGY:QR,TOTAL_REACTIVE_POWER_QMINUS:yn,TOTAL_REACTIVE_POWER_QPLUS:Hn,VOLTAGE_IN_PHASE_A:gn,VOLTAGE_IN_PHASE_B:un,VOLTAGE_IN_PHASE_C:dn,VOLTAGE_TRANSFORMATION_RATIO:zO});Vr(ei);var _i=120;var ti=254;var vi=255;var Ai=Object.freeze({__proto__:null,activateRatePlan:pt,errorDataFrameResponse:vi,errorResponse:ti,getBv:Hv,getCorrectTime:Av,getCriticalEvent:Mv,getCurrentStatusMeter:Ev,getCurrentValues:ct,getDateTime:Lt,getDayDemand:Xt,getDayDemandExport:Pv,getDayEnergies:_i,getDayMaxDemand:kt,getDayMaxDemandExport:gv,getDayProfile:_v,getDemand:Xv,getDeviceId:dt,getDeviceType:ut,getDisplayParam:Vv,getEnergy:ht,getEnergyDayPrevious:gt,getEnergyExport:Nv,getEnergyExportDayPrevious:Cv,getEventStatus:Mt,getEvents:qt,getEventsCounters:Jt,getExtendedCurrentValues:ev,getHalfHourDemand:yt,getHalfHourDemandChannel:dv,getHalfHourDemandExport:Sv,getHalfHourDemandVare:sv,getHalfHourDemandVareExport:fv,getHalfHourDemandVari:ov,getHalfHourDemandVariExport:Iv,getHalfHourEnergies:mv,getMagneticFieldThreshold:hv,getMeterInfo:Gv,getMonthDemand:Gt,getMonthDemandExport:Dv,getMonthMaxDemand:$t,getMonthMaxDemandExport:uv,getOperatorParameters:xt,getOperatorParametersExtended:Tv,getOperatorParametersExtended2:iv,getOperatorParametersExtended3:Fv,getOperatorParametersExtended4:yv,getRatePlanInfo:Qt,getSaldo:wt,getSaldoParameters:jt,getSeasonProfile:tv,getSpecialDay:vv,getVersion:bt,prepareRatePlan:Ut,resetPowerMaxDay:rv,resetPowerMaxMonth:av,runTariffPlan:Ov,setAccessKey:Vt,setCorrectDateTime:Lv,setCorrectTime:Bt,setDateTime:lt,setDayProfile:mt,setDisplayParam:lv,setOperatorParameters:Kt,setOperatorParametersExtended:Rv,setOperatorParametersExtended2:nv,setOperatorParametersExtended3:pv,setOperatorParametersExtended4:Uv,setSaldo:Zt,setSaldoParameters:zt,setSeasonProfile:Ht,setSpecialDay:Ft,setSpecialOperation:cv,turnRelayOff:Wt,turnRelayOn:Yt});Vr(Ai);var Ti=2400;var Ri=9600;var ni={rs485orTwi:{0:Ri,2:Ti,4:Ri},optoport:{0:Ri,2:Ti,4:Ri}};({rs485orTwi:Vr(ni.rs485orTwi),optoport:Vr(ni.optoport)});var Oi=function(r,a){var E=a.date.year<<1|a.date.month>>3&1;var e=a.date.month<<5&224|a.date.date&31;r.setUint8(E);r.setUint8(e);r.setUint8(a.demandType);r.setUint16(a.firstIndex);r.setUint8(a.count);r.setUint8(a.period)};var ii=Xv;var oi=7;var si=function(r){var a=new Qa(oi,false);Oi(a,r);return lr(ii,a.data)};var Ni=145;var Pi=30;var Ci=function(r){var a=[Pi,r.length+2,0,Ni].concat(t(r));return[].concat(t(a),[Ta(a)])};var Di;var Si=(Di={},E(E(E(E(E(E(E(E(E(E(Di,sa,Na),Pa,Ca),Da,Sa),Ia,fa),Ma,ga),it,st),Ct,Dt),St,ft),xv,Kv),bv,wv),E(E(Di,Zv,Qv),ii,si));toBytes=oa(Si);getBase64FromBytes=Lr;setDataSegment=Ci})();
//#endregion


/*
  Incoming arguments:
    * msg - JSON message payload downlink message json
    * msgType - type of message, for ex. 'ATTRIBUTES_UPDATED', 'POST_TELEMETRY_REQUEST', etc.
    * metadata - list of key-value pairs with additional data about the message
    * integrationMetadata - list of key-value pairs with additional data defined in Integration executing this converter

  Output must be an object with the following fields:
    * contentType - BINARY
    * data - payload in base64
*/

var bytes = toBytes(msg.commands);

// send nothing if not fit in a single data segment
if ( bytes.length > MAX_DATA_SEGMENT_SIZE ) {
    bytes = [];
} else {
    bytes = setDataSegment(bytes);
}

var result = {
    contentType: 'BINARY',
    data: getBase64FromBytes(bytes)
};

return result;
