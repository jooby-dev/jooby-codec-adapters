// IMPORTANT!!!
// This example only for default downlink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// encoded message should be less than this size
// to be able to send to a device
var MAX_DATA_SEGMENT_SIZE = 50;


//#region [autogenerated jooby-codec bundle from index.js]
var toBytes,setDataSegment,getBase64FromBytes;(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function e(t){if(Array.isArray(t))return t}function r(e){if(Array.isArray(e))return t(e)}function i(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function n(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var i,n,a,s,_=[],E=!0,o=!1;try{if(a=(r=r.call(t)).next,0===e);else for(;!(E=(i=a.call(r)).done)&&(_.push(i.value),_.length!==e);E=!0);}catch(t){o=!0,n=t}finally{try{if(!E&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw n}}return _}}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t,r){return e(t)||n(t,r)||o(t,r)||a()}function E(t){return r(t)||i(t)||o(t)||s()}function o(e,r){if(e){if("string"==typeof e)return t(e,r);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,r):void 0}}var h={separator:" ",prefix:""};var A=1;var v=2;var T=3;var R=4;var f=Math.log,u=Math.pow,O=Math.LN2;var U=function(t,e,r,i,n){var a,s,_=n*8-i-1,E=(1<<_)-1,o=E>>1,h=-7,A=r?n-1:0,v=r?-1:1,T=t[e+A];A+=v;a=T&(1<<-h)-1;T>>=-h;h+=_;for(;h>0;a=a*256+t[e+A],A+=v,h-=8);s=a&(1<<-h)-1;a>>=-h;h+=i;for(;h>0;s=s*256+t[e+A],A+=v,h-=8);if(a===0){a=1-o}else if(a===E){return s?NaN:T?-Infinity:Infinity}else{s=s+u(2,i);a=a-o}return(T?-1:1)*s*u(2,a-i)};var d=function(t,e,r,i,n,a){var s,_,E,o=a*8-n-1,h=(1<<o)-1,A=h>>1,v=n===23?u(2,-24)-u(2,-77):0,T=i?0:a-1,R=i?1:-1,U=r<0||r===0&&1/r<0?1:0;r<0&&(r=-r);if(r!==r||r===Infinity){_=r!==r?1:0;s=h}else{s=f(r)/O|0;if(r*(E=u(2,-s))<1){s--;E*=2}if(s+A>=1){r+=v/E}else{r+=v*u(2,1-A)}if(r*E>=2){s++;E/=2}if(s+A>=h){_=0;s=h}else if(s+A>=1){_=(r*E-1)*u(2,n);s=s+A}else{_=r*u(2,A-1)*u(2,n);s=0}}for(;n>=8;t[e+T]=_&255,T+=R,_/=256,n-=8);s=s<<n|_;o+=n;for(;o>0;t[e+T]=s&255,T+=R,s/=256,o-=8);t[e+T-R]|=U*128};var p=[1,0];var c=[2,1,0];var l=[3,2,1,0];var N=[0,1];var g=[0,1,2];var I=[0,1,2,3];var P=function(t,e){return t[e]};var M=function(t,e,r){var i=r?N:p;var n=t[e+i[0]];var a=t[e+i[1]]<<8;return n|a};var S=function(t,e,r){var i=r?g:c;var n=t[e+i[0]];var a=t[e+i[1]]<<8;var s=t[e+i[2]]<<16;return n|a|s};var C=function(t,e,r){var i=r?I:l;var n=t[e+i[3]]*16777216;var a=t[e+i[2]]*65536;var s=t[e+i[1]]*256;var _=t[e+i[0]];return n+a+s+_};var y=function(t,e,r){t[e]=r&255};var D=function(t,e,r,i){var n=i?N:p;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255};var m=function(t,e,r,i){var n=i?g:c;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255;t[e+n[2]]=r>>>16&255};var L=function(t,e,r,i){var n=i?I:l;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255;t[e+n[2]]=r>>>16&255;t[e+n[3]]=r>>>24&255};function F(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var r=new Array(t).fill(0);this.data=r}else{this.data=t}this.offset=0;this.isLittleEndian=e}F.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){y(this.data,this.offset,t<0?t|256:t);this.offset+=A},getInt8:function(){var t=P(this.data,this.offset);this.offset+=A;return t&128?t^-256:t},setUint8:function(t){y(this.data,this.offset,t);this.offset+=A},getUint8:function(){var t=P(this.data,this.offset);this.offset+=A;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;D(this.data,this.offset,t<0?t|65536:t,e);this.offset+=v},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=M(this.data,this.offset,t);this.offset+=v;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;D(this.data,this.offset,t,e);this.offset+=v},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=M(this.data,this.offset,t);this.offset+=v;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;m(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=T},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=S(this.data,this.offset,t);this.offset+=T;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;m(this.data,this.offset,t,e);this.offset+=T},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=S(this.data,this.offset,t);this.offset+=T;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=R},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=C(this.data,this.offset,t);this.offset+=R;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t,e);this.offset+=R},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=C(this.data,this.offset,t);this.offset+=R;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;d(this.data,this.offset,t,e,23,4);this.offset+=R},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=U(this.data,this.offset,t,23,4);this.offset+=R;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var r=[];while(this.offset<e){r.push(String.fromCharCode(this.getUint8()))}return r.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var r=this.data;r.splice.apply(r,[e,t.length].concat(E(t)));this.data=r;this.offset=e+t.length}};Object.defineProperties(F.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var V=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=0;for(var i in e){if(i in t&&e[i]){r|=t[i]}}return r};var Y=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r={};for(var i in t){r[i]=(e&t[i])!==0}return r};var x=function(t,e,r){return(1<<e)-1&t>>r-1};var G=function(t,e,r,i){var n=(1<<e)-1<<r-1;var a=i;var s=t;s&=~n;a<<=r-1;s|=a;return s};var H=function(t){var e=t.trim();if(!e){return[]}e=e.replace(/0x/g,"").split(/\s+/).map((function(t){return t.padStart(2,"0")})).join("");if(e.length%2!==0){e="0".concat(e)}var r=e.length/2;var i=new Array(r);for(var n=0;n<r;n++){i[n]=parseInt(e.substring(n*2,n*2+2),16)}return i};var X="x";var W=[".","1","3","R","M"];var w=[".","A","G","R","T","D"];var B=[".","0","1","2","3","4","5"];var K=[".","A","B","C","D","E","F"];var b=[".","A","B","C","D","E","F","H","K","G"];var Z=[".","1","2","3","4"];var Q=[".","L","M","Z","K"];var j=[".","0","1","2","3","4","5","6","7","8","9"];var k=[".","D","B","C","E","P","R","O","L","F","S","M","Y","G","N","U"];var q=[".","0","1","2","3","4","5","6","P","R","L","E","G","-","/"];var z=[".","H","A","T","0","0","0","0","0","1","2","3","4","0","0","0"];var $=[".","0","1","2","3","4","5","6","7","8","I","X","G","W","M","-"];var J=function(t){return[t>>4,t&15]};var tt=function(t){var e=new Array(t.length*2).fill(0);t.forEach((function(t,r){var i=J(t),n=_(i,2),a=n[0],s=n[1];e[r*2]=a;e[r*2+1]=s}));return e};var et=function(t){var e=[];t.forEach((function(t){return e.push(t.toString(16))}));if(t.length&1){e.push("0")}return H(e.join(""))};var rt=function(t){if(t.length!==14&&t.length!==16){throw new Error("Device type bytes wrong size")}var e=["MTX "];e.push(W[t[0]]??X);e.push(w[t[1]]??X);e.push(B[t[2]]??X);e.push(B[t[3]]??X);e.push(".");e.push(K[t[4]]??X);e.push(b[t[5]]??X);e.push(".");e.push(Z[t[6]]??X);e.push(Q[t[7]]??X);var r=t[8];e.push(j[t[9]]??X);e.push("-");var i;if(t.length<14||t[12]===0&&t[13]===0){e.push(k[t[10]]??X);i=11}else if(t[13]===0){e.push(k[t[10]]??X);e.push(k[t[11]]??X);i=12}else{e.push(k[t[10]]??X);e.push(k[t[11]]??X);e.push(k[t[12]]??X);i=13}var n=t[i];if(n&&n!==0){e.push(z[n]??X)}return{type:e.join(""),revision:r,meterType:0}};var it=function(t,e,r){var i=[];if(t.length<11){throw new Error("Wrong format")}i.push(W.indexOf(t[0]));i.push(w.indexOf(t[1]));i.push(B.indexOf(t[2]));i.push(B.indexOf(t[3]));if(t[4]!=="."){throw new Error("Wrong format")}i.push(K.indexOf(t[5]));i.push(b.indexOf(t[6]));if(t[7]!=="."){throw new Error("Wrong format")}i.push(Z.indexOf(t[8]));i.push(Q.indexOf(t[9]));i.push(r??0);i.push(j.indexOf(t[10]));if(t[11]!=="-"){throw new Error("Wrong format")}var n=t.length>13?t.length-1:t.length;for(var a=12;a<n;a++){i.push(k.indexOf(t[a]))}if(n<t.length){i.push(z.indexOf(t[n]))}var s=et(i);var _=new Array(9).fill(0);_[0]=0;for(var E=0;E<s.length;E++){_[E+(s.length<8?1:0)]=s[E]}return _};var nt=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=["MTX "];var r=t[1]===5?"-":" ";e.push(W[t[0]]??X);e.push(w[t[1]]??X);e.push(r);for(var i=2;i<t.length;i++){if(t[i]!==0){e.push(q[t[i]]??X)}}return{type:e.join(""),meterType:0}};var at=function(t){if(t.length<3){throw new Error("Wrong format")}var e=[];e.push(W.indexOf(t[0]));e.push(w.indexOf(t[1]));for(var r=3;r<t.length;r++){e.push(q.indexOf(t[r]))}var i=et(e);if(i.length===8){return i}if(i.length>8){throw new Error("Wrong format")}var n=new Array(8).fill(0);for(var a=0;a<i.length;a++){n[a]=i[a]}return n};var st=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=[];e.push(W[t[0]]??X);for(var r=1;r<t.length;r++){if(t[r]!==0){e.push($[t[r]]??X)}}return{type:e.join(""),meterType:0}};var _t=function(t){if(t.length<1){throw new Error("Wrong format")}var e=[];e.push(W.indexOf(t[0]));for(var r=1;r<t.length;r++){e.push($.indexOf(t[r]))}var i=et(e);var n=new Array(8).fill(0);for(var a=0;a<i.length&&a<8;a++){n[a]=i[a]}return n};var Et=function(t){if(t.length!==9){throw new Error("The buffer is too small")}var e;var r=[0,5,6,7,9,127,239];var i=r.indexOf(t[0])!==-1?2:0;var n=tt(t.slice(0,8));var a=n[i];var s=W[a];if(s==="1"||s==="3"){e=rt(n.slice(i))}else{e=s==="M"?st(n):nt(n)}e.meterType=t[8];return e};var ot=function(t,e){var r=t.type,i=t.revision,n=t.meterType;if(!r.startsWith("MTX ")){throw new Error("Wrong format")}var a;var s=r.substring(4);var _=r[4];if(_==="1"||_==="3"){a=it(s,e,i)}else{a=_==="M"?_t(s):at(s)}a[8]=n;return a};var ht=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=Object.assign({},h,e),i=r.separator,n=r.prefix;return t.map((function(t){return"".concat(n).concat(t.toString(16).padStart(2,"0"))})).join(i)};var At=80;var vt=81;var Tt=82;var Rt=83;var ft=84;var ut=85;var Ot=86;var Ut=87;var dt=88;var pt=89;var ct=90;var lt=91;var Nt=255;var gt=Object.freeze({__proto__:null,DATA_REQUEST:At,DATA_RESPONSE:vt,FRAGMENT_REQUEST:ct,FRAGMENT_RESPONSE:lt,IDENT_REQUEST:Tt,IDENT_RESPONSE:Rt,INVALID:Nt,L2_CHECK_ADDRESS_REQUEST:Ot,L2_CHECK_ADDRESS_RESPONSE:Ut,L2_RM_ADDRESS_REQUEST:dt,L2_RM_ADDRESS_RESPONSE:pt,L2_SET_ADDRESS_REQUEST:ft,L2_SET_ADDRESS_RESPONSE:ut});var It=function(t){var e={};for(var r in t){var i=t[r];e[i]=r}return e};var Pt=It(gt);var Mt=1;var St=2;var Ct=3;var yt=16;var Dt=17;var mt=18;var Lt=19;var Ft=20;var Vt=21;var Yt=32;var xt=33;var Gt=34;var Ht=35;var Xt=36;var Wt=37;var wt=38;var Bt=39;var Kt=40;var bt=41;var Zt=49;var Qt=50;var jt=51;var kt=52;var qt=53;var zt=54;var $t=55;var Jt=56;var te=57;var ee=64;var re=65;var ie=66;var ne=67;var ae=68;var se=69;var _e=70;var Ee=71;var oe=72;var he=73;var Ae=74;var ve=75;var Te=76;var Re=77;var fe=78;var ue=79;var Oe=80;var Ue=81;var de=82;var pe=83;var ce=84;var le=85;var Ne=86;var ge=87;var Ie=88;var Pe=89;var Me=96;var Se=97;var Ce=98;var ye=99;var De=100;var me=101;var Le=102;var Fe=103;var Ve=104;var Ye=105;var xe=112;var Ge=113;var He=114;var Xe=115;var We=116;var we=117;var Be=118;var Ke=119;var be=120;var Ze=121;var Qe=122;var je=123;var ke=124;var qe=125;var ze=144;var $e=145;var Je=147;var tr=148;var er=156;var rr=157;var ir=158;var nr=159;var ar=160;var sr=161;var _r=162;var Er=176;var or=177;var hr=178;var Ar=179;var vr=180;var Tr=181;var Rr=182;var fr=183;var ur=208;var Or=224;var Ur=225;var dr=226;var pr=227;var cr=228;var lr=229;var Nr=230;var gr=Object.freeze({__proto__:null,ACCESS_CLOSED:yt,ACCPARAM_BAD:He,ACCPARAM_EXT_BAD:Xe,BAD_TEST_EEPROM:Ve,BAD_TEST_FRAM:Ye,BAT_FAULT:pe,BAT_OK:de,BIPOLAR_POWER_FAULT:vr,BIPOLAR_POWER_OK:Tr,BLOCK_TARIFF_BAD:we,CALC_PERIOD_BAD:We,CALFLAG_RESET:Fe,CALFLAG_SET:Le,CALIBR_PARAM_BAD:Be,CAL_FAULT:le,CAL_OK:ce,CASE_CLOSE:Lt,CASE_MODULE_CLOSE:qe,CASE_MODULE_OPEN:ke,CASE_OPEN:mt,CASE_TERMINAL_CLOSE:je,CASE_TERMINAL_OPEN:Qe,CHANGE_ACCESS_KEY0:Yt,CHANGE_ACCESS_KEY1:xt,CHANGE_ACCESS_KEY2:Gt,CHANGE_ACCESS_KEY3:Ht,CHANGE_COR_TIME:bt,CHANGE_PAR_LOCAL:Xt,CHANGE_PAR_REMOTE:Wt,CHANGE_TARIFF_TBL:Qt,CLOCK_FAULT:ge,CLOCK_OK:Ne,CMD_CHANGE_TIME:wt,CMD_RELAY_2_OFF:Se,CMD_RELAY_2_ON:Me,CMD_RELAY_OFF:Kt,CMD_RELAY_ON:Bt,CROSSZERO_ENT0:Ce,CROSSZERO_ENT1:ye,CROSSZERO_ENT2:De,CROSSZERO_ENT3:me,CROSSZERO_EXP_ENT0:ir,CROSSZERO_EXP_ENT1:nr,CROSSZERO_EXP_ENT2:ar,CROSSZERO_EXP_ENT3:sr,CURRENT_UNEQUIL_FAULT:hr,CURRENT_UNEQUIL_OK:Ar,EM_MAGNETIC_OFF:or,EM_MAGNETIC_ON:Er,ENERGY_REG_FAULT:Mt,ENERGY_REG_OVERFLOW:Zt,ERR_ACCESS:Dt,F_MAX_OK:oe,F_MAX_OVER:he,F_MIN_OK:Ae,F_MIN_OVER:ve,I_MAX_OK:Te,I_MAX_OVER:Re,MAGNETIC_OFF:Vt,MAGNETIC_ON:Ft,NVRAM_FAULT:ur,OP_PAR_FAULT:Ct,POWERSALDO_OK:Oe,POWERSALDO_OVER:Ue,POWER_A_OFF:Ie,POWER_A_ON:Pe,POWER_OVER_RELAY_OFF:rr,P_MAX_OK:fe,P_MAX_OVER:ue,RELAY_HARD_BAD_OFF:ze,RELAY_HARD_BAD_ON:Je,RELAY_HARD_OFF:tr,RELAY_HARD_ON:$e,RELAY_OFF:$t,RELAY_ON:zt,RESET_EM_FLAG:Rr,RESET_MAGN_FLAG:fr,RESTART:Jt,SALDO_EN_BAD:be,SALDO_PARAM_BAD:Ge,SET_DEMAND_EN_10MIN:pr,SET_DEMAND_EN_15MIN:cr,SET_DEMAND_EN_1MIN:Or,SET_DEMAND_EN_30MIN:lr,SET_DEMAND_EN_3MIN:Ur,SET_DEMAND_EN_5MIN:dr,SET_DEMAND_EN_60MIN:Nr,SET_NEW_SALDO:xe,SET_SALDO_PARAM:er,SET_TARIFF_TBL:jt,SUMMER_TIME:kt,TIME_CORRECT:Ze,TIME_CORRECT_NEW:_r,T_MAX_OK:ae,T_MAX_OVER:se,T_MIN_OK:_e,T_MIN_OVER:Ee,VENDOR_PAR_FAULT:St,V_MAX_OK:ee,V_MAX_OVER:re,V_MIN_OK:ie,V_MIN_OVER:ne,WD_RESTART:te,WINTER_SUMMER_BAD:Ke,WINTER_TIME:qt});var Ir=It(gr);var Pr={type:At,destination:65535,source:65534};var Mr=11;var Sr=7;var Cr=2+Sr;var yr=4;var Dr={SET_ALL_SEGMENT_DISPLAY:1,SOFTWARE_VERSION:2,TOTAL_ACTIVE_ENERGY:4,ACTIVE_ENERGY_T1:8,ACTIVE_ENERGY_T2:16,ACTIVE_ENERGY_T3:32,ACTIVE_ENERGY_T4:64,ACTIVE_POWER_PER_PHASE:128,ACTIVE_POWER_IN_NEUTRAL:256,CURRENT_IN_PHASE:512,CURRENT_IN_NEUTRAL:1024,VOLTAGE:2048,HOUR_MINUTE_SECOND:4096,DATE_MONTH_YEAR:8192,TOTAL_EXPORTED_ACTIVE_ENERGY:16384,EXPORTED_ACTIVE_ENERGY_T1:32768,EXPORTED_ACTIVE_ENERGY_T2:65536,EXPORTED_ACTIVE_ENERGY_T3:131072,EXPORTED_ACTIVE_ENERGY_T4:262144,POWER_COEFFICIENT_PHASE_A:524288,POWER_COEFFICIENT_PHASE_B:1048576,BATTERY_VOLTAGE:2097152,POWER_THRESHOLD_T1:4194304,POWER_THRESHOLD_T2:8388608,POWER_THRESHOLD_T3:16777216,POWER_THRESHOLD_T4:33554432,CURRENT_BALANCE:536870912};var mr={...Dr,AUTO_SCREEN_SCROLLING:2147483648};var Lr={...Dr,MAGNET_INDUCTION:134217728,OPTOPORT_SPEED:1073741824,SORT_DISPLAY_SCREENS:2147483648};var Fr={RELAY_ON_Y:1,RELAY_ON_CENTER:2,RELAY_ON_PB:4,RELAY_ON_TARIFF_0:8,RELAY_ON_TARIFF_1:16,RELAY_ON_TARIFF_2:32,RELAY_ON_TARIFF_3:64,RELAY_ON_V_GOOD:128};var Vr={RELAY_OFF_Y:1,RELAY_OFF_CENTER:2,RELAY_OFF_TARIFF_0:4,RELAY_OFF_TARIFF_1:8,RELAY_OFF_TARIFF_2:16,RELAY_OFF_TARIFF_3:32,RELAY_OFF_I_LIMIT:64,RELAY_OFF_V_BAD:128};var Yr={RELAY_OFF_LIM_TARIFF_0:2,RELAY_OFF_LIM_TARIFF_1:4,RELAY_OFF_LIM_TARIFF_2:8,RELAY_OFF_LIM_TARIFF_3:16,RELAY_OFF_PF_MIN:32};var xr={RELAY_ON_TIMEOUT:1,RELAY_ON_SALDO:2,RELAY_OFF_SALDO:4,RELAY_OFF_SALDO_SOFT:8,RELAY_OFF_MAGNET:16,RELAY_ON_MAGNET_TIMEOUT:32,RELAY_ON_MAGNET_AUTO:64};var Gr={RELAY_OFF_UNEQUAL_CURRENT:1,RELAY_ON_UNEQUAL_CURRENT:2,RELAY_OFF_BIPOLAR_POWER:4,RELAY_ON_BIPOLAR_POWER:8};var Hr={BLOCK_KEY_OPTOPORT:2,MAGNET_SCREEN_CONST:32};var Xr={CASE_OPEN:2**0,MAGNETIC_ON:2**1,PARAMETERS_UPDATE_REMOTE:2**2,PARAMETERS_UPDATE_LOCAL:2**3,RESTART:2**4,ERROR_ACCESS:2**5,TIME_SET:2**6,TIME_CORRECT:2**7,DEVICE_FAILURE:2**8,CASE_TERMINAL_OPEN:2**9,CASE_MODULE_OPEN:2**10,TARIFF_TABLE_SET:2**11,TARIFF_TABLE_GET:2**12,PROTECTION_RESET_EM:2**13,PROTECTION_RESET_MAGNETIC:2**14};var Wr={RELAY_STATE:2**0,RELAY_UBAD:2**1,RELAY_UNEQ_CURRENT:2**4,RELAY_OFF_CENTER:2**5,RELAY_IMAX:2**6,RELAY_PMAX:2**7};var wr={RELAY_COSFI:2**0,RELAY_SALDO_OFF_FLAG:2**1,RELAY_UNEQUIL_CURRENT_OFF:2**2,RELAY_BIPOLAR_POWER_OFF:2**3,RELAY_SALDO_OFF_ON_MAX_POWER:2**4,RELAY_HARD_ST1:2**5};var Br={MAXVA:2**0,MINVA:2**1,MAXT:2**2,MINT:2**3,MAXF:2**4,MINF:2**5,MAXIA:2**6,MAXP:2**7};var Kr={MAX_POWER_SALDO:2**0,BATTERY_VBAT_BAD:2**1,CLOCK_UNSET:2**3,MIN_COS_FI:2**5};var br={UNEQUIL_CURRENT:2**0,BIPOLAR_POWER:2**1,POWER_A_NEGATIVE:2**6,POWER_B_NEGATIVE:2**7};var Zr={RELAY_OFF_LIMIT_P_MINUS_T1:4,RELAY_OFF_LIMIT_P_MINUS_T2:8,RELAY_OFF_LIMIT_P_MINUS_T3:16,RELAY_OFF_LIMIT_P_MINUS_T4:32};function Qr(t,e,r){var i=r>>yr;var n=new Array(yr).fill(0);n.forEach((function(e,r){var a=!!x(i,1,r+1);if(a){n[r]=t.getUint32()}else{n[r]=null}}));return n}function jr(t,e,r){var i=1+yr;var n=e;r.forEach((function(t,e){n=G(n,1,e+i,Number(!!t))}));t.setUint8(n)}function kr(t){if(t===65535){return{tariff:undefined,energy:undefined}}return{tariff:t>>14&3,energy:t&16383}}function qr(t,e){var r=e.tariff,i=e.energy;if(r!==undefined&&i!==undefined){t.setUint16(r<<14|i&16383)}else{t.setUint16(65535)}}function zr(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;F.call(this,t,e)}zr.prototype=Object.create(F.prototype);zr.prototype.constructor=zr;zr.getDayProfileFromByte=function(t){return{tariff:x(t,2,1),isFirstHalfHour:!x(t,1,3),hour:x(t,5,4)}};zr.getByteFromDayProfile=function(t){var e=0;e=G(e,2,1,t.tariff);e=G(e,1,3,+!t.isFirstHalfHour);e=G(e,5,4,t.hour);return e};zr.getDefaultSeasonProfile=function(){return{month:1,date:1,dayIndexes:[0,0,0,0,0,0,0]}};zr.getDefaultOperatorParameters=function(){return{vpThreshold:265e3,vThreshold:156e3,ipThreshold:12e4,pmaxThreshold0:31800,pmaxThreshold1:31800,pmaxThreshold2:31800,pmaxThreshold3:31800,speedOptoPort:0,tint:30,calcPeriodDate:1,timeoutDisplay:127,timeoutScreen:7,displaySet:Y(mr,2147496324),relaySet4:Y(xr,0),relaySet3:Y(Yr,0),relaySet2:Y(Vr,3),relaySet1:Y(Fr,3),displayType:0,ten:0,timeoutRefresh:240,deltaCorMin:15,timeoutMagnetOff:5,timeoutMagnetOn:5,define1:Y(Hr,0),timeoutRelayOn:1,timeoutRelayKey:0,timeoutRelayAuto:5,timeoutBadVAVB:5,freqMax:55,freqMin:45,phMin:0,year:0,month:0,date:0,energyDecimalPoint:2,typeMeter:0,timeoutIMax:5,timeoutPMax:5,timeoutCos:5,pMaxDef:1,displaySetExt:Y(Lr,137904127),timeoutUneqCurrent:5,timeoutBipolarPower:5,relaySet5:Y(Gr,0),timeCorrectPeriod:24,timeCorrectPassHalfhour:false}};zr.prototype.getFrameHeader=function(){var t=this.getUint8();var e=Pt[t];var r=this.getUint16();var i=this.getUint16();return{type:t,typeName:e,destination:r,source:i}};zr.prototype.setFrameHeader=function(t){var e=t.type,r=e===void 0?Pr.type:e,i=t.destination,n=i===void 0?Pr.destination:i,a=t.source,s=a===void 0?Pr.source:a;this.setUint8(r);this.setUint16(n);this.setUint16(s)};zr.prototype.getDeviceId=function(){var t=ht(this.getBytes(3),{separator:""});var e=this.getUint8();var r=this.getUint8();var i=ht(this.getBytes(3),{separator:""});return{manufacturer:t,type:e,year:r,serial:i}};zr.prototype.setDeviceId=function(t){var e=t.manufacturer,r=t.type,i=t.year,n=t.serial;this.setBytes(H(e));this.setUint8(r);this.setUint8(i);this.setBytes(H(n))};zr.prototype.getDateTime=function(){return{isSummerTime:!!this.getUint8(),seconds:this.getUint8(),minutes:this.getUint8(),hours:this.getUint8(),day:this.getUint8(),date:this.getUint8(),month:this.getUint8(),year:this.getUint8()}};zr.prototype.setDateTime=function(t){this.setUint8(t.isSummerTime?1:0);this.setUint8(t.seconds);this.setUint8(t.minutes);this.setUint8(t.hours);this.setUint8(t.day||0);this.setUint8(t.date);this.setUint8(t.month);this.setUint8(t.year)};zr.prototype.getTariffPlan=function(){return{id:this.getUint32(),tariffSet:this.getUint8(),activateYear:this.getUint8(),activateMonth:this.getUint8(),activateDay:this.getUint8(),specialProfilesArraySize:this.getUint8(),seasonProfilesArraySize:this.getUint8(),dayProfilesArraySize:this.getUint8()}};zr.prototype.setTariffPlan=function(t){this.setUint32(t.id);this.setUint8(t.tariffSet);this.setUint8(t.activateYear);this.setUint8(t.activateMonth);this.setUint8(t.activateDay);this.setUint8(t.specialProfilesArraySize);this.setUint8(t.seasonProfilesArraySize);this.setUint8(t.dayProfilesArraySize)};zr.prototype.getTimeCorrectionParameters=function(){return{monthTransitionSummer:this.getUint8(),dateTransitionSummer:this.getUint8(),hoursTransitionSummer:this.getUint8(),hoursCorrectSummer:this.getUint8(),monthTransitionWinter:this.getUint8(),dateTransitionWinter:this.getUint8(),hoursTransitionWinter:this.getUint8(),hoursCorrectWinter:this.getUint8(),isCorrectionNeeded:this.getUint8()===1}};zr.prototype.setTimeCorrectionParameters=function(t){this.setUint8(t.monthTransitionSummer);this.setUint8(t.dateTransitionSummer);this.setUint8(t.hoursTransitionSummer);this.setUint8(t.hoursCorrectSummer);this.setUint8(t.monthTransitionWinter);this.setUint8(t.dateTransitionWinter);this.setUint8(t.hoursTransitionWinter);this.setUint8(t.hoursCorrectWinter);this.setUint8(+t.isCorrectionNeeded)};zr.prototype.getDayProfile=function(){return zr.getDayProfileFromByte(this.getUint8())};zr.prototype.setDayProfile=function(t){this.setUint8(zr.getByteFromDayProfile(t))};zr.prototype.getSeasonProfile=function(){var t=this;return{month:this.getUint8(),date:this.getUint8(),dayIndexes:new Array(Sr).fill(0).map((function(){return t.getUint8()}))}};zr.prototype.setSeasonProfile=function(t){var e=this;this.setUint8(t.month);this.setUint8(t.date);t.dayIndexes.forEach((function(t){return e.setUint8(t)}))};zr.prototype.getSpecialDay=function(){return{month:this.getUint8(),date:this.getUint8(),dayIndex:this.getUint8(),isPeriodic:this.getUint8()===0}};zr.prototype.setSpecialDay=function(t){this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.dayIndex);this.setUint8(+!t.isPeriodic)};zr.prototype.getDeviceType=function(){return Et(this.getBytes(9))};zr.prototype.setDeviceType=function(t){this.setBytes(ot(t))};zr.prototype.getOperatorParameters=function(){var t={vpThreshold:this.getUint32(),vThreshold:this.getUint32(),ipThreshold:this.getUint32(),pmaxThreshold0:this.getUint32(),pmaxThreshold1:this.getUint32(),pmaxThreshold2:this.getUint32(),pmaxThreshold3:this.getUint32(),speedOptoPort:this.getUint8(),tint:this.getUint8(),calcPeriodDate:this.getUint8(),timeoutDisplay:this.getUint8(),timeoutScreen:this.getUint8(),displaySet:Y(mr,this.getUint32()),relaySet4:Y(xr,this.getUint8()),relaySet3:Y(Yr,this.getUint8()),relaySet2:Y(Vr,this.getUint8()),relaySet1:Y(Fr,this.getUint8()),displayType:this.getUint8(),ten:this.getUint8(),timeoutRefresh:this.getUint16(),deltaCorMin:this.getUint8(),timeoutMagnetOff:this.getUint8(),timeoutMagnetOn:this.getUint8(),define1:Y(Hr,this.getUint8()),timeoutRelayOn:this.getUint8(),timeoutRelayKey:this.getUint8(),timeoutRelayAuto:this.getUint8(),timeoutBadVAVB:this.getUint8(),freqMax:this.getUint8(),freqMin:this.getUint8(),phMin:this.getUint16(),year:this.getUint8(),month:this.getUint8(),date:this.getUint8(),energyDecimalPoint:this.getUint8(),typeMeter:this.getUint8(),timeoutIMax:this.getUint8(),timeoutPMax:this.getUint8(),timeoutCos:this.getUint8(),pMaxDef:this.getUint8(),displaySetExt:Y(Lr,this.getUint32()),timeoutUneqCurrent:this.getUint8(),timeoutBipolarPower:this.getUint8(),relaySet5:Y(Gr,this.getUint8()),timeCorrectPeriod:0,timeCorrectPassHalfhour:false};var e=this.getUint8();t.timeCorrectPeriod=e&127;t.timeCorrectPassHalfhour=!!(e&128);return t};zr.prototype.setOperatorParameters=function(t){var e=t.timeCorrectPeriod|(t.timeCorrectPassHalfhour?128:0);this.setUint32(t.vpThreshold);this.setUint32(t.vThreshold);this.setUint32(t.ipThreshold);this.setUint32(t.pmaxThreshold0);this.setUint32(t.pmaxThreshold1);this.setUint32(t.pmaxThreshold2);this.setUint32(t.pmaxThreshold3);this.setUint8(t.speedOptoPort);this.setUint8(t.tint);this.setUint8(t.calcPeriodDate);this.setUint8(t.timeoutDisplay);this.setUint8(t.timeoutScreen);this.setUint32(V(mr,t.displaySet));this.setUint8(V(xr,t.relaySet4));this.setUint8(V(Yr,t.relaySet3));this.setUint8(V(Vr,t.relaySet2));this.setUint8(V(Fr,t.relaySet1));this.setUint8(t.displayType);this.setUint8(t.ten);this.setUint16(t.timeoutRefresh);this.setUint8(t.deltaCorMin);this.setUint8(t.timeoutMagnetOff);this.setUint8(t.timeoutMagnetOn);this.setUint8(V(Hr,t.define1));this.setUint8(t.timeoutRelayOn);this.setUint8(t.timeoutRelayKey);this.setUint8(t.timeoutRelayAuto);this.setUint8(t.timeoutBadVAVB);this.setUint8(t.freqMax);this.setUint8(t.freqMin);this.setUint16(t.phMin);this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.energyDecimalPoint);this.setUint8(t.typeMeter);this.setUint8(t.timeoutIMax);this.setUint8(t.timeoutPMax);this.setUint8(t.timeoutCos);this.setUint8(t.pMaxDef);this.setUint32(V(Lr,t.displaySetExt));this.setUint8(t.timeoutUneqCurrent);this.setUint8(t.timeoutBipolarPower);this.setUint8(V(Gr,t.relaySet5));this.setUint8(e)};zr.prototype.getPackedEnergyWithType=function(){var t=this.getUint8();var e=x(t,yr,1);var r=Qr(this,e,t);return{energyType:e,energies:r}};zr.prototype.setPackedEnergyWithType=function(t){var e=this;var r=t.energyType,i=t.energies;if(r){jr(this,r,i)}i.forEach((function(t){if(t!==null){e.setUint32(t)}}))};zr.prototype.getEnergies=function(){var t=this;return new Array(yr).fill(0).map((function(){return t.getInt32()}))};zr.prototype.setEnergies=function(t){var e=this;t.forEach((function(t){return e.setUint32(t)}))};zr.prototype.getDate=function(){return{year:this.getUint8(),month:this.getUint8(),date:this.getUint8()}};zr.prototype.setDate=function(t){this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date)};zr.prototype.getSaldoParameters=function(){var t=this;return{coefficients:new Array(4).fill(0).map((function(){return t.getUint32()})),decimalPointTariff:this.getUint8(),indicationThreshold:this.getInt32(),relayThreshold:this.getInt32(),mode:this.getUint8(),saldoOffTimeBegin:this.getUint8(),saldoOffTimeEnd:this.getUint8(),decimalPointIndication:this.getUint8(),powerThreshold:this.getUint32(),creditThreshold:this.getInt32()}};zr.prototype.setSaldoParameters=function(t){var e=this;t.coefficients.forEach((function(t){return e.setUint32(t)}));this.setUint8(t.decimalPointTariff);this.setInt32(t.indicationThreshold);this.setInt32(t.relayThreshold);this.setUint8(t.mode);this.setUint8(t.saldoOffTimeBegin);this.setUint8(t.saldoOffTimeEnd);this.setUint8(t.decimalPointIndication);this.setUint32(t.powerThreshold);this.setInt32(t.creditThreshold)};zr.prototype.getEnergyPeriods=function(t){var e=this;var r=new Array(t).fill(0).map((function(){return e.getUint16()}));return r.map((function(t){return kr(t)}))};zr.prototype.setEnergyPeriods=function(t){var e=this;t.forEach((function(t){return qr(e,t)}))};zr.prototype.getEventStatus=function(){var t=this.getUint16();return Y(Xr,t)};zr.prototype.setEventStatus=function(t){this.setUint16(V(Xr,t))};zr.prototype.getExtendedCurrentValues2=function(){var t=this.getUint16();var e=Y(Wr,this.getUint8());var r=Y(wr,this.getUint8());var i=Y(Br,this.getUint8());var n=Y(Kr,this.getUint8());var a=Y(br,this.getUint8());return{uBattery:t,relayStatus:e,relayStatus2:r,status1:i,status2:n,status3:a}};zr.prototype.setExtendedCurrentValues2=function(t){var e=t.uBattery,r=t.relayStatus,i=t.relayStatus2,n=t.status1,a=t.status2,s=t.status3;this.setUint16(e);this.setUint8(V(Wr,r));this.setUint8(V(wr,i));this.setUint8(V(Br,n));this.setUint8(V(Kr,a));this.setUint8(V(br,s))};zr.prototype.getEvent=function(){var t={hours:this.getUint8(),minutes:this.getUint8(),seconds:this.getUint8(),event:this.getUint8()};var e=t.event;var r=this.bytesLeft;t.eventName=Ir[e];switch(e){case rr:if(r<4){return t}t.power=[this.getUint8(),this.getUint8(),this.getUint8(),this.getUint8()];break;case wt:case Ze:if(r<8){return t}t.newDate=this.getDateTime();break}return t};zr.prototype.setEvent=function(t){this.setUint8(t.hours);this.setUint8(t.minutes);this.setUint8(t.seconds);this.setUint8(t.event);switch(t.event){case rr:for(var e of t.power){this.setUint8(e)}break;case wt:case Ze:this.setDateTime(t.newDate);break}};zr.prototype.getDemand=function(){var t=this.getUint8();var e=this.getUint8();return{date:{year:t>>1,month:t<<3&15|e>>5,date:e&31},energyType:this.getUint8(),firstIndex:this.getUint16(),count:this.getUint8(),period:this.getUint8()}};zr.prototype.setDemand=function(t){var e=t.date.year<<1|t.date.month>>3&1;var r=t.date.month<<5&224|t.date.date&31;this.setUint8(e);this.setUint8(r);this.setUint8(t.energyType);this.setUint16(t.firstIndex);this.setUint8(t.count);this.setUint8(t.period)};zr.prototype.getDayMaxDemandResponse=function(){var t=this;var e=this.getDate();var r=new Array(yr).fill(0).map((function(){return{hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}));return{date:e,power:r}};zr.prototype.setDayMaxDemandResponse=function(t){var e=this;this.setDate(t.date);t.power.forEach((function(t){e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};zr.prototype.getOperatorParametersExtended3=function(){return{pmaxMinusThreshold0:this.getUint32(),pmaxMinusThreshold1:this.getUint32(),pmaxMinusThreshold2:this.getUint32(),pmaxMinusThreshold3:this.getUint32(),relaySet:Y(Zr,this.getUint8())}};zr.prototype.setOperatorParametersExtended3=function(t){var e=t.pmaxMinusThreshold0,r=t.pmaxMinusThreshold1,i=t.pmaxMinusThreshold2,n=t.pmaxMinusThreshold3,a=t.relaySet;this.setUint32(e);this.setUint32(r);this.setUint32(i);this.setUint32(n);this.setUint8(V(Zr,a))};zr.prototype.getMonthMaxPowerByTariffs=function(){var t=this;return new Array(yr).fill(0).map((function(){return{date:t.getUint8(),hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}))};zr.prototype.setMonthMaxPowerByTariffs=function(t){var e=this;t.forEach((function(t){e.setUint8(t.date);e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};var $r=function(t){return btoa(t.map((function(t){return String.fromCharCode(t)})).join(""))};var Jr=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return[t,e.length].concat(E(e))};var ti=0;var ei=3;var ri=19;var ii=1+Mr;var ni=function(t){var e=new zr(ii);e.setUint8(t.tariffTable);e.setTariffPlan(t.tariffPlan);return Jr(ri,e.data)};var ai=112;var si=function(){return Jr(ai)};var _i=62;var Ei=function(){return Jr(_i)};var oi=0;var hi=1;var Ai=2;var vi=3;var Ti=4;var Ri=5;var fi=6;var ui=7;var Oi=8;var Ui=9;var di=10;var pi=11;var ci=12;var li=13;var Ni=14;var gi=Object.freeze({__proto__:null,CASE_MODULE_OPEN:di,CASE_OPEN:oi,CASE_TERMINAL_OPEN:Ui,DEVICE_FAILURE:Oi,ERROR_ACCESS:Ri,MAGNETIC_ON:hi,PARAMETERS_UPDATE_LOCAL:vi,PARAMETERS_UPDATE_REMOTE:Ai,PROTECTION_RESET_EM:li,PROTECTION_RESET_MAGNETIC:Ni,RESTART:Ti,TARIFF_TABLE_GET:ci,TARIFF_TABLE_SET:pi,TIME_CORRECT:ui,TIME_SET:fi});It(gi);var Ii=57;var Pi=function(){return Jr(Ii)};var Mi=13;var Si=function(){return Jr(Mi)};var Ci=7;var yi=function(){return Jr(Ci)};var Di=49;var mi=3;var Li=function(t){var e=new zr(mi);e.setDate(t.date);return Jr(Di,e.data)};var Fi=88;var Vi=3;var Yi=function(t){var e=new zr(Vi);e.setDate(t.date);return Jr(Fi,e.data)};var xi=59;var Gi=3;var Hi=function(t){var e=new zr(Gi);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setUint8(t.isActive?0:1);return Jr(xi,e.data)};var Xi=5;var Wi=function(){return Jr(Xi)};var wi=4;var Bi=function(){return Jr(wi)};var Ki=51;var bi=4;var Zi=function(t){var e=new zr(bi);e.setDate(t.date);e.setUint8(t.offset);return Jr(Ki,e.data)};var Qi=52;var ji=function(){return Jr(Qi)};var ki=1;var qi=function(){return Jr(ki)};var zi=58;var $i=function(){return Jr(zi)};var Ji=21;var tn=3;var en=function(t){var e=new zr(tn);e.setDate(t.date);return Jr(Ji,e.data)};var rn=83;var nn=3;var an=function(t){var e=new zr(nn);e.setDate(t.date);return Jr(rn,e.data)};var sn=4;var _n=4294967295;var En={"A+":1,"A+R+":2,"A+R-":4,"A-":8,"A-R+":16,"A-R-":32};var on=function(t){var e={};Object.keys(t).forEach((function(r){e[r]=!!t[r]}));return V(En,e)};var hn=function(t){return t<sn?1<<t:0};var An=function(t){return t<sn?1<<t<<4:0};var vn=function(t,e){var r=0;if(t<sn){if(e["A+"]||e["A+R+"]||e["A+R-"]){r|=hn(t)}if(e["A-"]||e["A-R+"]||e["A-R-"]){r|=An(t)}}return r};function Tn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;F.call(this,t,e)}Tn.prototype=Object.create(F.prototype);Tn.prototype.constructor=Tn;Tn.prototype.getDate=function(){var t=this.getUint8();var e=this.getUint8();return{year:t>>1,month:t<<3&15|e>>5,date:e&31}};Tn.prototype.setDate=function(t){var e=t.year,r=t.month,i=t.date;var n=e<<1|r>>3&1;var a=r<<5&224|i&31;this.setUint8(n);this.setUint8(a)};Tn.prototype.getEnergiesFlags=function(){var t=this.getUint8();return Y(En,t)};Tn.prototype.setEnergiesFlags=function(t){this.setUint8(on(t))};Tn.prototype.getHalfhoursEnergy=function(t){var e=[];for(var r=0;r<t;r++){var i=this.getUint16();e.push(i===_n?undefined:i)}return e};Tn.prototype.setHalfhoursEnergy=function(t){if(t){for(var e=0;e<t.length;e++){var r=t[e];this.setUint16(r===undefined?_n:r)}}};Tn.prototype.getHalfhoursEnergies=function(t,e){var r={};if(t["A+"]){r["A+"]=this.getHalfhoursEnergy(e)}if(t["A+R+"]){r["A+R+"]=this.getHalfhoursEnergy(e)}if(t["A+R-"]){r["A+R-"]=this.getHalfhoursEnergy(e)}if(t["A-"]){r["A-"]=this.getHalfhoursEnergy(e)}if(t["A-R+"]){r["A-R+"]=this.getHalfhoursEnergy(e)}if(t["A-R-"]){r["A-R-"]=this.getHalfhoursEnergy(e)}return r};Tn.prototype.setHalfhoursEnergies=function(t){this.setHalfhoursEnergy(t["A+"]);this.setHalfhoursEnergy(t["A+R+"]);this.setHalfhoursEnergy(t["A+R-"]);this.setHalfhoursEnergy(t["A-"]);this.setHalfhoursEnergy(t["A-R+"]);this.setHalfhoursEnergy(t["A-R-"])};Tn.prototype.getAPlusTariffEnergies=function(t){var e={};if(t&En["A+"]){e["A+"]=this.getUint32()}if(t&En["A+R+"]){e["A+R+"]=this.getUint32()}if(t&En["A+R-"]){e["A+R-"]=this.getUint32()}return e};Tn.prototype.setAPlusTariffEnergies=function(t){if(t){if(t["A+"]){this.setUint32(t["A+"])}if(t["A+R+"]){this.setUint32(t["A+R+"])}if(t["A+R-"]){this.setUint32(t["A+R-"])}}};Tn.prototype.getAMinusTariffEnergies=function(t){var e={};if(t&En["A-"]){e["A-"]=this.getUint32()}if(t&En["A-R+"]){e["A-R+"]=this.getUint32()}if(t&En["A-R-"]){e["A-R-"]=this.getUint32()}return e};Tn.prototype.setAMinusTariffEnergies=function(t){if(t){if(t["A-"]){this.setUint32(t["A-"])}if(t["A-R+"]){this.setUint32(t["A-R+"])}if(t["A-R-"]){this.setUint32(t["A-R-"])}}};Tn.prototype.getTariffsEnergies=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(sn).fill(null);for(var i=0;i<sn;i++){if(e&hn(i)){r[i]=this.getAPlusTariffEnergies(t)}}for(var n=0;n<sn;n++){if(e&An(n)){r[n]={...r[n],...this.getAMinusTariffEnergies(t)}}}return r};Tn.prototype.setTariffsEnergies=function(t){var e=this;var r=0;var i=0;t.forEach((function(t,e){if(t){r|=on(t);i|=vn(e,t)}}));this.setUint8(r);this.setUint8(i);t.forEach((function(t){return e.setAPlusTariffEnergies(t)}));t.forEach((function(t){return e.setAMinusTariffEnergies(t)}))};Tn.prototype.getPowerMax=function(){return{hours:this.getUint8(),minutes:this.getUint8(),power:this.getUint32()}};Tn.prototype.setPowerMax=function(t){if(t){var e=t.hours,r=t.minutes,i=t.power;this.setUint8(e);this.setUint8(r);this.setUint32(i)}};Tn.prototype.getAPlusTariffPowerMax=function(t){var e={};if(t&En["A+"]){e["A+"]=this.getPowerMax()}if(t&En["A+R+"]){e["A+R+"]=this.getPowerMax()}if(t&En["A+R-"]){e["A+R-"]=this.getPowerMax()}return e};Tn.prototype.setAPlusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A+"]);this.setPowerMax(t["A+R+"]);this.setPowerMax(t["A+R+"])}};Tn.prototype.getAMinusTariffPowerMax=function(t){var e={};if(t&En["A-"]){e["A-"]=this.getPowerMax()}if(t&En["A-R+"]){e["A-R+"]=this.getPowerMax()}if(t&En["A-R-"]){e["A-R-"]=this.getPowerMax()}return e};Tn.prototype.setAMinusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A-"]);this.setPowerMax(t["A-R+"]);this.setPowerMax(t["A-R-"])}};Tn.prototype.getTariffsPowerMax=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(sn).fill(null);for(var i=0;i<sn;i++){if(e&hn(i)){r[i]=this.getAPlusTariffPowerMax(t)}}for(var n=0;n<sn;n++){if(e&An(n)){r[n]={...r[n],...this.getAMinusTariffPowerMax(t)}}}return r};Tn.prototype.setTariffsPowerMax=function(t){var e=this;var r=0;var i=0;t.forEach((function(t,e){if(t){r|=on(t);i|=vn(e,t)}}));this.setUint8(r);this.setUint8(i);t.forEach((function(t){return e.setAPlusTariffPowerMax(t)}));t.forEach((function(t){return e.setAMinusTariffPowerMax(t)}))};var Rn=111;var fn=5;var un=function(t){var e=new Tn(fn);e.setDate(t.date);e.setEnergiesFlags(t.energies);e.setUint8(t.firstHalfhour);e.setUint8(t.halfhoursNumber);return Jr(Rn,e.data)};var On=109;var Un=function(){return Jr(On)};var dn=122;var pn=function(){return Jr(dn)};var cn=23;var ln=2;var Nn=function(t){var e=new zr(ln);e.setUint8(t.year);e.setUint8(t.month);return Jr(cn,e.data)};var gn=82;var In=2;var Pn=function(t){var e=new zr(In);e.setUint8(t.year);e.setUint8(t.month);return Jr(gn,e.data)};var Mn=50;var Sn=function(t){var e=t.year,r=t.month;return Jr(Mn,[e,r])};var Cn=89;var yn=function(t){var e=t.year,r=t.month;return Jr(Cn,[e,r])};var Dn=113;var mn=function(){return Jr(Dn)};var Ln=30;var Fn=function(){return Jr(Ln)};var Vn=44;var Yn=function(t){return Jr(Vn,[t.tariffTable])};var xn=41;var Gn=function(){return Jr(xn)};var Hn=46;var Xn=function(){return Jr(Hn)};var Wn=60;var wn=3;var Bn=function(t){var e=new zr(wn);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setUint8(t.isActive?0:1);return Jr(Wn,e.data)};var Kn=61;var bn=3;var Zn=function(t){var e=new zr(bn);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setUint8(t.isActive?0:1);return Jr(Kn,e.data)};var Qn=40;var jn=function(){return Jr(Qn)};var kn=20;var qn=5;var zn=function(t){var e=new zr(qn);e.setUint8(t.tariffTable);e.setUint32(t.id);return Jr(kn,e.data)};var $n=53;var Jn=function(){return Jr($n)};var ta=54;var ea=function(){return Jr(ta)};var ra=70;var ia=function(t){return Jr(ra,[t.tariffTable])};var na=16;var aa=9;var sa=1+na;var _a=function(t){var e=new zr(sa);e.setUint8(t.accessLevel);e.setBytes(t.key);return Jr(aa,e.data)};var Ea=92;var oa=2;var ha=function(t){var e=new zr(oa);e.setInt16(t.seconds);return Jr(Ea,e.data)};var Aa=28;var va=9;var Ta=function(t){var e=new zr(va);e.setTimeCorrectionParameters(t);return Jr(Aa,e.data)};var Ra=8;var fa=8;var ua=function(t){var e=new zr(fa);e.setDateTime(t);return Jr(Ra,e.data)};var Oa=8;var Ua=255;var da=16;var pa=function(t){var e=t.periods.length<Oa;var r=2+t.periods.length+ +e;var i=new zr(r);i.setUint8(t.tariffTable);i.setUint8(t.index);t.periods.forEach((function(t){i.setDayProfile(t)}));if(e){i.setUint8(Ua)}return Jr(da,i.data)};var ca=114;var la=17;var Na=function(t){var e=new zr(la);e.setOperatorParametersExtended3(t);return Jr(ca,e.data)};var ga=42;var Ia=12;var Pa=function(t){var e=new zr(Ia);e.setUint8(t.date.month);e.setUint8(t.date.date);e.setUint8(t.date.hours);e.setUint8(t.date.minutes);e.setInt32(t.saldoNew);e.setInt32(t.saldoOld);return Jr(ga,e.data)};var Ma=47;var Sa=37;var Ca=function(t){var e=new zr(Sa);e.setSaldoParameters(t);return Jr(Ma,e.data)};var ya=17;var Da=Cr;var ma=function(t){var e=new zr(Da);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setSeasonProfile(t);return Jr(ya,e.data)};var La=18;var Fa=6;var Va=function(t){var e=new zr(Fa);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setSpecialDay(t);return Jr(La,e.data)};var Ya=100;var xa=2;var Ga=function(t){var e=new zr(xa);var r=0;if(t.readScreensInfo){r|=128}if(t.resetElectroMagneticIndication){r|=1}if(t.resetMagneticIndication){r|=2}e.setUint8(t.type);e.setUint8(r);return Jr(Ya,e.data)};var Ha=25;var Xa=function(){return Jr(Ha)};var Wa=24;var wa=function(){return Jr(Wa)};var Ba={encrypt:function(){},decrypt:function(){}};var Ka=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var r=e;t.forEach((function(t){r^=t}));return r};var ba=16;var Za=[0];var Qa=function(t){return function(e,r){var i;var n=r.messageId,a=r.accessLevel,s=a===void 0?ei:a,_=r.aesKey;var o=e.map((function(e){if("id"in e){return t[e.id](e.parameters||{})}if("command"in e){return e.command.bytes}throw new Error("wrong command format")}));var h=s|16;var A=[n,h];var v=(i=[]).concat.apply(i,[h].concat(E(o),[Za]));if(s!==ti){var T=(v.length+1)%ba;if(T){v=v.concat(new Array(ba-T).fill(0))}}v=v.concat(Ka(v));if(_&&s!==ti){v=E(Ba.encrypt(_,v))}return A.concat(v)}};var ja=0;var ka=128;var qa=129;var za=130;var $a=131;var Ja=132;var ts=133;var es=134;var rs=135;var is=136;var ns=137;var as=144;var ss=145;var _s=146;var Es=147;var os=149;var hs=151;var As=152;var vs=153;var Ts=154;var Rs=155;var fs=156;var us=159;var Os=160;var Us=240;var ds=Object.freeze({__proto__:null,ACCESS_DENIED:Es,BAD_ARRAY_INDEX:es,BAD_BLOCK_NUMBER:fs,BAD_DATA_LENGTH:ts,BAD_MESSAGE:Ja,BAD_RATE_PLAN_ID:is,BAD_RATE_PLAN_SIZE:ns,BAD_RESPONSE_LENGTH:as,BAD_SALDO_WRITE:os,BLOCKED_METER:hs,CALIBRATION_DISABLED:_s,DECRYPTION_FAILURE:za,INTERNAL:Us,INVALID_CORRECTION_INTERVAL:Ts,NOT_ALIGNED_DATA:qa,NOT_PREPARED_RATE_PLAN:rs,NO_DATA_FOR_DATE:ss,OK:ja,OUT_OFF_RANGE:us,SET_METER_TYPE_FAILURE:Os,TIME_CORRECTION_FAILURE:vs,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:Rs,UNENCRYPTED_COMMAND_DISABLED:As,UNKNOWN_COMMAND:ka,UNKNOWN_PROTOCOL:$a});It(ds);var ps=1;var cs=2;var ls=3;var Ns=4;var gs=5;var Is=6;var Ps=7;var Ms=8;var Ss=9;var Cs=10;var ys=11;var Ds=12;var ms=13;var Ls=14;var Fs=15;var Vs=16;var Ys=17;var xs=18;var Gs=19;var Hs=20;var Xs=21;var Ws=22;var ws=23;var Bs=24;var Ks=25;var bs=26;var Zs=28;var Qs=30;var js=31;var ks=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:Ns,ACTIVE_ENERGY_T2:gs,ACTIVE_ENERGY_T3:Is,ACTIVE_ENERGY_T4:Ps,ACTIVE_POWER_IN_NEUTRAL:Ss,ACTIVE_POWER_PER_PHASE:Ms,BATTERY_VOLTAGE:Ws,CURRENT_BALANCE:Qs,CURRENT_IN_NEUTRAL:ys,CURRENT_IN_PHASE:Cs,DATE_MONTH_YEAR:Ls,EXPORTED_ACTIVE_ENERGY_T1:Vs,EXPORTED_ACTIVE_ENERGY_T2:Ys,EXPORTED_ACTIVE_ENERGY_T3:xs,EXPORTED_ACTIVE_ENERGY_T4:Gs,HOUR_MINUTE_SECOND:ms,MAGNET_INDUCTION:Zs,OPTOPORT_SPEED:js,POWER_COEFFICIENT_PHASE_A:Hs,POWER_COEFFICIENT_PHASE_B:Xs,POWER_THRESHOLD_T1:ws,POWER_THRESHOLD_T2:Bs,POWER_THRESHOLD_T3:Ks,POWER_THRESHOLD_T4:bs,SET_ALL_SEGMENT_DISPLAY:ps,SOFTWARE_VERSION:cs,TOTAL_ACTIVE_ENERGY:ls,TOTAL_EXPORTED_ACTIVE_ENERGY:Fs,VOLTAGE:Ds});It(ks);var qs=2400;var zs=9600;var $s={plc:{0:zs,2:qs,4:zs},optoport:{0:qs,2:qs,4:zs}};var Js={plc:It($s.plc),optoport:It($s.optoport)};var t_=1;var e_=2;var r_=3;var i_=4;var n_=17;var a_=18;var s_=19;var __=20;var E_=21;var o_=22;var h_=23;var A_=32;var v_=33;var T_=34;var R_=35;var f_=36;var u_=37;var O_=38;var U_=39;var d_=40;var p_=49;var c_=50;var l_=51;var N_=52;var g_=53;var I_=54;var P_=55;var M_=56;var S_=57;var C_=64;var y_=65;var D_=66;var m_=67;var L_=68;var F_=69;var V_=70;var Y_=71;var x_=72;var G_=73;var H_=74;var X_=75;var W_=76;var w_=77;var B_=78;var K_=79;var b_=80;var Z_=81;var Q_=82;var j_=83;var k_=84;var q_=85;var z_=86;var $_=87;var J_=88;var tE=89;var eE=90;var rE=91;var iE=92;var nE=93;var aE=94;var sE=95;var _E=96;var EE=97;var oE=98;var hE=99;var AE=100;var vE=101;var TE=102;var RE=103;var fE=104;var uE=105;var OE=106;var UE=107;var dE=108;var pE=109;var cE=110;var lE=111;var NE=112;var gE=113;var IE=114;var PE=115;var ME=116;var SE=117;var CE=118;var yE=119;var DE=120;var mE=121;var LE=122;var FE=123;var VE=124;var YE=125;var xE=126;var GE=127;var HE=128;var XE=129;var WE=130;var wE=131;var BE=132;var KE=133;var bE=134;var ZE=135;var QE=136;var jE=137;var kE=138;var qE=139;var zE=140;var $E=141;var JE=142;var to=143;var eo=144;var ro=145;var io=147;var no=148;var ao=149;var so=150;var _o=151;var Eo=152;var oo=153;var ho=154;var Ao=155;var vo=156;var To=157;var Ro=158;var fo=159;var uo=160;var Oo=161;var Uo=162;var po=163;var co=164;var lo=165;var No=166;var go=167;var Io=168;var Po=169;var Mo=170;var So=171;var Co=172;var yo=173;var Do=174;var mo=175;var Lo=176;var Fo=177;var Vo=178;var Yo=179;var xo=224;var Go=225;var Ho=226;var Xo=227;var Wo=228;var wo=229;var Bo=230;var Ko=231;var bo=232;var Zo=Object.freeze({__proto__:null,ACCESS_LOCKED:n_,ACCESS_UNLOCKED:a_,ACCUMULATION_PARAM_BAD:KE,ACCUMULATION_PARAM_EXT_BAD:bE,BAD_TEST_EEPROM:XE,BAD_TEST_FRAM:WE,BATTERY_FAULT:uE,BATTERY_OK:fE,BLOCK_TARIFF_BAD:QE,CALCULATION_PERIOD_BAD:ZE,CALIBRATION_FAULT:UE,CALIBRATION_FLAG_RESET:HE,CALIBRATION_FLAG_SET:GE,CALIBRATION_OK:OE,CALIBRATION_PARAM_BAD:jE,CASE_CLOSE:E_,CASE_KLEMA_CLOSE:_o,CASE_KLEMA_OPEN:so,CASE_MODULE_CLOSE:Ao,CASE_MODULE_OPEN:ho,CASE_OPEN:__,CHANGE_ACCESS_KEY0:A_,CHANGE_ACCESS_KEY1:v_,CHANGE_ACCESS_KEY2:T_,CHANGE_ACCESS_KEY3:R_,CHANGE_COR_TIME:NE,CHANGE_PARAMETERS_LOCAL:f_,CHANGE_PARAMETERS_REMOTE:u_,CHANGE_PARAM_CHANNEL1:Ro,CHANGE_PARAM_CHANNEL2:fo,CHANGE_PARAM_CHANNEL3:uo,CHANGE_PARAM_CHANNEL4:Oo,CHANGE_PARAM_CHANNEL5:Uo,CHANGE_PARAM_CHANNEL6:po,CHANGE_TARIFF_TABLE:c_,CHANGE_TARIFF_TABLE_2:Eo,CHANGE_TARIFF_TABLE_3:oo,CLOCK_FAULT:EE,CLOCK_OK:_E,CMD_CHANGE_TIME:O_,CMD_RELAY_2_OFF:IE,CMD_RELAY_2_ON:gE,CMD_RELAY_OFF:d_,CMD_RELAY_ON:U_,COEFFICIENT_TRANSFORMATION_CHANGE:to,CROSS_ZERO_ENT0:PE,CROSS_ZERO_ENT1:ME,CROSS_ZERO_ENT2:SE,CROSS_ZERO_ENT3:CE,CROSS_ZERO_EXPORT_ENT0:co,CROSS_ZERO_EXPORT_ENT1:lo,CROSS_ZERO_EXPORT_ENT2:No,CROSS_ZERO_EXPORT_ENT3:go,CROSS_ZERO_EXPORT_VARE0:Co,CROSS_ZERO_EXPORT_VARE1:yo,CROSS_ZERO_EXPORT_VARE2:Do,CROSS_ZERO_EXPORT_VARE3:mo,CROSS_ZERO_EXPORT_VARI0:Io,CROSS_ZERO_EXPORT_VARI1:Po,CROSS_ZERO_EXPORT_VARI2:Mo,CROSS_ZERO_EXPORT_VARI3:So,CROSS_ZERO_VARE0:FE,CROSS_ZERO_VARE1:VE,CROSS_ZERO_VARE2:YE,CROSS_ZERO_VARE3:xE,CROSS_ZERO_VARI0:yE,CROSS_ZERO_VARI1:DE,CROSS_ZERO_VARI2:mE,CROSS_ZERO_VARI3:LE,EM_MAGNETIC_OFF:Fo,EM_MAGNETIC_ON:Lo,ENERGY_REGISTER_OVERFLOW:p_,ENERGY_T0_FAULT:t_,ENERGY_T1_FAULT:e_,ENERGY_T2_FAULT:r_,ENERGY_T3_FAULT:i_,ERR_ACCESS:s_,F_MAX_OK:W_,F_MAX_OVER:w_,F_MIN_OK:B_,F_MIN_UNDER:K_,IA_MAX_OK:k_,IA_MAX_OVER:q_,IB_MAX_OK:z_,IB_MAX_OVER:$_,IC_MAX_OK:J_,IC_MAX_OVER:tE,IDIFF_OK:aE,IDIFF_OVER:sE,MAGNETIC_OFF:h_,MAGNETIC_ON:o_,METER_TROUBLE:ao,OP_PARAM_BAD:qE,OP_PARAM_EXT_BAD:zE,O_PARAMETERS_FAULT:lE,O_PARAMETERS_OK:cE,PA_MAX_OK:eE,PA_MAX_OVER:rE,POWER_A_OFF:RE,POWER_A_ON:TE,POWER_B_OFF:vE,POWER_B_ON:AE,POWER_C_OFF:hE,POWER_C_ON:oE,POWER_OVER_RELAY_OFF:To,PV_MAX_OK:iE,PV_MAX_OVER:nE,P_MAX_A_MINUS_OK:Ko,P_MAX_A_MINUS_OVER:bo,RELAY_HARD_BAD_OFF:eo,RELAY_HARD_BAD_ON:io,RELAY_HARD_OFF:no,RELAY_HARD_ON:ro,RELAY_OFF:P_,RELAY_ON:I_,RESET_EM_FLAG:Vo,RESET_MAGNETIC_FLAG:Yo,RESTART:M_,SALDO_ENERGY_BAD:$E,SALDO_PARAM_BAD:BE,SET_DEMAND_EN_10_MIN:Xo,SET_DEMAND_EN_15_MIN:Wo,SET_DEMAND_EN_1_MIN:xo,SET_DEMAND_EN_30_MIN:wo,SET_DEMAND_EN_3_MIN:Go,SET_DEMAND_EN_5_MIN:Ho,SET_DEMAND_EN_60_MIN:Bo,SET_NEW_SALDO:wE,SET_SALDO_PARAM:vo,SET_TARIFF_TABLE:l_,SUMMER_TIME:N_,TIME_CORRECT:JE,T_MAX_OK:b_,T_MAX_OVER:Z_,T_MIN_OK:Q_,T_MIN_UNDER:j_,VA_MAX_OK:C_,VA_MAX_OVER:y_,VA_MIN_OK:D_,VA_MIN_UNDER:m_,VB_MAX_OK:L_,VB_MAX_OVER:F_,VB_MIN_OK:V_,VB_MIN_UNDER:Y_,VC_MAX_OK:x_,VC_MAX_OVER:G_,VC_MIN_OK:H_,VC_MIN_UNDER:X_,V_PARAMETERS_FAULT:pE,V_PARAMETERS_OK:dE,WD_RESTART:S_,WINTER_SUMMER_BAD:kE,WINTER_TIME:g_});var Qo=It(Zo);var jo=86;var ko=function(t){return Jr(jo,[t.event,t.index])};var qo=95;var zo=9;var $o=28;var Jo=28;var th=4;var eh={SET_ALL_SEGMENT_DISPLAY:1<<0,SOFTWARE_VERSION:1<<1,TOTAL_ACTIVE_ENERGY:1<<2,ACTIVE_ENERGY_T1:1<<3,ACTIVE_ENERGY_T2:1<<4,ACTIVE_ENERGY_T3:1<<5,ACTIVE_ENERGY_T4:1<<6,TOTAL_REACTIVE_ENERGY:1<<7,REACTIVE_ENERGY_T1:1<<8,REACTIVE_ENERGY_T2:1<<9,REACTIVE_ENERGY_T3:1<<10,REACTIVE_ENERGY_T4:1<<11,TOTAL_NEGATIVE_REACTIVE_ENERGY:1<<12,NEGATIVE_REACTIVE_ENERGY_T1:1<<13,NEGATIVE_REACTIVE_ENERGY_T2:1<<14,NEGATIVE_REACTIVE_ENERGY_T3:1<<15,NEGATIVE_REACTIVE_ENERGY_T4:1<<16,TOTAL_EXPORTED_ACTIVE_ENERGY:1<<17,EXPORTED_ACTIVE_ENERGY_T1:1<<18,EXPORTED_ACTIVE_ENERGY_T2:1<<19,EXPORTED_ACTIVE_ENERGY_T3:1<<20,EXPORTED_ACTIVE_ENERGY_T4:1<<21,TOTAL_EXPORTED_REACTIVE_ENERGY:1<<22,EXPORTED_REACTIVE_ENERGY_T1:1<<23,EXPORTED_REACTIVE_ENERGY_T2:1<<24,EXPORTED_REACTIVE_ENERGY_T3:1<<25,EXPORTED_REACTIVE_ENERGY_T4:1<<26,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:1<<27,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:1<<28,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:1<<29,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:1<<30,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:1<<31};var rh={CURRENT_IN_PHASE_A:1<<0,CURRENT_IN_PHASE_B:1<<1,CURRENT_IN_PHASE_C:1<<2,CURRENT_IN_NEUTRAL:1<<3,VOLTAGE_IN_PHASE_A:1<<4,VOLTAGE_IN_PHASE_B:1<<5,VOLTAGE_IN_PHASE_C:1<<6,BATTERY_VOLTAGE:1<<7,FREQUENCY:1<<8,ACTIVE_POWER_SUM:1<<9,ACTIVE_POWER_PHASE_A:1<<10,ACTIVE_POWER_PHASE_B:1<<11,ACTIVE_POWER_PHASE_C:1<<12,REACTIVE_POWER_QPLUS_SUM:1<<13,REACTIVE_POWER_QPLUS_PHASE_A:1<<14,REACTIVE_POWER_QPLUS_PHASE_B:1<<15,REACTIVE_POWER_QPLUS_PHASE_C:1<<16,REACTIVE_POWER_QMINUS_SUM:1<<17,REACTIVE_POWER_QMINUS_PHASE_A:1<<18,REACTIVE_POWER_QMINUS_PHASE_B:1<<19,REACTIVE_POWER_QMINUS_PHASE_C:1<<20,POWER_COEFFICIENT_SUM:1<<21,POWER_COEFFICIENT_PHASE_A:1<<22,POWER_COEFFICIENT_PHASE_B:1<<23,POWER_COEFFICIENT_PHASE_C:1<<24,APPARENT_POWER_QPLUS_SUM:1<<25,APPARENT_POWER_QPLUS_PHASE_A:1<<26,APPARENT_POWER_QPLUS_PHASE_B:1<<27,APPARENT_POWER_QPLUS_PHASE_C:1<<28,APPARENT_POWER_QMINUS_SUM:1<<29,APPARENT_POWER_QMINUS_PHASE_A:1<<30,APPARENT_POWER_QMINUS_PHASE_B:1<<31};var ih={APPARENT_POWER_QMINUS_PHASE_C:1<<0,MAX_ACTIVE_POWER_DAY_T1:1<<1,MAX_ACTIVE_POWER_DAY_T2:1<<2,MAX_ACTIVE_POWER_DAY_T3:1<<3,MAX_ACTIVE_POWER_DAY_T4:1<<4,MAX_ACTIVE_POWER_MONTH_T1:1<<5,MAX_ACTIVE_POWER_MONTH_T2:1<<6,MAX_ACTIVE_POWER_MONTH_T3:1<<7,MAX_ACTIVE_POWER_MONTH_T4:1<<8,MAX_REACTIVE_POWER_DAY_T1:1<<9,MAX_REACTIVE_POWER_DAY_T2:1<<10,MAX_REACTIVE_POWER_DAY_T3:1<<11,MAX_REACTIVE_POWER_DAY_T4:1<<12,MAX_REACTIVE_POWER_MONTH_T1:1<<13,MAX_REACTIVE_POWER_MONTH_T2:1<<14,MAX_REACTIVE_POWER_MONTH_T3:1<<15,MAX_REACTIVE_POWER_MONTH_T4:1<<16,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:1<<17,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:1<<18,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:1<<19,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:1<<20,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:1<<21,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:1<<22,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:1<<23,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:1<<24,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:1<<25,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:1<<26,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:1<<27,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:1<<28,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:1<<29,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:1<<30,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:1<<31};var nh={MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:1<<0,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:1<<1,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:1<<2,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:1<<3,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:1<<4,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:1<<5,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:1<<6,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:1<<7,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:1<<8,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T1:1<<9,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T2:1<<10,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T3:1<<11,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T4:1<<12,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T1:1<<13,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T2:1<<14,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T3:1<<15,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T4:1<<16,HOUR_MINUTE_SECOND:1<<17,DATE_MONTH_YEAR:1<<18,CURRENT_TRANSFORMATION_RATIO:1<<19,VOLTAGE_TRANSFORMATION_RATIO:1<<20,CURRENT_BALANCE:1<<21,POWER_THRESHOLD_T1:1<<22,POWER_THRESHOLD_T2:1<<23,POWER_THRESHOLD_T3:1<<24,POWER_THRESHOLD_T4:1<<25,OPTOPORT_SPEED:1<<26,MAGNET_INDUCTION:1<<27,SORT_DISPLAY_SCREENS:1<<29,TURN_OFF_DISPLAY:1<<30,AUTO_SCREEN_SCROLLING:1<<31};var ah={EVENT:1<<0,PROFILE_P01:1<<1,PROFILE_P02:1<<2,PROFILE_P03:1<<3,PROFILE_P04:1<<4,PROFILE_P05:1<<5,PROFILE_P06:1<<6};var sh={RELAY_ON_Y:1<<0,RELAY_ON_CENTER:1<<1,RELAY_ON_PB:1<<2,RELAY_ON_TARIFF_0:1<<3,RELAY_ON_TARIFF_1:1<<4,RELAY_ON_TARIFF_2:1<<5,RELAY_ON_TARIFF_3:1<<6,RELAY_ON_V_GOOD:1<<7,RELAY_OFF_Y:1<<8,RELAY_OFF_CENTER:1<<9,RELAY_OFF_TARIFF_0:1<<10,RELAY_OFF_TARIFF_1:1<<11,RELAY_OFF_TARIFF_2:1<<12,RELAY_OFF_TARIFF_3:1<<13,RELAY_OFF_I_LIMIT:1<<14,RELAY_OFF_V_BAD:1<<15,RELAY_OFF_DIFF_BAD:1<<16,RELAY_OFF_LIM_TARIFF_0:1<<17,RELAY_OFF_LIM_TARIFF_1:1<<18,RELAY_OFF_LIM_TARIFF_2:1<<19,RELAY_OFF_LIM_TARIFF_3:1<<20,RELAY_OFF_LIM_VAR_TARIFF_0:1<<21,RELAY_OFF_LIM_VAR_TARIFF_1:1<<22,RELAY_OFF_LIM_VAR_TARIFF_2:1<<23,RELAY_OFF_LIM_VAR_TARIFF_3:1<<24,RELAY_ON_PF_MIN:1<<25,RELAY_OFF_PF_MIN:1<<26,RELAY_ON_TIMEOUT:1<<27,RELAY_ON_SALDO:1<<28,RELAY_OFF_SALDO:1<<29,RELAY_OFF_SALDO_SOFT:1<<30};var _h={TRANSFORMATION_RATIO:1<<0,METER_TYPE_R:1<<4,ACCUMULATE_BY_R_PLUS_MINUS:1<<7};var Eh={RESET_DAY_MAX_POWER_KEY:1<<0,RESET_MONTH_MAX_POWER_KEY:1<<1,BLOCK_KEY_OPTOPORT:1<<2,MAGNET_SCREEN_CONST:1<<5,ALLOW_BROWNOUT_INDICATION:1<<7};var oh={OPTOPORT_SPEED:1<<26};var hh={RELAY_OFF_MAGNET:1<<0,RELAY_ON_MAGNET_TIMEOUT:1<<1,RELAY_ON_MAGNET_AUTO:1<<2};var Ah=function(t){return{plc:$s.plc[x(t,4,1)],optoport:$s.optoport[x(t,4,5)]}};var vh=function(t){var e=0;e=G(e,4,1,Number(Js.plc[t.plc]));e=G(e,4,5,Number(Js.optoport[t.optoport]));return e};function Th(t,e,r){var i=r>>th;var n=[];var a=[];var s=[];for(var _=0;_<yr;_++){var E=!!x(i,1,_+1);if(E){n.push(t.getInt32());a.push(t.getInt32());s.push(t.getInt32())}else{n.push(null);a.push(null);s.push(null)}}return{wh:n,vari:a,vare:s}}function Rh(t,e){var r=e.wh,i=e.vari,n=e.vare;var a=1+th;var s=t;for(var _=0;_<yr;_++){s=G(s,1,_+a,Number(!!r[_]&&!!i[_]&&!!n[_]))}return s}function fh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;zr.call(this,t,e)}fh.prototype=Object.create(zr.prototype);fh.prototype.constructor=fh;fh.getDefaultOperatorParameters=function(){return{vpThreshold:265e3,vThreshold:156e3,ipThreshold:12e4,pmaxThreshold0:31800,pmaxThreshold1:31800,pmaxThreshold2:31800,pmaxThreshold3:31800,rmaxThreshold0:31800,rmaxThreshold1:31800,rmaxThreshold2:31800,rmaxThreshold3:31800,tint:30,calcPeriodDate:1,timeoutDisplay:127,timeoutScreen:7,displaySet1:Y(eh,4229),displaySet2:Y(rh,139776),displaySet3:Y(ih,0),relaySet:Y(sh,771),speedOptoPort:Ah(64),ten:30,tu:30,timeIntervalPowerOff:3,reserved:0,timeoutBadVAVB:5,freqMax:55,freqMin:45,year:0,month:0,date:0,energyDecimalPoint:2,voltageTransformationRatioNumerator:1,voltageTransformationRatioDenominator:1,currentTransformationRatioNumerator:1,currentTransformationRatioDenominator:1,typeMeter:Y(_h,0),phMin:0,timeoutIMax:5,timeoutPMax:5,timeoutCos:5,pMaxDef:1,displaySet4:Y(nh,2147876864)}};fh.prototype.getOperatorParameters=function(){return{vpThreshold:this.getUint32(),vThreshold:this.getUint32(),ipThreshold:this.getUint32(),pmaxThreshold0:this.getUint32(),pmaxThreshold1:this.getUint32(),pmaxThreshold2:this.getUint32(),pmaxThreshold3:this.getUint32(),rmaxThreshold0:this.getUint32(),rmaxThreshold1:this.getUint32(),rmaxThreshold2:this.getUint32(),rmaxThreshold3:this.getUint32(),tint:this.getUint8(),calcPeriodDate:this.getUint8(),timeoutDisplay:this.getUint8(),timeoutScreen:this.getUint8(),displaySet1:Y(eh,this.getUint32()),displaySet2:Y(rh,this.getUint32()),displaySet3:Y(ih,this.getUint32()),relaySet:Y(sh,this.getUint32()),speedOptoPort:Ah(this.getUint8()),ten:this.getUint8(),tu:this.getUint8(),timeIntervalPowerOff:this.getUint8(),reserved:this.getUint8(),timeoutBadVAVB:this.getUint8(),freqMax:this.getUint8(),freqMin:this.getUint8(),year:this.getUint8(),month:this.getUint8(),date:this.getUint8(),energyDecimalPoint:this.getUint8(),voltageTransformationRatioNumerator:this.getUint16(),voltageTransformationRatioDenominator:this.getUint16(),currentTransformationRatioNumerator:this.getUint16(),currentTransformationRatioDenominator:this.getUint16(),typeMeter:Y(_h,this.getUint8()),phMin:this.getUint16(),timeoutIMax:this.getUint8(),timeoutPMax:this.getUint8(),timeoutCos:this.getUint8(),pMaxDef:this.getUint8(),displaySet4:Y(nh,this.getUint32())}};fh.prototype.setOperatorParameters=function(t){this.setUint32(t.vpThreshold);this.setUint32(t.vThreshold);this.setUint32(t.ipThreshold);this.setUint32(t.pmaxThreshold0);this.setUint32(t.pmaxThreshold1);this.setUint32(t.pmaxThreshold2);this.setUint32(t.pmaxThreshold3);this.setUint32(t.rmaxThreshold0);this.setUint32(t.rmaxThreshold1);this.setUint32(t.rmaxThreshold2);this.setUint32(t.rmaxThreshold3);this.setUint8(t.tint);this.setUint8(t.calcPeriodDate);this.setUint8(t.timeoutDisplay);this.setUint8(t.timeoutScreen);this.setUint32(V(eh,t.displaySet1));this.setUint32(V(rh,t.displaySet2));this.setUint32(V(ih,t.displaySet3));this.setUint32(V(sh,t.relaySet));this.setUint8(vh(t.speedOptoPort));this.setUint8(t.ten);this.setUint8(t.tu);this.setUint8(t.timeIntervalPowerOff);this.setUint8(t.reserved);this.setUint8(t.timeoutBadVAVB);this.setUint8(t.freqMax);this.setUint8(t.freqMin);this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.energyDecimalPoint);this.setUint16(t.voltageTransformationRatioNumerator);this.setUint16(t.voltageTransformationRatioDenominator);this.setUint16(t.currentTransformationRatioNumerator);this.setUint16(t.currentTransformationRatioDenominator);this.setUint8(V(_h,t.typeMeter));this.setUint16(t.phMin);this.setUint8(t.timeoutIMax);this.setUint8(t.timeoutPMax);this.setUint8(t.timeoutCos);this.setUint8(t.pMaxDef);this.setUint32(V(nh,t.displaySet4))};fh.prototype.getOperatorParametersExtended=function(){return{timeoutRelayOn:this.getUint8(),define1:Y(Eh,this.getUint8()),timeoutRelayKey:this.getUint8(),timeoutRelayAuto:this.getUint8()}};fh.prototype.setOperatorParametersExtended=function(t){this.setUint8(t.timeoutRelayOn);this.setUint8(V(Eh,t.define1));this.setUint8(t.timeoutRelayKey);this.setUint8(t.timeoutRelayAuto);this.setUint32(0);this.setUint8(0)};fh.prototype.getEnergies=function(){var t=[];var e=[];var r=[];for(var i=0;i<yr;i++){t.push(this.getInt32());e.push(this.getInt32());r.push(this.getInt32())}return{wh:t,vari:e,vare:r}};fh.prototype.setEnergies=function(t){for(var e=0;e<yr;e++){this.setInt32(t.wh[e]);this.setInt32(t.vari[e]);this.setInt32(t.vare[e])}};fh.prototype.getPackedEnergyWithType=function(){var t=this.getUint8();var e=x(t,th,1);var r=Th(this,e,t);return{energyType:e,energies:r}};fh.prototype.setPackedEnergyWithType=function(t){var e=t.energyType,r=t.energies;if(e){var i=Rh(e,r);var n=i>>th;this.setUint8(i);for(var a=0;a<yr;a++){var s=!!x(n,1,a+1);if(s){this.setInt32(r.wh[a]);this.setInt32(r.vari[a]);this.setInt32(r.vare[a])}}return}for(var _=0;_<yr;_++){this.setInt32(r.wh[_]);this.setInt32(r.vari[_]);this.setInt32(r.vare[_])}};fh.prototype.getEnergyPeriods=function(t){var e=this;return new Array(t).fill(0).map((function(){var t=e.getUint16();return t===65535?undefined:t}))};fh.prototype.setEnergyPeriods=function(t){var e=this;t.forEach((function(t){return e.setUint16(t===undefined?65535:t)}))};fh.prototype.getMaxDemand=function(){return{hourPmax:this.getUint8(),minPmax:this.getUint8(),pmax:this.getInt32(),hourVariMax:this.getUint8(),minVariMax:this.getUint8(),variMax:this.getInt32(),hourVareMax:this.getUint8(),minVareMax:this.getUint8(),vareMax:this.getInt32()}};fh.prototype.setMaxDemand=function(t){this.setUint8(t.hourPmax);this.setUint8(t.minPmax);this.setInt32(t.pmax);this.setUint8(t.hourVariMax);this.setUint8(t.minVariMax);this.setInt32(t.variMax);this.setUint8(t.hourVareMax);this.setUint8(t.minVareMax);this.setInt32(t.vareMax)};fh.prototype.getDayMaxDemandResponse=function(){var t=this;var e=this.getDate();var r=new Array(yr).fill(0).map((function(){return t.getMaxDemand()}));return{date:e,maxDemands:r}};fh.prototype.setDayMaxDemandResponse=function(t){var e=this;this.setDate(t.date);t.maxDemands.forEach((function(t){return e.setMaxDemand(t)}))};fh.prototype.getMonthMaxDemandResponse=function(){var t=this;var e={year:this.getUint8(),month:this.getUint8()};var r=new Array(yr).fill(0).map((function(){return t.getMaxDemand()}));return{date:e,maxDemands:r}};fh.prototype.setMonthMaxDemandResponse=function(t){var e=this;this.setUint8(t.date.year);this.setUint8(t.date.month);t.maxDemands.forEach((function(t){return e.setMaxDemand(t)}))};fh.prototype.getEvent=function(){var t={hours:this.getUint8(),minutes:this.getUint8(),seconds:this.getUint8(),event:this.getUint8()};var e=t.event;var r=this.bytesLeft;t.eventName=Qo[e];switch(e){case To:if(r<4){return t}t.power=[this.getUint8(),this.getUint8(),this.getUint8(),this.getUint8()];break;case O_:case JE:if(r<8){return t}t.newDate=this.getDateTime();break}return t};fh.prototype.setEvent=function(t){this.setUint8(t.hours);this.setUint8(t.minutes);this.setUint8(t.seconds);this.setUint8(t.event);switch(t.event){case To:for(var e of t.power){this.setUint8(e)}break;case O_:case JE:this.setDateTime(t.newDate);break}};fh.prototype.getDemand=function(){var t=this.getUint8();var e=this.getUint8();return{date:{year:t>>1,month:t<<3&15|e>>5,date:e&31},demandParam:this.getUint8(),firstIndex:this.getUint16(),count:this.getUint8(),period:this.getUint8()}};fh.prototype.setDemand=function(t){var e=t.date.year<<1|t.date.month>>3&1;var r=t.date.month<<5&224|t.date.date&31;this.setUint8(e);this.setUint8(r);this.setUint8(t.demandParam);this.setUint16(t.firstIndex);this.setUint8(t.count);this.setUint8(t.period)};fh.prototype.getOperatorParametersExtended2=function(){return{deltaCorMin:this.getUint8(),timeoutMagnetOff:this.getUint8(),relaySetExt:Y(hh,this.getUint8()),timeoutMagnetOn:this.getUint8(),phaseDefault:this.getUint8(),displaySet21:this.getUint32(),displaySet22:this.getUint32(),displaySet23:this.getUint32(),displaySet24:Y(oh,this.getUint32()),channel1:this.getUint8(),channel2:this.getUint8(),channel3:this.getUint8(),channel4:this.getUint8(),channel5:this.getUint8(),channel6:this.getUint8(),timeCorrectPeriod:this.getUint8()}};fh.prototype.setOperatorParametersExtended2=function(t){this.setUint8(t.deltaCorMin);this.setUint8(t.timeoutMagnetOff);this.setUint8(V(hh,t.relaySetExt));this.setUint8(t.timeoutMagnetOn);this.setUint8(t.phaseDefault);this.setUint32(t.displaySet21);this.setUint32(t.displaySet22);this.setUint32(t.displaySet23);this.setUint32(V(oh,t.displaySet24));this.setUint8(t.channel1);this.setUint8(t.channel2);this.setUint8(t.channel3);this.setUint8(t.channel4);this.setUint8(t.channel5);this.setUint8(t.channel6);this.setUint8(t.timeCorrectPeriod)};fh.prototype.getOperatorParametersExtended4=function(){return{displaySet5:Y(ah,this.getUint32()),displaySet25:Y(ah,this.getUint32()),displaySet31:Y(eh,this.getUint32()),displaySet32:Y(eh,this.getUint32()),displaySet33:Y(eh,this.getUint32()),displaySet34:Y(eh,this.getUint32()),displaySet35:Y(ah,this.getUint32())}};fh.prototype.setOperatorParametersExtended4=function(t){this.setUint32(V(ah,t.displaySet5));this.setUint32(V(ah,t.displaySet25));this.setUint32(V(eh,t.displaySet31));this.setUint32(V(eh,t.displaySet32));this.setUint32(V(eh,t.displaySet33));this.setUint32(V(eh,t.displaySet34));this.setUint32(V(ah,t.displaySet35))};var uh=3;var Oh=4;var Uh=22;var dh=function(t){var e=new fh(t?.energyType?Oh:uh);e.setDate(t?.date);if(t?.energyType){e.setUint8(t.energyType)}return Jr(Uh,e.data)};var ph=79;var ch=3;var lh=function(t){var e=new fh(ch);e.setDate(t.date);return Jr(ph,e.data)};var Nh=118;var gh=7;var Ih=function(t){var e=new fh(gh);e.setDemand(t);return Jr(Nh,e.data)};var Ph=94;var Mh=1;var Sh=function(t){var e=new fh(Mh);e.setUint8(t.displayMode);return Jr(Ph,e.data)};var Ch=15;var yh=function(){return Jr(Ch)};var Dh=3;var mh=function(t){if(t.energyType){return Jr(Dh,[t.energyType])}return Jr(Dh)};var Lh=78;var Fh=function(){return Jr(Lh)};var Vh=80;var Yh=function(){return Jr(Vh)};var xh=90;var Gh=5;var Hh=function(t){var e=new fh(Gh);e.setUint8(t.channel);e.setUint8(t.channelParameter);e.setDate(t.date);return Jr(xh,e.data)};var Xh=73;var Wh=3;var wh=function(t){var e=new fh(Wh);e.setDate(t.date);return Jr(Xh,e.data)};var Bh=85;var Kh=3;var bh=function(t){var e=new fh(Kh);e.setDate(t.date);return Jr(Bh,e.data)};var Zh=72;var Qh=3;var jh=function(t){var e=new fh(Qh);e.setDate(t.date);return Jr(Zh,e.data)};var kh=84;var qh=3;var zh=function(t){var e=new fh(qh);e.setDate(t.date);return Jr(kh,e.data)};var $h=63;var Jh=function(){return Jr($h)};var tA=71;var eA=function(){return Jr(tA)};var rA=93;var iA=function(t){return Jr(rA,[t.displayMode].concat(E(t.order)))};var nA=31;var aA=qo;var sA=function(t){var e=new fh(aA);e.setOperatorParameters(t);return Jr(nA,e.data)};var _A=64;var EA=zo;var oA=function(t){var e=new fh(EA);e.setOperatorParametersExtended(t);return Jr(_A,e.data)};var hA=69;var AA=$o;var vA=function(t){var e=new fh(AA);e.setOperatorParametersExtended2(t);return Jr(hA,e.data)};var TA=117;var RA=Jo;var fA=function(t){var e=new fh(RA);e.setOperatorParametersExtended4(t);return Jr(TA,e.data)};var uA={};var OA=Qa(uA);uA[ri]=ni;uA[ai]=si;uA[_i]=Ei;uA[Ii]=Pi;uA[Mi]=Si;uA[Ci]=yi;uA[Ci]=yi;uA[Di]=Li;uA[Fi]=Yi;uA[xi]=Hi;uA[Xi]=Wi;uA[wi]=Bi;uA[Ki]=Zi;uA[Qi]=ji;uA[ki]=qi;uA[zi]=$i;uA[Ji]=en;uA[rn]=an;uA[Rn]=un;uA[On]=Un;uA[dn]=pn;uA[cn]=Nn;uA[gn]=Pn;uA[Mn]=Sn;uA[Cn]=yn;uA[Ln]=Fn;uA[Dn]=mn;uA[Vn]=Yn;uA[xn]=Gn;uA[Hn]=Xn;uA[Wn]=Bn;uA[Kn]=Zn;uA[Qn]=jn;uA[kn]=zn;uA[$n]=Jn;uA[ta]=ea;uA[ra]=ia;uA[aa]=_a;uA[Ea]=ha;uA[Aa]=Ta;uA[Ra]=ua;uA[da]=pa;uA[ca]=Na;uA[ga]=Pa;uA[Ma]=Ca;uA[ya]=ma;uA[La]=Va;uA[Ya]=Ga;uA[Ha]=Xa;uA[Wa]=wa;uA[jo]=ko;uA[Uh]=dh;uA[ph]=lh;uA[Nh]=Ih;uA[Ph]=Sh;uA[Ch]=yh;uA[Dh]=mh;uA[Lh]=Fh;uA[Vh]=Yh;uA[xh]=Hh;uA[Xh]=wh;uA[Bh]=bh;uA[Zh]=jh;uA[kh]=zh;uA[$h]=Jh;uA[tA]=eA;uA[rA]=iA;uA[nA]=sA;uA[_A]=oA;uA[hA]=vA;uA[TA]=fA;var UA=145;var dA=30;var pA=function(t){var e=[dA,t.length+2,0,UA].concat(E(t));return[].concat(E(e),[Ka(e)])};getBase64FromBytes=$r;toBytes=OA;setDataSegment=pA})();
//#endregion


/*
  Incoming arguments:
    * msg - JSON message payload downlink message json
    * msgType - type of message, for ex. 'ATTRIBUTES_UPDATED', 'POST_TELEMETRY_REQUEST', etc.
    * metadata - list of key-value pairs with additional data about the message
    * integrationMetadata - list of key-value pairs with additional data defined in Integration executing this converter

  Output must be an object with the following fields:
    * contentType - BINARY
    * data - payload in base64
*/

var bytes = toBytes(msg.commands);

// send nothing if not fit in a single data segment
if ( bytes.length > MAX_DATA_SEGMENT_SIZE ) {
    bytes = [];
} else {
    bytes = setDataSegment(bytes);
}

var result = {
    contentType: 'BINARY',
    data: getBase64FromBytes(bytes)
};

return result;
