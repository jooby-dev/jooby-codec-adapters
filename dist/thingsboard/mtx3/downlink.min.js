// IMPORTANT!!!
// This example only for default downlink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// encoded message should be less than this size
// to be able to send to a device
var MAX_DATA_SEGMENT_SIZE = 50;


//#region [autogenerated jooby-codec bundle from index.js]
var toBytes,setDataSegment,getBase64FromBytes;(function(){"use strict";function r(r,a){(null==a||a>r.length)&&(a=r.length);for(var E=0,e=Array(a);E<a;E++)e[E]=r[E];return e}function a(a){if(Array.isArray(a))return r(a)}function E(r,a,E){return(a=A(a))in r?Object.defineProperty(r,a,{value:E,enumerable:true,configurable:true,writable:true}):r[a]=E,r}function e(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(r){return a(r)||e(r)||T(r)||_()}function v(r,a){if("object"!=typeof r||!r)return r;var E=r[Symbol.toPrimitive];if(void 0!==E){var e=E.call(r,a);if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(r)}function A(r){var a=v(r,"string");return"symbol"==typeof a?a:a+""}function T(a,E){if(a){if("string"==typeof a)return r(a,E);var e={}.toString.call(a).slice(8,-1);return"Object"===e&&a.constructor&&(e=a.constructor.name),"Map"===e||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(a,E):void 0}}var R=function(r){return btoa(r.map(function(r){return String.fromCharCode(r)}).join(""))};var n=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return[r,a.length].concat(t(a))};var O=1;var i=3;var o=4;var s=5;var N=7;var C=8;var P=9;var D=13;var S=15;var I=16;var f=17;var M=18;var g=19;var u=20;var d=21;var L=22;var l=23;var V=24;var c=25;var h=28;var m=30;var H=31;var F=40;var p=41;var U=42;var y=44;var X=45;var G=46;var Y=47;var W=49;var B=50;var x=51;var K=52;var b=53;var w=54;var Z=57;var Q=58;var j=59;var z=60;var k=61;var $=62;var q=65;var J=70;var rr=74;var ar=75;var Er=79;var er=80;var _r=82;var tr=83;var vr=88;var Ar=89;var Tr=91;var Rr=92;var nr=93;var Or=94;var ir=100;var or=109;var sr=111;var Nr=112;var Cr=113;var Pr=114;var Dr=115;var Sr=116;var Ir=117;var fr=118;var Mr=122;var gr=Object.freeze({__proto__:null,activateRatePlan:g,getBv:Nr,getCorrectTime:$,getCriticalEvent:q,getCurrentStatusMeter:Z,getCurrentValues:D,getDateTime:N,getDayDemand:L,getDayDemandExport:Er,getDayMaxDemand:W,getDayMaxDemandExport:vr,getDayMaxDemandPrevious:rr,getDayProfile:j,getDemand:fr,getDemandParameters:Ir,getDeviceId:s,getDeviceType:o,getDisplayParam:Or,getEnergy:S,getEnergyDayPrevious:i,getEnergyExport:Tr,getEnergyExportDayPrevious:er,getEventStatus:O,getEvents:x,getEventsCounters:K,getExtendedCurrentValues:Q,getExtendedCurrentValues2:X,getHalfHourDemand:d,getHalfHourDemandExport:tr,getHalfHourDemandPrevious:ar,getHalfHourEnergies:sr,getMagneticFieldThreshold:or,getMeterInfo:Mr,getMonthDemand:l,getMonthDemandExport:_r,getMonthMaxDemand:B,getMonthMaxDemandExport:Ar,getOperatorParameters:m,getOperatorParametersExtended3:Cr,getQuality:Dr,getRatePlanInfo:y,getSaldo:p,getSaldoParameters:G,getSeasonProfile:z,getSpecialDay:k,getVersion:F,prepareRatePlan:u,resetPowerMaxDay:b,resetPowerMaxMonth:w,runTariffPlan:J,setAccessKey:P,setCorrectDateTime:Rr,setCorrectTime:h,setDateTime:C,setDayProfile:I,setDemandParameters:Sr,setDisplayParam:nr,setOperatorParameters:H,setOperatorParametersExtended3:Pr,setSaldo:U,setSaldoParameters:Y,setSeasonProfile:f,setSpecialDay:M,setSpecialOperation:ir,turnRelayOff:c,turnRelayOn:V});var ur=120;var dr=121;var Lr=123;var lr=254;var Vr=255;var cr=Object.freeze({__proto__:null,activateRatePlan:g,errorDataFrameResponse:Vr,errorResponse:lr,getBv:Nr,getCorrectTime:$,getCriticalEvent:q,getCurrentDemand:Lr,getCurrentStatusMeter:Z,getCurrentValues:D,getDateTime:N,getDayDemand:L,getDayDemandExport:Er,getDayEnergies:ur,getDayMaxDemand:W,getDayMaxDemandExport:vr,getDayMaxDemandPrevious:rr,getDayMaxPower:dr,getDayProfile:j,getDemand:fr,getDemandParameters:Ir,getDeviceId:s,getDeviceType:o,getDisplayParam:Or,getEnergy:S,getEnergyDayPrevious:i,getEnergyExport:Tr,getEnergyExportDayPrevious:er,getEventStatus:O,getEvents:x,getEventsCounters:K,getExtendedCurrentValues:Q,getExtendedCurrentValues2:X,getHalfHourDemand:d,getHalfHourDemandExport:tr,getHalfHourDemandPrevious:ar,getHalfHourEnergies:sr,getMagneticFieldThreshold:or,getMeterInfo:Mr,getMonthDemand:l,getMonthDemandExport:_r,getMonthMaxDemand:B,getMonthMaxDemandExport:Ar,getOperatorParameters:m,getOperatorParametersExtended3:Cr,getQuality:Dr,getRatePlanInfo:y,getSaldo:p,getSaldoParameters:G,getSeasonProfile:z,getSpecialDay:k,getVersion:F,prepareRatePlan:u,resetPowerMaxDay:b,resetPowerMaxMonth:w,runTariffPlan:J,setAccessKey:P,setCorrectDateTime:Rr,setCorrectTime:h,setDateTime:C,setDayProfile:I,setDemandParameters:Sr,setDisplayParam:nr,setOperatorParameters:H,setOperatorParametersExtended3:Pr,setSaldo:U,setSaldoParameters:Y,setSeasonProfile:f,setSpecialDay:M,setSpecialOperation:ir,turnRelayOff:c,turnRelayOn:V});var hr=function(r){var a={};for(var E in r){var e=r[E];a[e]=E}return a};hr(cr);var mr=0;var Hr=128;var Fr=129;var pr=130;var Ur=131;var yr=132;var Xr=133;var Gr=134;var Yr=135;var Wr=136;var Br=137;var xr=144;var Kr=145;var br=146;var wr=147;var Zr=149;var Qr=151;var jr=152;var zr=153;var kr=154;var $r=155;var qr=156;var Jr=159;var ra=160;var aa=240;var Ea=Object.freeze({__proto__:null,ACCESS_DENIED:wr,BAD_ARRAY_INDEX:Gr,BAD_BLOCK_NUMBER:qr,BAD_DATA_LENGTH:Xr,BAD_MESSAGE:yr,BAD_RATE_PLAN_ID:Wr,BAD_RATE_PLAN_SIZE:Br,BAD_RESPONSE_LENGTH:xr,BAD_SALDO_WRITE:Zr,BLOCKED_METER:Qr,CALIBRATION_DISABLED:br,DECRYPTION_FAILURE:pr,INTERNAL:aa,INVALID_CORRECTION_INTERVAL:kr,NOT_ALIGNED_DATA:Fr,NOT_PREPARED_RATE_PLAN:Yr,NO_DATA_FOR_DATE:Kr,OK:mr,OUT_OFF_RANGE:Jr,SET_METER_TYPE_FAILURE:ra,TIME_CORRECTION_FAILURE:zr,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:$r,UNENCRYPTED_COMMAND_DISABLED:jr,UNKNOWN_COMMAND:Hr,UNKNOWN_PROTOCOL:Ur});hr(Ea);var ea=0;var _a=1;var ta=2;var va=3;var Aa=Object.freeze({__proto__:null,READ_ONLY:va,READ_WRITE:ta,ROOT:_a,UNENCRYPTED:ea});var Ta=Vr;var Ra={encrypt:function(){},decrypt:function(){}};var na=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var E=a;r.forEach(function(r){E^=r});return E};var Oa=E(E(E(E({},ea,0),va,1),ta,2),_a,3);var ia=function(r){var a=va;r.forEach(function(r){var E;if("accessLevel"in r){E=r.accessLevel}if("command"in r){E=r.command.accessLevel}if(Oa[E]>Oa[a]){a=E}});return a};var oa=16;var sa=[0];var Na=function(r){return function(a,E){var e=E.messageId,_=e===void 0?1:e,v=E.accessLevel,A=v===void 0?ia(a):v,T=E.aesKey;var R=a.flatMap(function(a){if("id"in a){return r[a.id](a.parameters||{})}if("command"in a){return a.command.bytes}throw new Error("wrong command format")});var n=A|16;var O=[_,n];var i=a.length===1&&"id"in a[0]&&a[0].id===Ta;if(i){return O.concat(R)}var o=[].concat(n,R,sa);if(A!==ea){var s=(o.length+1)%oa;if(s){o=o.concat(new Array(oa-s).fill(0))}}o=o.concat(na(o));if(T&&A!==ea){o=t(Ra.encrypt(T,o))}return O.concat(o)}};hr(gr);var Ca=O;var Pa=function(){return n(Ca)};var Da=i;var Sa=function(r){if(r.energyType){return n(Da,[r.energyType])}return n(Da)};var Ia=o;var fa=function(){return n(Ia)};var Ma=s;var ga=function(){return n(Ma)};var ua=N;var da=function(){return n(ua)};var La=1;var la=2;var Va=3;var ca=4;var ha=Math.log,ma=Math.pow,Ha=Math.LN2;var Fa=function(r,a,E,e,_){var t,v,A=_*8-e-1,T=(1<<A)-1,R=T>>1,n=-7,O=E?_-1:0,i=E?-1:1,o=r[a+O];O+=i;t=o&(1<<-n)-1;o>>=-n;n+=A;for(;n>0;t=t*256+r[a+O],O+=i,n-=8);v=t&(1<<-n)-1;t>>=-n;n+=e;for(;n>0;v=v*256+r[a+O],O+=i,n-=8);if(t===0){t=1-R}else if(t===T){return v?NaN:o?-Infinity:Infinity}else{v=v+ma(2,e);t=t-R}return(o?-1:1)*v*ma(2,t-e)};var pa=function(r,a,E,e,_,t){var v,A,T,R=t*8-_-1,n=(1<<R)-1,O=n>>1,i=_===23?ma(2,-24)-ma(2,-77):0,o=e?0:t-1,s=e?1:-1,N=E<0||E===0&&1/E<0?1:0;E<0&&(E=-E);if(E!==E||E===Infinity){A=E!==E?1:0;v=n}else{v=ha(E)/Ha|0;if(E*(T=ma(2,-v))<1){v--;T*=2}if(v+O>=1){E+=i/T}else{E+=i*ma(2,1-O)}if(E*T>=2){v++;T/=2}if(v+O>=n){A=0;v=n}else if(v+O>=1){A=(E*T-1)*ma(2,_);v=v+O}else{A=E*ma(2,O-1)*ma(2,_);v=0}}for(;_>=8;r[a+o]=A&255,o+=s,A/=256,_-=8);v=v<<_|A;R+=_;for(;R>0;r[a+o]=v&255,o+=s,v/=256,R-=8);r[a+o-s]|=N*128};var Ua=[1,0];var ya=[2,1,0];var Xa=[3,2,1,0];var Ga=[0,1];var Ya=[0,1,2];var Wa=[0,1,2,3];var Ba=function(r,a){return r[a]};var xa=function(r,a,E){var e=E?Ga:Ua;var _=r[a+e[0]];var t=r[a+e[1]]<<8;return _|t};var Ka=function(r,a,E){var e=E?Ya:ya;var _=r[a+e[0]];var t=r[a+e[1]]<<8;var v=r[a+e[2]]<<16;return _|t|v};var ba=function(r,a,E){var e=E?Wa:Xa;var _=r[a+e[3]]*16777216;var t=r[a+e[2]]*65536;var v=r[a+e[1]]*256;var A=r[a+e[0]];return _+t+v+A};var wa=function(r,a,E){r[a]=E&255};var Za=function(r,a,E,e){var _=e?Ga:Ua;r[a+_[0]]=E&255;r[a+_[1]]=E>>>8&255};var Qa=function(r,a,E,e){var _=e?Ya:ya;r[a+_[0]]=E&255;r[a+_[1]]=E>>>8&255;r[a+_[2]]=E>>>16&255};var ja=function(r,a,E,e){var _=e?Wa:Xa;r[a+_[0]]=E&255;r[a+_[1]]=E>>>8&255;r[a+_[2]]=E>>>16&255;r[a+_[3]]=E>>>24&255};function za(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof r==="number"){var E=new Array(r).fill(0);this.data=E}else{this.data=r}this.offset=0;this.isLittleEndian=a}za.prototype={toUint8Array:function(){return this.data},seek:function(r){if(r<0||r>=this.data.length){throw new Error("Invalid position.")}this.offset=r},setInt8:function(r){wa(this.data,this.offset,r<0?r|256:r);this.offset+=La},getInt8:function(){var r=Ba(this.data,this.offset);this.offset+=La;return r&128?r^-256:r},setUint8:function(r){wa(this.data,this.offset,r);this.offset+=La},getUint8:function(){var r=Ba(this.data,this.offset);this.offset+=La;return r},setInt16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Za(this.data,this.offset,r<0?r|65536:r,a);this.offset+=la},getInt16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=xa(this.data,this.offset,r);this.offset+=la;return a&32768?a^-65536:a},setUint16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Za(this.data,this.offset,r,a);this.offset+=la},getUint16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=xa(this.data,this.offset,r);this.offset+=la;return a},setInt24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Qa(this.data,this.offset,r<0?r|16777216:r,a);this.offset+=Va},getInt24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Ka(this.data,this.offset,r);this.offset+=Va;return a&8388608?a^-16777216:a},setUint24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Qa(this.data,this.offset,r,a);this.offset+=Va},getUint24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Ka(this.data,this.offset,r);this.offset+=Va;return a},setInt32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ja(this.data,this.offset,r<0?r|4294967296:r,a);this.offset+=ca},getInt32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=ba(this.data,this.offset,r);this.offset+=ca;return a&2147483648?a^-4294967296:a},setUint32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ja(this.data,this.offset,r,a);this.offset+=ca},getUint32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=ba(this.data,this.offset,r);this.offset+=ca;return a},setFloat32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;pa(this.data,this.offset,r,a,23,4);this.offset+=ca},getFloat32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Fa(this.data,this.offset,r,23,4);this.offset+=ca;return a},setString:function(r){this.setUint8(r.length);for(var a=0;a<r.length;++a){this.setUint8(r.charCodeAt(a))}},getString:function(){var r=this.getUint8();var a=this.offset+r;var E=[];while(this.offset<a){E.push(String.fromCharCode(this.getUint8()))}return E.join("")},getBytesToOffset:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,r)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=a+r;return this.data.slice(a,this.offset)},setBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var E=this.data;E.splice.apply(E,[a,r.length].concat(t(r)));this.data=E;this.offset=a+r.length}};Object.defineProperties(za.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var ka=80;var $a=81;var qa=82;var Ja=83;var rE=84;var aE=85;var EE=86;var eE=87;var _E=88;var tE=89;var vE=90;var AE=91;var TE=255;var RE=Object.freeze({__proto__:null,DATA_REQUEST:ka,DATA_RESPONSE:$a,FRAGMENT_REQUEST:vE,FRAGMENT_RESPONSE:AE,IDENT_REQUEST:qa,IDENT_RESPONSE:Ja,INVALID:TE,L2_CHECK_ADDRESS_REQUEST:EE,L2_CHECK_ADDRESS_RESPONSE:eE,L2_RM_ADDRESS_REQUEST:_E,L2_RM_ADDRESS_RESPONSE:tE,L2_SET_ADDRESS_REQUEST:rE,L2_SET_ADDRESS_RESPONSE:aE});hr(RE);hr(Aa);var nE=0;var OE=1;var iE=2;var oE=3;var sE=4;var NE=5;var CE=6;var PE=7;var DE=8;var SE=9;var IE=10;var fE=11;var ME=12;var gE=13;var uE=14;var dE=Object.freeze({__proto__:null,CASE_MODULE_OPEN:IE,CASE_OPEN:nE,CASE_TERMINAL_OPEN:SE,DEVICE_FAILURE:DE,ERROR_ACCESS:NE,MAGNETIC_ON:OE,PARAMETERS_UPDATE_LOCAL:oE,PARAMETERS_UPDATE_REMOTE:iE,PROTECTION_RESET_EM:gE,PROTECTION_RESET_MAGNETIC:uE,RESTART:sE,TARIFF_TABLE_GET:ME,TARIFF_TABLE_SET:fE,TIME_CORRECT:PE,TIME_SET:CE});hr(dE);var LE=1;var lE=2;var VE=3;var cE=16;var hE=17;var mE=18;var HE=19;var FE=20;var pE=21;var UE=32;var yE=33;var XE=34;var GE=35;var YE=36;var WE=37;var BE=38;var xE=39;var KE=40;var bE=41;var wE=49;var ZE=50;var QE=51;var jE=52;var zE=53;var kE=54;var $E=55;var qE=56;var JE=57;var re=58;var ae=59;var Ee=64;var ee=65;var _e=66;var te=67;var ve=68;var Ae=69;var Te=70;var Re=71;var ne=72;var Oe=73;var ie=74;var oe=75;var se=76;var Ne=77;var Ce=78;var Pe=79;var De=80;var Se=81;var Ie=82;var fe=83;var Me=84;var ge=85;var ue=86;var de=87;var Le=88;var le=89;var Ve=96;var ce=97;var he=98;var me=99;var He=100;var Fe=101;var pe=102;var Ue=103;var ye=104;var Xe=105;var Ge=112;var Ye=113;var We=114;var Be=115;var xe=116;var Ke=117;var be=118;var we=119;var Ze=120;var Qe=121;var je=122;var ze=123;var ke=124;var $e=125;var qe=144;var Je=145;var r_=147;var a_=148;var E_=152;var e_=156;var __=157;var t_=158;var v_=159;var A_=160;var T_=161;var R_=162;var n_=176;var O_=177;var i_=178;var o_=179;var s_=180;var N_=181;var C_=182;var P_=183;var D_=185;var S_=186;var I_=224;var f_=225;var M_=226;var g_=227;var u_=228;var d_=229;var L_=230;var l_=231;var V_=232;var c_=Object.freeze({__proto__:null,ACCESS_ERROR:hE,ACCESS_LOCKED:cE,ACC_PARAMETERS_EXT_FAULT:Be,ACC_PARAMETERS_FAULT:We,BAD_TEST_EEPROM:ye,BAD_TEST_FRAM:Xe,BATTERY_FAULT:fe,BATTERY_OK:Ie,BIPOLAR_POWER_FAULT:s_,BIPOLAR_POWER_OK:N_,BLOCK_TARIFF_FAULT:Ke,CALC_PERIOD_FAULT:xe,CALIBRATION_FAULT:ge,CALIBRATION_FLAG_RESET:Ue,CALIBRATION_FLAG_SET:pe,CALIBRATION_OK:Me,CALIBRATION_PARAMETERS_FAULT:be,CASE_CLOSED:HE,CASE_MODULE_CLOSED:$e,CASE_MODULE_OPENED:ke,CASE_OPENED:mE,CASE_TERMINAL_BOX_CLOSED:ze,CASE_TERMINAL_BOX_OPENED:je,CHANGE_ACCESS_KEY0:UE,CHANGE_ACCESS_KEY1:yE,CHANGE_ACCESS_KEY2:XE,CHANGE_ACCESS_KEY3:GE,CHANGE_COR_TIME:bE,CHANGE_PARAMETERS_CHANNEL:D_,CHANGE_PARAMETERS_LOCAL:YE,CHANGE_PARAMETERS_REMOTE:WE,CHANGE_TARIFF_TABLE:ZE,CHANGE_TARIFF_TABLE_2:E_,CLOCK_FAULT:de,CLOCK_OK:ue,CMD_RELAY_2_OFF:ce,CMD_RELAY_2_ON:Ve,CMD_RELAY_OFF:KE,CMD_RELAY_ON:xE,CMD_SET_DATETIME:BE,COSF_MIN_OVER:ae,COSF_OK:re,CROSS_ZERO_EN_T1:he,CROSS_ZERO_EN_T2:me,CROSS_ZERO_EN_T3:He,CROSS_ZERO_EN_T4:Fe,CROSS_ZERO_EXPORT_EN_T1:t_,CROSS_ZERO_EXPORT_EN_T2:v_,CROSS_ZERO_EXPORT_EN_T3:A_,CROSS_ZERO_EXPORT_EN_T4:T_,CURRENT_UNEQUAL_FAULT:i_,CURRENT_UNEQUAL_OK:o_,EM_MAGNETIC_INFLUENCE_OFF:O_,EM_MAGNETIC_INFLUENCE_ON:n_,ENERGY_REGISTER_FAULT:LE,ENERGY_REGISTER_OVERFLOW:wE,F_MAX_OK:ne,F_MAX_OVER:Oe,F_MIN_OK:ie,F_MIN_OVER:oe,I_MAX_OK:se,I_MAX_OVER:Ne,MAGNETIC_INFLUENCE_OFF:pE,MAGNETIC_INFLUENCE_ON:FE,OPERATOR_PARAMETERS_VALUES_FAULT:VE,POWER_A_OFF:Le,POWER_A_ON:le,POWER_OVER_RELAY_OFF:__,POWER_SALDO_OK:De,POWER_SALDO_OVER:Se,P_MAX_A_MINUS_OK:l_,P_MAX_A_MINUS_OVER:V_,P_MAX_OK:Ce,P_MAX_OVER:Pe,RELAY_HARD_BAD_OFF:qe,RELAY_HARD_BAD_ON:r_,RELAY_HARD_OFF:a_,RELAY_HARD_ON:Je,RELAY_OFF:$E,RELAY_OFF_BAD_SALDO:S_,RELAY_ON:kE,RESET_EM_FLAG:C_,RESET_MAGNET_FLAG:P_,RESTART:qE,SALDO_EN_FAULT:Ze,SALDO_PARAMETERS_FAULT:Ye,SET_DEMAND_EN_10MIN:g_,SET_DEMAND_EN_15MIN:u_,SET_DEMAND_EN_1MIN:I_,SET_DEMAND_EN_30MIN:d_,SET_DEMAND_EN_3MIN:f_,SET_DEMAND_EN_5MIN:M_,SET_DEMAND_EN_60MIN:L_,SET_NEW_SALDO:Ge,SET_SALDO_PARAM:e_,SET_TARIFF_TABLE:QE,SUMMER_TIME:jE,TIME_CORRECT:Qe,TIME_CORRECT_NEW:R_,T_MAX_OK:ve,T_MAX_OVER:Ae,T_MIN_OK:Te,T_MIN_OVER:Re,VENDOR_PAR_FAULT:lE,V_MAX_OK:Ee,V_MAX_OVER:ee,V_MIN_OK:_e,V_MIN_OVER:te,WATCHDOG_RESTART:JE,WINTER_SUMMER_FAULT:we,WINTER_TIME:zE});hr(c_);var h_=1;var m_=2;var H_=3;var F_=4;var p_=5;var U_=6;var y_=7;var X_=8;var G_=9;var Y_=10;var W_=11;var B_=12;var x_=13;var K_=14;var b_=15;var w_=16;var Z_=17;var Q_=18;var j_=19;var z_=20;var k_=21;var $_=22;var q_=23;var J_=24;var rt=25;var at=26;var Et=28;var et=30;var _t=31;var tt=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:F_,ACTIVE_ENERGY_T2:p_,ACTIVE_ENERGY_T3:U_,ACTIVE_ENERGY_T4:y_,ACTIVE_POWER_IN_NEUTRAL:G_,ACTIVE_POWER_PER_PHASE:X_,BATTERY_VOLTAGE:$_,CURRENT_BALANCE:et,CURRENT_IN_NEUTRAL:W_,CURRENT_IN_PHASE:Y_,DATE_MONTH_YEAR:K_,EXPORTED_ACTIVE_ENERGY_T1:w_,EXPORTED_ACTIVE_ENERGY_T2:Z_,EXPORTED_ACTIVE_ENERGY_T3:Q_,EXPORTED_ACTIVE_ENERGY_T4:j_,HOUR_MINUTE_SECOND:x_,MAGNET_INDUCTION:Et,OPTOPORT_SPEED:_t,POWER_FACTOR_PHASE_A:z_,POWER_FACTOR_PHASE_B:k_,POWER_THRESHOLD_T1:q_,POWER_THRESHOLD_T2:J_,POWER_THRESHOLD_T3:rt,POWER_THRESHOLD_T4:at,SET_ALL_SEGMENT_DISPLAY:h_,SOFTWARE_VERSION:m_,TOTAL_ACTIVE_ENERGY:H_,TOTAL_EXPORTED_ACTIVE_ENERGY:b_,VOLTAGE:B_});hr(tt);var vt=2400;var At=9600;var Tt={rs485orTwi:{0:At,2:vt,4:At},optoport:{0:vt,2:vt,4:At}};({rs485orTwi:hr(Tt.rs485orTwi),optoport:hr(Tt.optoport)});var Rt=function(r,a){r.setUint8(a.isSummerTime?1:0);r.setUint8(a.seconds);r.setUint8(a.minutes);r.setUint8(a.hours);r.setUint8(a.day||0);r.setUint8(a.date);r.setUint8(a.month);r.setUint8(a.year)};var nt=function(r,a){r.setUint8(a.year);r.setUint8(a.month);r.setUint8(a.date)};var Ot=C;var it=8;var ot=function(r){var a=new za(it,false);Rt(a,r);return n(Ot,a.data)};var st=0;var Nt=1;var Ct=S;var Pt=function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=new za(r?.energyType?Nt:st,false);if(r?.energyType){a.setUint8(r.energyType)}return n(Ct,a.data)};var Dt=d;var St=3;var It=function(r){var a=new za(St,false);nt(a,r.date);return n(Dt,a.data)};var ft=1;var Mt=3;var gt=4;var ut=5;var dt=7;var Lt=8;var lt=9;var Vt=13;var ct=15;var ht=16;var mt=17;var Ht=18;var Ft=19;var pt=20;var Ut=21;var yt=22;var Xt=23;var Gt=24;var Yt=25;var Wt=28;var Bt=30;var xt=31;var Kt=40;var bt=41;var wt=42;var Zt=44;var Qt=46;var jt=47;var zt=49;var kt=50;var $t=51;var qt=52;var Jt=53;var rv=54;var av=57;var Ev=58;var ev=59;var _v=60;var tv=61;var vv=62;var Av=63;var Tv=64;var Rv=69;var nv=70;var Ov=71;var iv=72;var ov=73;var sv=78;var Nv=79;var Cv=80;var Pv=82;var Dv=83;var Sv=84;var Iv=85;var fv=86;var Mv=88;var gv=89;var uv=90;var dv=92;var Lv=93;var lv=94;var Vv=100;var cv=109;var hv=111;var mv=112;var Hv=113;var Fv=114;var pv=115;var Uv=116;var yv=117;var Xv=118;var Gv=122;var Yv=Object.freeze({__proto__:null,activateRatePlan:Ft,getBv:mv,getCorrectTime:vv,getCriticalEvent:fv,getCurrentStatusMeter:av,getCurrentValues:Vt,getDateTime:dt,getDayDemand:yt,getDayDemandExport:Nv,getDayMaxDemand:zt,getDayMaxDemandExport:Mv,getDayProfile:ev,getDemand:Xv,getDeviceId:ut,getDeviceType:gt,getDisplayParam:lv,getEnergy:ct,getEnergyDayPrevious:Mt,getEnergyExport:sv,getEnergyExportDayPrevious:Cv,getEventStatus:ft,getEvents:$t,getEventsCounters:qt,getExtendedCurrentValues:Ev,getHalfHourDemand:Ut,getHalfHourDemandChannel:uv,getHalfHourDemandExport:Dv,getHalfHourDemandVare:ov,getHalfHourDemandVareExport:Iv,getHalfHourDemandVari:iv,getHalfHourDemandVariExport:Sv,getHalfHourEnergies:hv,getMagneticFieldThreshold:cv,getMeterInfo:Gv,getMonthDemand:Xt,getMonthDemandExport:Pv,getMonthMaxDemand:kt,getMonthMaxDemandExport:gv,getOperatorParameters:Bt,getOperatorParametersExtended:Av,getOperatorParametersExtended2:Ov,getOperatorParametersExtended3:Hv,getOperatorParametersExtended4:yv,getQuality:pv,getRatePlanInfo:Zt,getSaldo:bt,getSaldoParameters:Qt,getSeasonProfile:_v,getSpecialDay:tv,getVersion:Kt,prepareRatePlan:pt,resetPowerMaxDay:Jt,resetPowerMaxMonth:rv,runTariffPlan:nv,setAccessKey:lt,setCorrectDateTime:dv,setCorrectTime:Wt,setDateTime:Lt,setDayProfile:ht,setDisplayParam:Lv,setOperatorParameters:xt,setOperatorParametersExtended:Tv,setOperatorParametersExtended2:Rv,setOperatorParametersExtended3:Fv,setOperatorParametersExtended4:Uv,setSaldo:wt,setSaldoParameters:jt,setSeasonProfile:mt,setSpecialDay:Ht,setSpecialOperation:Vv,turnRelayOff:Yt,turnRelayOn:Gt});hr(Yv);var Wv=3;var Bv=4;var xv=yt;var Kv=function(r){var a=new za(r?.energyType?Bv:Wv,false);nt(a,r?.date);if(r?.energyType){a.setUint8(r.energyType)}return n(xv,a.data)};var bv=F;var wv=function(){return n(bv)};var Zv=fv;var Qv=function(r){return n(Zv,[r.event,r.index])};var jv=1;var zv=2;var kv=3;var $v=4;var qv=17;var Jv=18;var rA=19;var aA=20;var EA=21;var eA=22;var _A=23;var tA=32;var vA=33;var AA=34;var TA=35;var RA=36;var nA=37;var OA=38;var iA=39;var oA=40;var sA=49;var NA=50;var CA=51;var PA=52;var DA=53;var SA=54;var IA=55;var fA=56;var MA=57;var gA=64;var uA=65;var dA=66;var LA=67;var lA=68;var VA=69;var cA=70;var hA=71;var mA=72;var HA=73;var FA=74;var pA=75;var UA=76;var yA=77;var XA=78;var GA=79;var YA=80;var WA=81;var BA=82;var xA=83;var KA=84;var bA=85;var wA=86;var ZA=87;var QA=88;var jA=89;var zA=90;var kA=91;var $A=92;var qA=93;var JA=94;var rT=95;var aT=96;var ET=97;var eT=98;var _T=99;var tT=100;var vT=101;var AT=102;var TT=103;var RT=104;var nT=105;var OT=106;var iT=107;var oT=108;var sT=109;var NT=110;var CT=111;var PT=112;var DT=113;var ST=114;var IT=115;var fT=116;var MT=117;var gT=118;var uT=119;var dT=120;var LT=121;var lT=122;var VT=123;var cT=124;var hT=125;var mT=126;var HT=127;var FT=128;var pT=129;var UT=130;var yT=131;var XT=132;var GT=133;var YT=134;var WT=135;var BT=136;var xT=137;var KT=138;var bT=139;var wT=140;var ZT=141;var QT=142;var jT=143;var zT=144;var kT=145;var $T=147;var qT=148;var JT=149;var rR=150;var aR=151;var ER=152;var eR=153;var _R=154;var tR=155;var vR=156;var AR=157;var TR=158;var RR=159;var nR=160;var OR=161;var iR=162;var oR=163;var sR=164;var NR=165;var CR=166;var PR=167;var DR=168;var SR=169;var IR=170;var fR=171;var MR=172;var gR=173;var uR=174;var dR=175;var LR=176;var lR=177;var VR=178;var cR=179;var hR=186;var mR=224;var HR=225;var FR=226;var pR=227;var UR=228;var yR=229;var XR=230;var GR=231;var YR=232;var WR=Object.freeze({__proto__:null,ACCESS_ERROR:rA,ACCESS_LOCKED:qv,ACCESS_UNLOCKED:Jv,ACCUMULATION_PARAMETERS_EXT_FAULT:YT,ACCUMULATION_PARAMETERS_FAULT:GT,BAD_TEST_EEPROM:pT,BAD_TEST_FRAM:UT,BATTERY_FAULT:nT,BATTERY_OK:RT,BLOCK_TARIFF_FAULT:BT,CALCULATION_PERIOD_FAULT:WT,CALIBRATION_FAULT:iT,CALIBRATION_FLAG_RESET:FT,CALIBRATION_FLAG_SET:HT,CALIBRATION_OK:OT,CALIBRATION_PARAMETERS_FAULT:xT,CASE_CLOSED:EA,CASE_MODULE_CLOSED:tR,CASE_MODULE_OPENED:_R,CASE_OPENED:aA,CASE_TERMINAL_BOX_CLOSED:aR,CASE_TERMINAL_BOX_OPENED:rR,CHANGE_ACCESS_KEY0:tA,CHANGE_ACCESS_KEY1:vA,CHANGE_ACCESS_KEY2:AA,CHANGE_ACCESS_KEY3:TA,CHANGE_COR_TIME:PT,CHANGE_PARAMETERS_LOCAL:RA,CHANGE_PARAMETERS_REMOTE:nA,CHANGE_PARAMETER_CHANNEL1:TR,CHANGE_PARAMETER_CHANNEL2:RR,CHANGE_PARAMETER_CHANNEL3:nR,CHANGE_PARAMETER_CHANNEL4:OR,CHANGE_PARAMETER_CHANNEL5:iR,CHANGE_PARAMETER_CHANNEL6:oR,CHANGE_TARIFF_TABLE:NA,CHANGE_TARIFF_TABLE_2:ER,CHANGE_TARIFF_TABLE_3:eR,CLOCK_FAULT:ET,CLOCK_OK:aT,CMD_RELAY_2_OFF:ST,CMD_RELAY_2_ON:DT,CMD_RELAY_OFF:oA,CMD_RELAY_ON:iA,CMD_SET_DATETIME:OA,COEFFICIENT_TRANSFORMATION_CHANGE:jT,CROSS_ZERO_EN_T1:IT,CROSS_ZERO_EN_T2:fT,CROSS_ZERO_EN_T3:MT,CROSS_ZERO_EN_T4:gT,CROSS_ZERO_EXPORT_EN_T1:sR,CROSS_ZERO_EXPORT_EN_T2:NR,CROSS_ZERO_EXPORT_EN_T3:CR,CROSS_ZERO_EXPORT_EN_T4:PR,CROSS_ZERO_EXPORT_VARE1:MR,CROSS_ZERO_EXPORT_VARE2:gR,CROSS_ZERO_EXPORT_VARE3:uR,CROSS_ZERO_EXPORT_VARE4:dR,CROSS_ZERO_EXPORT_VARI1:DR,CROSS_ZERO_EXPORT_VARI2:SR,CROSS_ZERO_EXPORT_VARI3:IR,CROSS_ZERO_EXPORT_VARI4:fR,CROSS_ZERO_VARE_T1:VT,CROSS_ZERO_VARE_T2:cT,CROSS_ZERO_VARE_T3:hT,CROSS_ZERO_VARE_T4:mT,CROSS_ZERO_VARI_T1:uT,CROSS_ZERO_VARI_T2:dT,CROSS_ZERO_VARI_T3:LT,CROSS_ZERO_VARI_T4:lT,EM_MAGNETIC_INFLUENCE_OFF:lR,EM_MAGNETIC_INFLUENCE_ON:LR,ENERGY_REGISTER_OVERFLOW:sA,ENERGY_T1_FAULT:jv,ENERGY_T2_FAULT:zv,ENERGY_T3_FAULT:kv,ENERGY_T4_FAULT:$v,F_MAX_OK:UA,F_MAX_OVER:yA,F_MIN_OK:XA,F_MIN_UNDER:GA,IA_MAX_OK:KA,IA_MAX_OVER:bA,IB_MAX_OK:wA,IB_MAX_OVER:ZA,IC_MAX_OK:QA,IC_MAX_OVER:jA,IDIFF_OK:JA,IDIFF_OVER:rT,MAGNETIC_INFLUENCE_OFF:_A,MAGNETIC_INFLUENCE_ON:eA,METER_TROUBLE:JT,OPERATOR_PARAMETERS_EXT_VALUES_FAULT:wT,OPERATOR_PARAMETERS_VALUES_FAULT:bT,O_PARAMETERS_FAULT:CT,O_PARAMETERS_OK:NT,PA_MAX_OK:zA,PA_MAX_OVER:kA,POWER_A_OFF:TT,POWER_A_ON:AT,POWER_B_OFF:vT,POWER_B_ON:tT,POWER_C_OFF:_T,POWER_C_ON:eT,POWER_OVER_RELAY_OFF:AR,PV_MAX_OK:$A,PV_MAX_OVER:qA,P_MAX_A_MINUS_OK:GR,P_MAX_A_MINUS_OVER:YR,RELAY_HARD_BAD_OFF:zT,RELAY_HARD_BAD_ON:$T,RELAY_HARD_OFF:qT,RELAY_HARD_ON:kT,RELAY_OFF:IA,RELAY_OFF_BAD_SALDO:hR,RELAY_ON:SA,RESET_EM_FLAG:VR,RESET_MAGNETIC_FLAG:cR,RESTART:fA,SALDO_ENERGY_FAULT:ZT,SALDO_PARAMETERS_FAULT:XT,SET_DEMAND_EN_10_MIN:pR,SET_DEMAND_EN_15_MIN:UR,SET_DEMAND_EN_1_MIN:mR,SET_DEMAND_EN_30_MIN:yR,SET_DEMAND_EN_3_MIN:HR,SET_DEMAND_EN_5_MIN:FR,SET_DEMAND_EN_60_MIN:XR,SET_NEW_SALDO:yT,SET_SALDO_PARAM:vR,SET_TARIFF_TABLE:CA,SUMMER_TIME:PA,TIME_CORRECT:QT,T_MAX_OK:YA,T_MAX_OVER:WA,T_MIN_OK:BA,T_MIN_UNDER:xA,VA_MAX_OK:gA,VA_MAX_OVER:uA,VA_MIN_OK:dA,VA_MIN_UNDER:LA,VB_MAX_OK:lA,VB_MAX_OVER:VA,VB_MIN_OK:cA,VB_MIN_UNDER:hA,VC_MAX_OK:mA,VC_MAX_OVER:HA,VC_MIN_OK:FA,VC_MIN_UNDER:pA,V_PARAMETERS_FAULT:sT,V_PARAMETERS_OK:oT,WATCHDOG_RESTART:MA,WINTER_SUMMER_FAULT:KT,WINTER_TIME:DA});hr(WR);var BR=1;var xR=2;var KR=3;var bR=4;var wR=5;var ZR=6;var QR=7;var jR=8;var zR=9;var kR=10;var $R=11;var qR=12;var JR=13;var rn=14;var an=15;var En=16;var en=17;var _n=18;var tn=19;var vn=20;var An=21;var Tn=22;var Rn=23;var nn=24;var On=25;var on=26;var sn=27;var Nn=28;var Cn=29;var Pn=30;var Dn=31;var Sn=32;var In=33;var fn=34;var Mn=35;var gn=36;var un=37;var dn=38;var Ln=39;var ln=40;var Vn=41;var cn=42;var hn=43;var mn=44;var Hn=45;var Fn=46;var pn=47;var Un=48;var yn=49;var Xn=50;var Gn=51;var Yn=52;var Wn=53;var Bn=54;var xn=55;var Kn=56;var bn=57;var wn=58;var Zn=59;var Qn=60;var jn=61;var zn=62;var kn=63;var $n=64;var qn=65;var Jn=66;var rO=67;var aO=68;var EO=69;var eO=70;var _O=71;var tO=72;var vO=73;var AO=74;var TO=75;var RO=76;var nO=77;var OO=78;var iO=79;var oO=80;var sO=81;var NO=82;var CO=83;var PO=84;var DO=85;var SO=86;var IO=87;var fO=88;var MO=89;var gO=90;var uO=91;var dO=92;var LO=93;var lO=94;var VO=95;var cO=96;var hO=97;var mO=98;var HO=99;var FO=100;var pO=101;var UO=102;var yO=103;var XO=104;var GO=105;var YO=106;var WO=107;var BO=108;var xO=109;var KO=110;var bO=111;var wO=112;var ZO=113;var QO=114;var jO=115;var zO=116;var kO=117;var $O=118;var qO=119;var JO=120;var ri=121;var ai=122;var Ei=123;var ei=124;var _i=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:bR,ACTIVE_ENERGY_T2:wR,ACTIVE_ENERGY_T3:ZR,ACTIVE_ENERGY_T4:QR,ACTIVE_POWER_PHASE_A:hn,ACTIVE_POWER_PHASE_B:mn,ACTIVE_POWER_PHASE_C:Hn,APPARENT_POWER_QMINUS_PHASE_A:kn,APPARENT_POWER_QMINUS_PHASE_B:$n,APPARENT_POWER_QMINUS_PHASE_C:qn,APPARENT_POWER_QPLUS_PHASE_A:Zn,APPARENT_POWER_QPLUS_PHASE_B:Qn,APPARENT_POWER_QPLUS_PHASE_C:jn,BATTERY_VOLTAGE:ln,CURRENT_BALANCE:$O,CURRENT_IN_NEUTRAL:gn,CURRENT_IN_PHASE_A:In,CURRENT_IN_PHASE_B:fn,CURRENT_IN_PHASE_C:Mn,CURRENT_TRANSFORMATION_RATIO:zO,DATE_MONTH_YEAR:jO,EXPORTED_ACTIVE_ENERGY_T1:tn,EXPORTED_ACTIVE_ENERGY_T2:vn,EXPORTED_ACTIVE_ENERGY_T3:An,EXPORTED_ACTIVE_ENERGY_T4:Tn,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:Cn,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:Pn,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:Dn,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:Sn,EXPORTED_REACTIVE_ENERGY_T1:nn,EXPORTED_REACTIVE_ENERGY_T2:On,EXPORTED_REACTIVE_ENERGY_T3:on,EXPORTED_REACTIVE_ENERGY_T4:sn,HOUR_MINUTE_SECOND:QO,MAGNET_INDUCTION:ei,MAX_ACTIVE_POWER_DAY_T1:Jn,MAX_ACTIVE_POWER_DAY_T2:rO,MAX_ACTIVE_POWER_DAY_T3:aO,MAX_ACTIVE_POWER_DAY_T4:EO,MAX_ACTIVE_POWER_MONTH_T1:eO,MAX_ACTIVE_POWER_MONTH_T2:_O,MAX_ACTIVE_POWER_MONTH_T3:tO,MAX_ACTIVE_POWER_MONTH_T4:vO,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:gO,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:uO,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:dO,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:LO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:lO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:VO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:cO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:hO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:YO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:WO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:BO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:xO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:KO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:bO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:wO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:ZO,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:mO,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:HO,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:FO,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:pO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:UO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:yO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:XO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:GO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:NO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:CO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:PO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:DO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:SO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:IO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:fO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:MO,MAX_REACTIVE_POWER_DAY_T1:AO,MAX_REACTIVE_POWER_DAY_T2:TO,MAX_REACTIVE_POWER_DAY_T3:RO,MAX_REACTIVE_POWER_DAY_T4:nO,MAX_REACTIVE_POWER_MONTH_T1:OO,MAX_REACTIVE_POWER_MONTH_T2:iO,MAX_REACTIVE_POWER_MONTH_T3:oO,MAX_REACTIVE_POWER_MONTH_T4:sO,NEGATIVE_REACTIVE_ENERGY_T1:rn,NEGATIVE_REACTIVE_ENERGY_T2:an,NEGATIVE_REACTIVE_ENERGY_T3:En,NEGATIVE_REACTIVE_ENERGY_T4:en,OPTOPORT_SPEED:Ei,POWER_FACTOR_PHASE_A:xn,POWER_FACTOR_PHASE_B:Kn,POWER_FACTOR_PHASE_C:bn,POWER_THRESHOLD_T1:qO,POWER_THRESHOLD_T2:JO,POWER_THRESHOLD_T3:ri,POWER_THRESHOLD_T4:ai,REACTIVE_ENERGY_T1:zR,REACTIVE_ENERGY_T2:kR,REACTIVE_ENERGY_T3:$R,REACTIVE_ENERGY_T4:qR,REACTIVE_POWER_QMINUS_PHASE_A:Gn,REACTIVE_POWER_QMINUS_PHASE_B:Yn,REACTIVE_POWER_QMINUS_PHASE_C:Wn,REACTIVE_POWER_QPLUS_PHASE_A:pn,REACTIVE_POWER_QPLUS_PHASE_B:Un,REACTIVE_POWER_QPLUS_PHASE_C:yn,SET_ALL_SEGMENT_DISPLAY:BR,SOFTWARE_VERSION:xR,SUPPLY_FREQUENCY:Vn,TOTAL_ACTIVE_ENERGY:KR,TOTAL_ACTIVE_POWER:cn,TOTAL_APPARENT_POWER_QMINUS:zn,TOTAL_APPARENT_POWER_QPLUS:wn,TOTAL_EXPORTED_ACTIVE_ENERGY:_n,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:Nn,TOTAL_EXPORTED_REACTIVE_ENERGY:Rn,TOTAL_NEGATIVE_REACTIVE_ENERGY:JR,TOTAL_POWER_FACTOR:Bn,TOTAL_REACTIVE_ENERGY:jR,TOTAL_REACTIVE_POWER_QMINUS:Xn,TOTAL_REACTIVE_POWER_QPLUS:Fn,VOLTAGE_IN_PHASE_A:un,VOLTAGE_IN_PHASE_B:dn,VOLTAGE_IN_PHASE_C:Ln,VOLTAGE_TRANSFORMATION_RATIO:kO});hr(_i);var ti=120;var vi=254;var Ai=255;var Ti=Object.freeze({__proto__:null,activateRatePlan:Ft,errorDataFrameResponse:Ai,errorResponse:vi,getBv:mv,getCorrectTime:vv,getCriticalEvent:fv,getCurrentStatusMeter:av,getCurrentValues:Vt,getDateTime:dt,getDayDemand:yt,getDayDemandExport:Nv,getDayEnergies:ti,getDayMaxDemand:zt,getDayMaxDemandExport:Mv,getDayProfile:ev,getDemand:Xv,getDeviceId:ut,getDeviceType:gt,getDisplayParam:lv,getEnergy:ct,getEnergyDayPrevious:Mt,getEnergyExport:sv,getEnergyExportDayPrevious:Cv,getEventStatus:ft,getEvents:$t,getEventsCounters:qt,getExtendedCurrentValues:Ev,getHalfHourDemand:Ut,getHalfHourDemandChannel:uv,getHalfHourDemandExport:Dv,getHalfHourDemandVare:ov,getHalfHourDemandVareExport:Iv,getHalfHourDemandVari:iv,getHalfHourDemandVariExport:Sv,getHalfHourEnergies:hv,getMagneticFieldThreshold:cv,getMeterInfo:Gv,getMonthDemand:Xt,getMonthDemandExport:Pv,getMonthMaxDemand:kt,getMonthMaxDemandExport:gv,getOperatorParameters:Bt,getOperatorParametersExtended:Av,getOperatorParametersExtended2:Ov,getOperatorParametersExtended3:Hv,getOperatorParametersExtended4:yv,getQuality:pv,getRatePlanInfo:Zt,getSaldo:bt,getSaldoParameters:Qt,getSeasonProfile:_v,getSpecialDay:tv,getVersion:Kt,prepareRatePlan:pt,resetPowerMaxDay:Jt,resetPowerMaxMonth:rv,runTariffPlan:nv,setAccessKey:lt,setCorrectDateTime:dv,setCorrectTime:Wt,setDateTime:Lt,setDayProfile:ht,setDisplayParam:Lv,setOperatorParameters:xt,setOperatorParametersExtended:Tv,setOperatorParametersExtended2:Rv,setOperatorParametersExtended3:Fv,setOperatorParametersExtended4:Uv,setSaldo:wt,setSaldoParameters:jt,setSeasonProfile:mt,setSpecialDay:Ht,setSpecialOperation:Vv,turnRelayOff:Yt,turnRelayOn:Gt});hr(Ti);var Ri=2400;var ni=9600;var Oi={rs485orTwi:{0:ni,2:Ri,4:ni},optoport:{0:ni,2:Ri,4:ni}};({rs485orTwi:hr(Oi.rs485orTwi),optoport:hr(Oi.optoport)});var ii=function(r,a){var E=a.date.year<<1|a.date.month>>3&1;var e=a.date.month<<5&224|a.date.date&31;r.setUint8(E);r.setUint8(e);r.setUint8(a.demandType);r.setUint16(a.firstIndex);r.setUint8(a.count);r.setUint8(a.period)};var oi=Xv;var si=7;var Ni=function(r){var a=new za(si,false);ii(a,r);return n(oi,a.data)};var Ci=145;var Pi=30;var Di=function(r){var a=[Pi,r.length+2,0,Ci].concat(t(r));return[].concat(t(a),[na(a)])};var Si;var Ii=(Si={},E(E(E(E(E(E(E(E(E(E(Si,Ca,Pa),Da,Sa),Ia,fa),Ma,ga),ua,da),Ot,ot),Ct,Pt),Dt,It),xv,Kv),bv,wv),E(E(Si,Zv,Qv),oi,Ni));toBytes=Na(Ii);getBase64FromBytes=R;setDataSegment=Di})();
//#endregion


/*
  Incoming arguments:
    * msg - JSON message payload downlink message json
    * msgType - type of message, for ex. 'ATTRIBUTES_UPDATED', 'POST_TELEMETRY_REQUEST', etc.
    * metadata - list of key-value pairs with additional data about the message
    * integrationMetadata - list of key-value pairs with additional data defined in Integration executing this converter

  Output must be an object with the following fields:
    * contentType - BINARY
    * data - payload in base64
*/

var bytes = toBytes(msg.commands);

// send nothing if not fit in a single data segment
if ( bytes.length > MAX_DATA_SEGMENT_SIZE ) {
    bytes = [];
} else {
    bytes = setDataSegment(bytes);
}

var result = {
    contentType: 'BINARY',
    data: getBase64FromBytes(bytes)
};

return result;
