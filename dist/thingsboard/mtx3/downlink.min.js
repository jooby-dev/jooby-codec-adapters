// IMPORTANT!!!
// This example only for default downlink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// encoded message should be less than this size
// to be able to send to a device
var MAX_DATA_SEGMENT_SIZE = 50;


//#region [autogenerated jooby-codec bundle from index.js]
var toBytes,setDataSegment,getBase64FromBytes;(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function e(t){if(Array.isArray(t))return t}function r(e){if(Array.isArray(e))return t(e)}function a(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function n(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var a,n,i,E,_=[],s=true,o=false;try{if(i=(r=r.call(t)).next,0===e);else for(;!(s=(a=i.call(r)).done)&&(_.push(a.value),_.length!==e);s=!0);}catch(t){o=true,n=t}finally{try{if(!s&&null!=r.return&&(E=r.return(),Object(E)!==E))return}finally{if(o)throw n}}return _}}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t,r){return e(t)||n(t,r)||o(t,r)||i()}function s(t){return r(t)||a(t)||o(t)||E()}function o(e,r){if(e){if("string"==typeof e)return t(e,r);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,r):void 0}}var v={separator:" ",prefix:""};var A=1;var T=2;var R=3;var h=4;var u=Math.log,O=Math.pow,f=Math.LN2;var P=function(t,e,r,a,n){var i,E,_=n*8-a-1,s=(1<<_)-1,o=s>>1,v=-7,A=r?n-1:0,T=r?-1:1,R=t[e+A];A+=T;i=R&(1<<-v)-1;R>>=-v;v+=_;for(;v>0;i=i*256+t[e+A],A+=T,v-=8);E=i&(1<<-v)-1;i>>=-v;v+=a;for(;v>0;E=E*256+t[e+A],A+=T,v-=8);if(i===0){i=1-o}else if(i===s){return E?NaN:R?-Infinity:Infinity}else{E=E+O(2,a);i=i-o}return(R?-1:1)*E*O(2,i-a)};var g=function(t,e,r,a,n,i){var E,_,s,o=i*8-n-1,v=(1<<o)-1,A=v>>1,T=n===23?O(2,-24)-O(2,-77):0,R=a?0:i-1,h=a?1:-1,P=r<0||r===0&&1/r<0?1:0;r<0&&(r=-r);if(r!==r||r===Infinity){_=r!==r?1:0;E=v}else{E=u(r)/f|0;if(r*(s=O(2,-E))<1){E--;s*=2}if(E+A>=1){r+=T/s}else{r+=T*O(2,1-A)}if(r*s>=2){E++;s/=2}if(E+A>=v){_=0;E=v}else if(E+A>=1){_=(r*s-1)*O(2,n);E=E+A}else{_=r*O(2,A-1)*O(2,n);E=0}}for(;n>=8;t[e+R]=_&255,R+=h,_/=256,n-=8);E=E<<n|_;o+=n;for(;o>0;t[e+R]=E&255,R+=h,E/=256,o-=8);t[e+R-h]|=P*128};var d=[1,0];var U=[2,1,0];var l=[3,2,1,0];var I=[0,1];var p=[0,1,2];var N=[0,1,2,3];var M=function(t,e){return t[e]};var c=function(t,e,r){var a=r?I:d;var n=t[e+a[0]];var i=t[e+a[1]]<<8;return n|i};var C=function(t,e,r){var a=r?p:U;var n=t[e+a[0]];var i=t[e+a[1]]<<8;var E=t[e+a[2]]<<16;return n|i|E};var D=function(t,e,r){var a=r?N:l;var n=t[e+a[3]]*16777216;var i=t[e+a[2]]*65536;var E=t[e+a[1]]*256;var _=t[e+a[0]];return n+i+E+_};var S=function(t,e,r){t[e]=r&255};var m=function(t,e,r,a){var n=a?I:d;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255};var y=function(t,e,r,a){var n=a?p:U;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255;t[e+n[2]]=r>>>16&255};var L=function(t,e,r,a){var n=a?N:l;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255;t[e+n[2]]=r>>>16&255;t[e+n[3]]=r>>>24&255};function V(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var r=new Array(t).fill(0);this.data=r}else{this.data=t}this.offset=0;this.isLittleEndian=e}V.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){S(this.data,this.offset,t<0?t|256:t);this.offset+=A},getInt8:function(){var t=M(this.data,this.offset);this.offset+=A;return t&128?t^-256:t},setUint8:function(t){S(this.data,this.offset,t);this.offset+=A},getUint8:function(){var t=M(this.data,this.offset);this.offset+=A;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;m(this.data,this.offset,t<0?t|65536:t,e);this.offset+=T},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=c(this.data,this.offset,t);this.offset+=T;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;m(this.data,this.offset,t,e);this.offset+=T},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=c(this.data,this.offset,t);this.offset+=T;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;y(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=R},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=C(this.data,this.offset,t);this.offset+=R;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;y(this.data,this.offset,t,e);this.offset+=R},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=C(this.data,this.offset,t);this.offset+=R;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=h},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=D(this.data,this.offset,t);this.offset+=h;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;L(this.data,this.offset,t,e);this.offset+=h},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=D(this.data,this.offset,t);this.offset+=h;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;g(this.data,this.offset,t,e,23,4);this.offset+=h},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=P(this.data,this.offset,t,23,4);this.offset+=h;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var r=[];while(this.offset<e){r.push(String.fromCharCode(this.getUint8()))}return r.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var r=this.data;r.splice.apply(r,[e,t.length].concat(s(t)));this.data=r;this.offset=e+t.length}};Object.defineProperties(V.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var F=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=0;for(var a in e){if(a in t&&e[a]){r|=t[a]}}return r};var Y=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r={};for(var a in t){r[a]=(e&t[a])!==0}return r};var x=function(t,e,r){return(1<<e)-1&t>>r-1};var H=function(t,e,r,a){var n=(1<<e)-1<<r-1;var i=a;var E=t;E&=~n;i<<=r-1;E|=i;return E};var X=function(t){var e=t.trim();if(!e){return[]}e=e.replace(/0x/g,"").split(/\s+/).map((function(t){return t.padStart(2,"0")})).join("");if(e.length%2!==0){e="0".concat(e)}var r=e.length/2;var a=new Array(r);for(var n=0;n<r;n++){a[n]=parseInt(e.substring(n*2,n*2+2),16)}return a};var G="x";var W=[".","1","3","R","M"];var B=[".","A","G","R","T","D"];var w=[".","0","1","2","3","4","5"];var K=[".","A","B","C","D","E","F"];var b=[".","A","B","C","D","E","F","H","K","G"];var Q=[".","1","2","3","4"];var Z=[".","L","M","Z","K"];var j=[".","0","1","2","3","4","5","6","7","8","9"];var z=[".","D","B","C","E","P","R","O","L","F","S","M","Y","G","N","U"];var k=[".","0","1","2","3","4","5","6","P","R","L","E","G","-","/"];var q=[".","H","A","T","0","0","0","0","0","1","2","3","4","0","0","0"];var $=[".","0","1","2","3","4","5","6","7","8","I","X","G","W","M","-"];var J=function(t){return[t>>4,t&15]};var tt=function(t){var e=new Array(t.length*2).fill(0);t.forEach((function(t,r){var a=J(t),n=_(a,2),i=n[0],E=n[1];e[r*2]=i;e[r*2+1]=E}));return e};var et=function(t){var e=[];t.forEach((function(t){return e.push(t.toString(16))}));if(t.length&1){e.push("0")}return X(e.join(""))};var rt=function(t){if(t.length!==14&&t.length!==16){throw new Error("Device type bytes wrong size")}var e=["MTX "];e.push(W[t[0]]??G);e.push(B[t[1]]??G);e.push(w[t[2]]??G);e.push(w[t[3]]??G);e.push(".");e.push(K[t[4]]??G);e.push(b[t[5]]??G);e.push(".");e.push(Q[t[6]]??G);e.push(Z[t[7]]??G);var r=t[8];e.push(j[t[9]]??G);e.push("-");var a;if(t.length<14||t[12]===0&&t[13]===0){e.push(z[t[10]]??G);a=11}else if(t[13]===0){e.push(z[t[10]]??G);e.push(z[t[11]]??G);a=12}else{e.push(z[t[10]]??G);e.push(z[t[11]]??G);e.push(z[t[12]]??G);a=13}var n=t[a];if(n&&n!==0){e.push(q[n]??G)}return{type:e.join(""),revision:r,meterType:0}};var at=function(t,e,r){var a=[];if(t.length<11){throw new Error("Wrong format")}a.push(W.indexOf(t[0]));a.push(B.indexOf(t[1]));a.push(w.indexOf(t[2]));a.push(w.indexOf(t[3]));if(t[4]!=="."){throw new Error("Wrong format")}a.push(K.indexOf(t[5]));a.push(b.indexOf(t[6]));if(t[7]!=="."){throw new Error("Wrong format")}a.push(Q.indexOf(t[8]));a.push(Z.indexOf(t[9]));a.push(r??0);a.push(j.indexOf(t[10]));if(t[11]!=="-"){throw new Error("Wrong format")}var n=t.length>13?t.length-1:t.length;for(var i=12;i<n;i++){a.push(z.indexOf(t[i]))}if(n<t.length){a.push(q.indexOf(t[n]))}var E=et(a);var _=new Array(9).fill(0);_[0]=0;for(var s=0;s<E.length;s++){_[s+(E.length<8?1:0)]=E[s]}return _};var nt=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=["MTX "];var r=t[1]===5?"-":" ";e.push(W[t[0]]??G);e.push(B[t[1]]??G);e.push(r);for(var a=2;a<t.length;a++){if(t[a]!==0){e.push(k[t[a]]??G)}}return{type:e.join(""),meterType:0}};var it=function(t){if(t.length<3){throw new Error("Wrong format")}var e=[];e.push(W.indexOf(t[0]));e.push(B.indexOf(t[1]));for(var r=3;r<t.length;r++){e.push(k.indexOf(t[r]))}var a=et(e);if(a.length===8){return a}if(a.length>8){throw new Error("Wrong format")}var n=new Array(8).fill(0);for(var i=0;i<a.length;i++){n[i]=a[i]}return n};var Et=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=[];e.push(W[t[0]]??G);for(var r=1;r<t.length;r++){if(t[r]!==0){e.push($[t[r]]??G)}}return{type:e.join(""),meterType:0}};var _t=function(t){if(t.length<1){throw new Error("Wrong format")}var e=[];e.push(W.indexOf(t[0]));for(var r=1;r<t.length;r++){e.push($.indexOf(t[r]))}var a=et(e);var n=new Array(8).fill(0);for(var i=0;i<a.length&&i<8;i++){n[i]=a[i]}return n};var st=function(t){if(t.length!==9){throw new Error("The buffer is too small")}var e;var r=[0,5,6,7,9,127,239];var a=r.indexOf(t[0])!==-1?2:0;var n=tt(t.slice(0,8));var i=n[a];var E=W[i];if(E==="1"||E==="3"){e=rt(n.slice(a))}else{e=E==="M"?Et(n):nt(n)}e.meterType=t[8];return e};var ot=function(t,e){var r=t.type,a=t.revision,n=t.meterType;if(!r.startsWith("MTX ")){throw new Error("Wrong format")}var i;var E=r.substring(4);var _=r[4];if(_==="1"||_==="3"){i=at(E,e,a)}else{i=_==="M"?_t(E):it(E)}i[8]=n;return i};var vt=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=Object.assign({},v,e),a=r.separator,n=r.prefix;return t.map((function(t){return"".concat(n).concat(t.toString(16).padStart(2,"0"))})).join(a)};var At=80;var Tt=81;var Rt=82;var ht=83;var ut=84;var Ot=85;var ft=86;var Pt=87;var gt=88;var dt=89;var Ut=90;var lt=91;var It=255;var pt=Object.freeze({__proto__:null,DATA_REQUEST:At,DATA_RESPONSE:Tt,FRAGMENT_REQUEST:Ut,FRAGMENT_RESPONSE:lt,IDENT_REQUEST:Rt,IDENT_RESPONSE:ht,INVALID:It,L2_CHECK_ADDRESS_REQUEST:ft,L2_CHECK_ADDRESS_RESPONSE:Pt,L2_RM_ADDRESS_REQUEST:gt,L2_RM_ADDRESS_RESPONSE:dt,L2_SET_ADDRESS_REQUEST:ut,L2_SET_ADDRESS_RESPONSE:Ot});var Nt=function(t){var e={};for(var r in t){var a=t[r];e[a]=r}return e};var Mt=Nt(pt);var ct=1;var Ct=2;var Dt=3;var St=16;var mt=17;var yt=18;var Lt=19;var Vt=20;var Ft=21;var Yt=32;var xt=33;var Ht=34;var Xt=35;var Gt=36;var Wt=37;var Bt=38;var wt=39;var Kt=40;var bt=41;var Qt=49;var Zt=50;var jt=51;var zt=52;var kt=53;var qt=54;var $t=55;var Jt=56;var te=57;var ee=64;var re=65;var ae=66;var ne=67;var ie=68;var Ee=69;var _e=70;var se=71;var oe=72;var ve=73;var Ae=74;var Te=75;var Re=76;var he=77;var ue=78;var Oe=79;var fe=80;var Pe=81;var ge=82;var de=83;var Ue=84;var le=85;var Ie=86;var pe=87;var Ne=88;var Me=89;var ce=96;var Ce=97;var De=98;var Se=99;var me=100;var ye=101;var Le=102;var Ve=103;var Fe=104;var Ye=105;var xe=112;var He=113;var Xe=114;var Ge=115;var We=116;var Be=117;var we=118;var Ke=119;var be=120;var Qe=121;var Ze=122;var je=123;var ze=124;var ke=125;var qe=144;var $e=145;var Je=147;var tr=148;var er=156;var rr=157;var ar=158;var nr=159;var ir=160;var Er=161;var _r=162;var sr=176;var or=177;var vr=178;var Ar=179;var Tr=180;var Rr=181;var hr=182;var ur=183;var Or=208;var fr=224;var Pr=225;var gr=226;var dr=227;var Ur=228;var lr=229;var Ir=230;var pr=Object.freeze({__proto__:null,ACCESS_CLOSED:St,ACCPARAM_BAD:Xe,ACCPARAM_EXT_BAD:Ge,BAD_TEST_EEPROM:Fe,BAD_TEST_FRAM:Ye,BAT_FAULT:de,BAT_OK:ge,BIPOLAR_POWER_FAULT:Tr,BIPOLAR_POWER_OK:Rr,BLOCK_TARIFF_BAD:Be,CALC_PERIOD_BAD:We,CALFLAG_RESET:Ve,CALFLAG_SET:Le,CALIBR_PARAM_BAD:we,CAL_FAULT:le,CAL_OK:Ue,CASE_CLOSE:Lt,CASE_MODULE_CLOSE:ke,CASE_MODULE_OPEN:ze,CASE_OPEN:yt,CASE_TERMINAL_CLOSE:je,CASE_TERMINAL_OPEN:Ze,CHANGE_ACCESS_KEY0:Yt,CHANGE_ACCESS_KEY1:xt,CHANGE_ACCESS_KEY2:Ht,CHANGE_ACCESS_KEY3:Xt,CHANGE_COR_TIME:bt,CHANGE_PAR_LOCAL:Gt,CHANGE_PAR_REMOTE:Wt,CHANGE_TARIFF_TBL:Zt,CLOCK_FAULT:pe,CLOCK_OK:Ie,CMD_CHANGE_TIME:Bt,CMD_RELAY_2_OFF:Ce,CMD_RELAY_2_ON:ce,CMD_RELAY_OFF:Kt,CMD_RELAY_ON:wt,CROSSZERO_ENT0:De,CROSSZERO_ENT1:Se,CROSSZERO_ENT2:me,CROSSZERO_ENT3:ye,CROSSZERO_EXP_ENT0:ar,CROSSZERO_EXP_ENT1:nr,CROSSZERO_EXP_ENT2:ir,CROSSZERO_EXP_ENT3:Er,CURRENT_UNEQUIL_FAULT:vr,CURRENT_UNEQUIL_OK:Ar,EM_MAGNETIC_OFF:or,EM_MAGNETIC_ON:sr,ENERGY_REG_FAULT:ct,ENERGY_REG_OVERFLOW:Qt,ERR_ACCESS:mt,F_MAX_OK:oe,F_MAX_OVER:ve,F_MIN_OK:Ae,F_MIN_OVER:Te,I_MAX_OK:Re,I_MAX_OVER:he,MAGNETIC_OFF:Ft,MAGNETIC_ON:Vt,NVRAM_FAULT:Or,OP_PAR_FAULT:Dt,POWERSALDO_OK:fe,POWERSALDO_OVER:Pe,POWER_A_OFF:Ne,POWER_A_ON:Me,POWER_OVER_RELAY_OFF:rr,P_MAX_OK:ue,P_MAX_OVER:Oe,RELAY_HARD_BAD_OFF:qe,RELAY_HARD_BAD_ON:Je,RELAY_HARD_OFF:tr,RELAY_HARD_ON:$e,RELAY_OFF:$t,RELAY_ON:qt,RESET_EM_FLAG:hr,RESET_MAGN_FLAG:ur,RESTART:Jt,SALDO_EN_BAD:be,SALDO_PARAM_BAD:He,SET_DEMAND_EN_10MIN:dr,SET_DEMAND_EN_15MIN:Ur,SET_DEMAND_EN_1MIN:fr,SET_DEMAND_EN_30MIN:lr,SET_DEMAND_EN_3MIN:Pr,SET_DEMAND_EN_5MIN:gr,SET_DEMAND_EN_60MIN:Ir,SET_NEW_SALDO:xe,SET_SALDO_PARAM:er,SET_TARIFF_TBL:jt,SUMMER_TIME:zt,TIME_CORRECT:Qe,TIME_CORRECT_NEW:_r,T_MAX_OK:ie,T_MAX_OVER:Ee,T_MIN_OK:_e,T_MIN_OVER:se,VENDOR_PAR_FAULT:Ct,V_MAX_OK:ee,V_MAX_OVER:re,V_MIN_OK:ae,V_MIN_OVER:ne,WD_RESTART:te,WINTER_SUMMER_BAD:Ke,WINTER_TIME:kt});var Nr=Nt(pr);var Mr={type:At,destination:65535,source:65534};var cr=11;var Cr=7;var Dr=2+Cr;var Sr=4;var mr={SET_ALL_SEGMENT_DISPLAY:1,SOFTWARE_VERSION:2,TOTAL_ACTIVE_ENERGY:4,ACTIVE_ENERGY_T1:8,ACTIVE_ENERGY_T2:16,ACTIVE_ENERGY_T3:32,ACTIVE_ENERGY_T4:64,ACTIVE_POWER_PER_PHASE:128,ACTIVE_POWER_IN_NEUTRAL:256,CURRENT_IN_PHASE:512,CURRENT_IN_NEUTRAL:1024,VOLTAGE:2048,HOUR_MINUTE_SECOND:4096,DATE_MONTH_YEAR:8192,TOTAL_EXPORTED_ACTIVE_ENERGY:16384,EXPORTED_ACTIVE_ENERGY_T1:32768,EXPORTED_ACTIVE_ENERGY_T2:65536,EXPORTED_ACTIVE_ENERGY_T3:131072,EXPORTED_ACTIVE_ENERGY_T4:262144,POWER_COEFFICIENT_PHASE_A:524288,POWER_COEFFICIENT_PHASE_B:1048576,BATTERY_VOLTAGE:2097152,POWER_THRESHOLD_T1:4194304,POWER_THRESHOLD_T2:8388608,POWER_THRESHOLD_T3:16777216,POWER_THRESHOLD_T4:33554432,CURRENT_BALANCE:536870912};var yr={...mr,AUTO_SCREEN_SCROLLING:2147483648};var Lr={...mr,MAGNET_INDUCTION:134217728,OPTOPORT_SPEED:1073741824,SORT_DISPLAY_SCREENS:2147483648};var Vr={RELAY_ON_Y:1,RELAY_ON_CENTER:2,RELAY_ON_PB:4,RELAY_ON_TARIFF_0:8,RELAY_ON_TARIFF_1:16,RELAY_ON_TARIFF_2:32,RELAY_ON_TARIFF_3:64,RELAY_ON_V_GOOD:128};var Fr={RELAY_OFF_Y:1,RELAY_OFF_CENTER:2,RELAY_OFF_TARIFF_0:4,RELAY_OFF_TARIFF_1:8,RELAY_OFF_TARIFF_2:16,RELAY_OFF_TARIFF_3:32,RELAY_OFF_I_LIMIT:64,RELAY_OFF_V_BAD:128};var Yr={RELAY_OFF_LIM_TARIFF_0:2,RELAY_OFF_LIM_TARIFF_1:4,RELAY_OFF_LIM_TARIFF_2:8,RELAY_OFF_LIM_TARIFF_3:16,RELAY_OFF_PF_MIN:32};var xr={RELAY_ON_TIMEOUT:1,RELAY_ON_SALDO:2,RELAY_OFF_SALDO:4,RELAY_OFF_SALDO_SOFT:8,RELAY_OFF_MAGNET:16,RELAY_ON_MAGNET_TIMEOUT:32,RELAY_ON_MAGNET_AUTO:64};var Hr={RELAY_OFF_UNEQUAL_CURRENT:1,RELAY_ON_UNEQUAL_CURRENT:2,RELAY_OFF_BIPOLAR_POWER:4,RELAY_ON_BIPOLAR_POWER:8};var Xr={BLOCK_KEY_OPTOPORT:2,MAGNET_SCREEN_CONST:32};var Gr={CASE_OPEN:2**0,MAGNETIC_ON:2**1,PARAMETERS_UPDATE_REMOTE:2**2,PARAMETERS_UPDATE_LOCAL:2**3,RESTART:2**4,ERROR_ACCESS:2**5,TIME_SET:2**6,TIME_CORRECT:2**7,DEVICE_FAILURE:2**8,CASE_TERMINAL_OPEN:2**9,CASE_MODULE_OPEN:2**10,TARIFF_TABLE_SET:2**11,TARIFF_TABLE_GET:2**12,PROTECTION_RESET_EM:2**13,PROTECTION_RESET_MAGNETIC:2**14};var Wr={RELAY_STATE:2**0,RELAY_UBAD:2**1,RELAY_UNEQ_CURRENT:2**4,RELAY_OFF_CENTER:2**5,RELAY_IMAX:2**6,RELAY_PMAX:2**7};var Br={RELAY_COSFI:2**0,RELAY_SALDO_OFF_FLAG:2**1,RELAY_UNEQUIL_CURRENT_OFF:2**2,RELAY_BIPOLAR_POWER_OFF:2**3,RELAY_SALDO_OFF_ON_MAX_POWER:2**4,RELAY_HARD_ST1:2**5};var wr={MAXVA:2**0,MINVA:2**1,MAXT:2**2,MINT:2**3,MAXF:2**4,MINF:2**5,MAXIA:2**6,MAXP:2**7};var Kr={MAX_POWER_SALDO:2**0,BATTERY_VBAT_BAD:2**1,CLOCK_UNSET:2**3,MIN_COS_FI:2**5};var br={UNEQUIL_CURRENT:2**0,BIPOLAR_POWER:2**1,POWER_A_NEGATIVE:2**6,POWER_B_NEGATIVE:2**7};var Qr={RELAY_OFF_LIMIT_P_MINUS_T1:4,RELAY_OFF_LIMIT_P_MINUS_T2:8,RELAY_OFF_LIMIT_P_MINUS_T3:16,RELAY_OFF_LIMIT_P_MINUS_T4:32};function Zr(t,e,r){var a=r>>Sr;var n=new Array(Sr).fill(0);n.forEach((function(e,r){var i=!!x(a,1,r+1);if(i){n[r]=t.getUint32()}else{n[r]=null}}));return n}function jr(t,e,r){var a=1+Sr;var n=e;r.forEach((function(t,e){n=H(n,1,e+a,Number(!!t))}));t.setUint8(n)}function zr(t){if(t===65535){return{tariff:undefined,energy:undefined}}return{tariff:t>>14&3,energy:t&16383}}function kr(t,e){var r=e.tariff,a=e.energy;if(r!==undefined&&a!==undefined){t.setUint16(r<<14|a&16383)}else{t.setUint16(65535)}}function qr(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;V.call(this,t,e)}qr.prototype=Object.create(V.prototype);qr.prototype.constructor=qr;qr.getDayProfileFromByte=function(t){return{tariff:x(t,2,1),isFirstHalfHour:!x(t,1,3),hour:x(t,5,4)}};qr.getByteFromDayProfile=function(t){var e=0;e=H(e,2,1,t.tariff);e=H(e,1,3,+!t.isFirstHalfHour);e=H(e,5,4,t.hour);return e};qr.getDefaultSeasonProfile=function(){return{month:1,date:1,dayIndexes:[0,0,0,0,0,0,0]}};qr.getDefaultOperatorParameters=function(){return{vpThreshold:265e3,vThreshold:156e3,ipThreshold:12e4,pmaxThreshold0:31800,pmaxThreshold1:31800,pmaxThreshold2:31800,pmaxThreshold3:31800,speedOptoPort:0,tint:30,calcPeriodDate:1,timeoutDisplay:127,timeoutScreen:7,displaySet:Y(yr,2147496324),relaySet4:Y(xr,0),relaySet3:Y(Yr,0),relaySet2:Y(Fr,3),relaySet1:Y(Vr,3),displayType:0,ten:0,timeoutRefresh:240,deltaCorMin:15,timeoutMagnetOff:5,timeoutMagnetOn:5,define1:Y(Xr,0),timeoutRelayOn:1,timeoutRelayKey:0,timeoutRelayAuto:5,timeoutBadVAVB:5,freqMax:55,freqMin:45,phMin:0,year:0,month:0,date:0,energyDecimalPoint:2,typeMeter:0,timeoutIMax:5,timeoutPMax:5,timeoutCos:5,pMaxDef:1,displaySetExt:Y(Lr,137904127),timeoutUneqCurrent:5,timeoutBipolarPower:5,relaySet5:Y(Hr,0),timeCorrectPeriod:24,timeCorrectPassHalfhour:false}};qr.getDefaultOperatorParametersExtended3=function(){return{pmaxMinusThreshold0:0,pmaxMinusThreshold1:0,pmaxMinusThreshold2:0,pmaxMinusThreshold3:0,relaySet:Y(Qr,0)}};qr.prototype.getFrameHeader=function(){var t=this.getUint8();var e=Mt[t];var r=this.getUint16();var a=this.getUint16();return{type:t,typeName:e,destination:r,source:a}};qr.prototype.setFrameHeader=function(t){var e=t.type,r=e===void 0?Mr.type:e,a=t.destination,n=a===void 0?Mr.destination:a,i=t.source,E=i===void 0?Mr.source:i;this.setUint8(r);this.setUint16(n);this.setUint16(E)};qr.prototype.getDeviceId=function(){var t=vt(this.getBytes(3),{separator:""});var e=this.getUint8();var r=this.getUint8();var a=vt(this.getBytes(3),{separator:""});return{manufacturer:t,type:e,year:r,serial:a}};qr.prototype.setDeviceId=function(t){var e=t.manufacturer,r=t.type,a=t.year,n=t.serial;this.setBytes(X(e));this.setUint8(r);this.setUint8(a);this.setBytes(X(n))};qr.prototype.getDateTime=function(){return{isSummerTime:!!this.getUint8(),seconds:this.getUint8(),minutes:this.getUint8(),hours:this.getUint8(),day:this.getUint8(),date:this.getUint8(),month:this.getUint8(),year:this.getUint8()}};qr.prototype.setDateTime=function(t){this.setUint8(t.isSummerTime?1:0);this.setUint8(t.seconds);this.setUint8(t.minutes);this.setUint8(t.hours);this.setUint8(t.day||0);this.setUint8(t.date);this.setUint8(t.month);this.setUint8(t.year)};qr.prototype.getTariffPlan=function(){return{id:this.getUint32(),tariffSet:this.getUint8(),activateYear:this.getUint8(),activateMonth:this.getUint8(),activateDay:this.getUint8(),specialProfilesArraySize:this.getUint8(),seasonProfilesArraySize:this.getUint8(),dayProfilesArraySize:this.getUint8()}};qr.prototype.setTariffPlan=function(t){this.setUint32(t.id);this.setUint8(t.tariffSet);this.setUint8(t.activateYear);this.setUint8(t.activateMonth);this.setUint8(t.activateDay);this.setUint8(t.specialProfilesArraySize);this.setUint8(t.seasonProfilesArraySize);this.setUint8(t.dayProfilesArraySize)};qr.prototype.getTimeCorrectionParameters=function(){return{monthTransitionSummer:this.getUint8(),dateTransitionSummer:this.getUint8(),hoursTransitionSummer:this.getUint8(),hoursCorrectSummer:this.getUint8(),monthTransitionWinter:this.getUint8(),dateTransitionWinter:this.getUint8(),hoursTransitionWinter:this.getUint8(),hoursCorrectWinter:this.getUint8(),isCorrectionNeeded:this.getUint8()===1}};qr.prototype.setTimeCorrectionParameters=function(t){this.setUint8(t.monthTransitionSummer);this.setUint8(t.dateTransitionSummer);this.setUint8(t.hoursTransitionSummer);this.setUint8(t.hoursCorrectSummer);this.setUint8(t.monthTransitionWinter);this.setUint8(t.dateTransitionWinter);this.setUint8(t.hoursTransitionWinter);this.setUint8(t.hoursCorrectWinter);this.setUint8(+t.isCorrectionNeeded)};qr.prototype.getDayProfile=function(){return qr.getDayProfileFromByte(this.getUint8())};qr.prototype.setDayProfile=function(t){this.setUint8(qr.getByteFromDayProfile(t))};qr.prototype.getSeasonProfile=function(){var t=this;return{month:this.getUint8(),date:this.getUint8(),dayIndexes:new Array(Cr).fill(0).map((function(){return t.getUint8()}))}};qr.prototype.setSeasonProfile=function(t){var e=this;this.setUint8(t.month);this.setUint8(t.date);t.dayIndexes.forEach((function(t){return e.setUint8(t)}))};qr.prototype.getSpecialDay=function(){return{month:this.getUint8(),date:this.getUint8(),dayIndex:this.getUint8(),isPeriodic:this.getUint8()===0}};qr.prototype.setSpecialDay=function(t){this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.dayIndex);this.setUint8(+!t.isPeriodic)};qr.prototype.getDeviceType=function(){return st(this.getBytes(9))};qr.prototype.setDeviceType=function(t){this.setBytes(ot(t))};qr.prototype.getOperatorParameters=function(){var t={vpThreshold:this.getUint32(),vThreshold:this.getUint32(),ipThreshold:this.getUint32(),pmaxThreshold0:this.getUint32(),pmaxThreshold1:this.getUint32(),pmaxThreshold2:this.getUint32(),pmaxThreshold3:this.getUint32(),speedOptoPort:this.getUint8(),tint:this.getUint8(),calcPeriodDate:this.getUint8(),timeoutDisplay:this.getUint8(),timeoutScreen:this.getUint8(),displaySet:Y(yr,this.getUint32()),relaySet4:Y(xr,this.getUint8()),relaySet3:Y(Yr,this.getUint8()),relaySet2:Y(Fr,this.getUint8()),relaySet1:Y(Vr,this.getUint8()),displayType:this.getUint8(),ten:this.getUint8(),timeoutRefresh:this.getUint16(),deltaCorMin:this.getUint8(),timeoutMagnetOff:this.getUint8(),timeoutMagnetOn:this.getUint8(),define1:Y(Xr,this.getUint8()),timeoutRelayOn:this.getUint8(),timeoutRelayKey:this.getUint8(),timeoutRelayAuto:this.getUint8(),timeoutBadVAVB:this.getUint8(),freqMax:this.getUint8(),freqMin:this.getUint8(),phMin:this.getUint16(),year:this.getUint8(),month:this.getUint8(),date:this.getUint8(),energyDecimalPoint:this.getUint8(),typeMeter:this.getUint8(),timeoutIMax:this.getUint8(),timeoutPMax:this.getUint8(),timeoutCos:this.getUint8(),pMaxDef:this.getUint8(),displaySetExt:Y(Lr,this.getUint32()),timeoutUneqCurrent:this.getUint8(),timeoutBipolarPower:this.getUint8(),relaySet5:Y(Hr,this.getUint8()),timeCorrectPeriod:0,timeCorrectPassHalfhour:false};var e=this.getUint8();t.timeCorrectPeriod=e&127;t.timeCorrectPassHalfhour=!!(e&128);return t};qr.prototype.setOperatorParameters=function(t){var e=t.timeCorrectPeriod|(t.timeCorrectPassHalfhour?128:0);this.setUint32(t.vpThreshold);this.setUint32(t.vThreshold);this.setUint32(t.ipThreshold);this.setUint32(t.pmaxThreshold0);this.setUint32(t.pmaxThreshold1);this.setUint32(t.pmaxThreshold2);this.setUint32(t.pmaxThreshold3);this.setUint8(t.speedOptoPort);this.setUint8(t.tint);this.setUint8(t.calcPeriodDate);this.setUint8(t.timeoutDisplay);this.setUint8(t.timeoutScreen);this.setUint32(F(yr,t.displaySet));this.setUint8(F(xr,t.relaySet4));this.setUint8(F(Yr,t.relaySet3));this.setUint8(F(Fr,t.relaySet2));this.setUint8(F(Vr,t.relaySet1));this.setUint8(t.displayType);this.setUint8(t.ten);this.setUint16(t.timeoutRefresh);this.setUint8(t.deltaCorMin);this.setUint8(t.timeoutMagnetOff);this.setUint8(t.timeoutMagnetOn);this.setUint8(F(Xr,t.define1));this.setUint8(t.timeoutRelayOn);this.setUint8(t.timeoutRelayKey);this.setUint8(t.timeoutRelayAuto);this.setUint8(t.timeoutBadVAVB);this.setUint8(t.freqMax);this.setUint8(t.freqMin);this.setUint16(t.phMin);this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.energyDecimalPoint);this.setUint8(t.typeMeter);this.setUint8(t.timeoutIMax);this.setUint8(t.timeoutPMax);this.setUint8(t.timeoutCos);this.setUint8(t.pMaxDef);this.setUint32(F(Lr,t.displaySetExt));this.setUint8(t.timeoutUneqCurrent);this.setUint8(t.timeoutBipolarPower);this.setUint8(F(Hr,t.relaySet5));this.setUint8(e)};qr.prototype.getPackedEnergyWithType=function(){var t=this.getUint8();var e=x(t,Sr,1);var r=Zr(this,e,t);return{energyType:e,energies:r}};qr.prototype.setPackedEnergyWithType=function(t){var e=this;var r=t.energyType,a=t.energies;if(r){jr(this,r,a)}a.forEach((function(t){if(t!==null){e.setUint32(t)}}))};qr.prototype.getEnergies=function(){var t=this;return new Array(Sr).fill(0).map((function(){return t.getInt32()}))};qr.prototype.setEnergies=function(t){var e=this;t.forEach((function(t){return e.setUint32(t)}))};qr.prototype.getDate=function(){return{year:this.getUint8(),month:this.getUint8(),date:this.getUint8()}};qr.prototype.setDate=function(t){this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date)};qr.prototype.getSaldoParameters=function(){var t=this;return{coefficients:new Array(4).fill(0).map((function(){return t.getUint32()})),decimalPointTariff:this.getUint8(),indicationThreshold:this.getInt32(),relayThreshold:this.getInt32(),mode:this.getUint8(),saldoOffTimeBegin:this.getUint8(),saldoOffTimeEnd:this.getUint8(),decimalPointIndication:this.getUint8(),powerThreshold:this.getUint32(),creditThreshold:this.getInt32()}};qr.prototype.setSaldoParameters=function(t){var e=this;t.coefficients.forEach((function(t){return e.setUint32(t)}));this.setUint8(t.decimalPointTariff);this.setInt32(t.indicationThreshold);this.setInt32(t.relayThreshold);this.setUint8(t.mode);this.setUint8(t.saldoOffTimeBegin);this.setUint8(t.saldoOffTimeEnd);this.setUint8(t.decimalPointIndication);this.setUint32(t.powerThreshold);this.setInt32(t.creditThreshold)};qr.prototype.getEnergyPeriods=function(t){var e=this;var r=new Array(t).fill(0).map((function(){return e.getUint16()}));return r.map((function(t){return zr(t)}))};qr.prototype.setEnergyPeriods=function(t){var e=this;t.forEach((function(t){return kr(e,t)}))};qr.prototype.getEventStatus=function(){var t=this.getUint16();return Y(Gr,t)};qr.prototype.setEventStatus=function(t){this.setUint16(F(Gr,t))};qr.prototype.getExtendedCurrentValues2=function(){var t=this.getUint16();var e=Y(Wr,this.getUint8());var r=Y(Br,this.getUint8());var a=Y(wr,this.getUint8());var n=Y(Kr,this.getUint8());var i=Y(br,this.getUint8());return{uBattery:t,relayStatus:e,relayStatus2:r,status1:a,status2:n,status3:i}};qr.prototype.setExtendedCurrentValues2=function(t){var e=t.uBattery,r=t.relayStatus,a=t.relayStatus2,n=t.status1,i=t.status2,E=t.status3;this.setUint16(e);this.setUint8(F(Wr,r));this.setUint8(F(Br,a));this.setUint8(F(wr,n));this.setUint8(F(Kr,i));this.setUint8(F(br,E))};qr.prototype.getEvent=function(){var t={hours:this.getUint8(),minutes:this.getUint8(),seconds:this.getUint8(),event:this.getUint8()};var e=t.event;var r=this.bytesLeft;t.eventName=Nr[e];switch(e){case rr:if(r<4){return t}t.power=[this.getUint8(),this.getUint8(),this.getUint8(),this.getUint8()];break;case Bt:case Qe:if(r<8){return t}t.newDate=this.getDateTime();break}return t};qr.prototype.setEvent=function(t){this.setUint8(t.hours);this.setUint8(t.minutes);this.setUint8(t.seconds);this.setUint8(t.event);switch(t.event){case rr:for(var e of t.power){this.setUint8(e)}break;case Bt:case Qe:this.setDateTime(t.newDate);break}};qr.prototype.getDemand=function(){var t=this.getUint8();var e=this.getUint8();return{date:{year:t>>1,month:t<<3&15|e>>5,date:e&31},energyType:this.getUint8(),firstIndex:this.getUint16(),count:this.getUint8(),period:this.getUint8()}};qr.prototype.setDemand=function(t){var e=t.date.year<<1|t.date.month>>3&1;var r=t.date.month<<5&224|t.date.date&31;this.setUint8(e);this.setUint8(r);this.setUint8(t.energyType);this.setUint16(t.firstIndex);this.setUint8(t.count);this.setUint8(t.period)};qr.prototype.getDayMaxDemandResponse=function(){var t=this;var e=this.getDate();var r=new Array(Sr).fill(0).map((function(){return{hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}));return{date:e,power:r}};qr.prototype.setDayMaxDemandResponse=function(t){var e=this;this.setDate(t.date);t.power.forEach((function(t){e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};qr.prototype.getOperatorParametersExtended3=function(){return{pmaxMinusThreshold0:this.getUint32(),pmaxMinusThreshold1:this.getUint32(),pmaxMinusThreshold2:this.getUint32(),pmaxMinusThreshold3:this.getUint32(),relaySet:Y(Qr,this.getUint8())}};qr.prototype.setOperatorParametersExtended3=function(t){var e=t.pmaxMinusThreshold0,r=t.pmaxMinusThreshold1,a=t.pmaxMinusThreshold2,n=t.pmaxMinusThreshold3,i=t.relaySet;this.setUint32(e);this.setUint32(r);this.setUint32(a);this.setUint32(n);this.setUint8(F(Qr,i))};qr.prototype.getMonthMaxPowerByTariffs=function(){var t=this;return new Array(Sr).fill(0).map((function(){return{date:t.getUint8(),hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}))};qr.prototype.setMonthMaxPowerByTariffs=function(t){var e=this;t.forEach((function(t){e.setUint8(t.date);e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};var $r=function(t){return btoa(t.map((function(t){return String.fromCharCode(t)})).join(""))};var Jr=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return[t,e.length].concat(s(e))};var ta=0;var ea=3;var ra=1;var aa=3;var na=4;var ia=5;var Ea=7;var _a=8;var sa=9;var oa=13;var va=15;var Aa=16;var Ta=17;var Ra=18;var ha=19;var ua=20;var Oa=21;var fa=22;var Pa=23;var ga=24;var da=25;var Ua=28;var la=30;var Ia=31;var pa=40;var Na=41;var Ma=42;var ca=44;var Ca=45;var Da=46;var Sa=47;var ma=49;var ya=50;var La=51;var Va=52;var Fa=53;var Ya=54;var xa=57;var Ha=58;var Xa=59;var Ga=60;var Wa=61;var Ba=62;var wa=65;var Ka=70;var ba=74;var Qa=75;var Za=79;var ja=80;var za=82;var ka=83;var qa=88;var $a=89;var Ja=91;var tn=92;var en=93;var rn=94;var an=100;var nn=109;var En=111;var _n=112;var sn=113;var on=114;var vn=118;var An=122;var Tn=Object.freeze({__proto__:null,activateRatePlan:ha,getBuildVersion:_n,getCorrectTime:Ba,getCriticalEvent:wa,getCurrentStatusMeter:xa,getCurrentValues:oa,getDateTime:Ea,getDayDemand:fa,getDayDemandExport:Za,getDayMaxDemand:ma,getDayMaxDemandExport:qa,getDayMaxDemandPrevious:ba,getDayProfile:Xa,getDemand:vn,getDeviceId:ia,getDeviceType:na,getDisplayParam:rn,getEnergy:va,getEnergyDayPrevious:aa,getEnergyExport:Ja,getEnergyExportDayPrevious:ja,getEventStatus:ra,getEvents:La,getEventsCounters:Va,getExtendedCurrentValues:Ha,getExtendedCurrentValues2:Ca,getHalfHourDemand:Oa,getHalfHourDemandExport:ka,getHalfHourDemandPrevious:Qa,getHalfhoursEnergies:En,getMagneticFieldThreshold:nn,getMeterInfo:An,getMonthDemand:Pa,getMonthDemandExport:za,getMonthMaxDemand:ya,getMonthMaxDemandExport:$a,getOperatorParameters:la,getOperatorParametersExtended3:sn,getRatePlanInfo:ca,getSaldo:Na,getSaldoParameters:Da,getSeasonProfile:Ga,getSpecialDay:Wa,getVersion:pa,prepareRatePlan:ua,resetPowerMaxDay:Fa,resetPowerMaxMonth:Ya,runTariffPlan:Ka,setAccessKey:sa,setCorrectDateTime:tn,setCorrectTime:Ua,setDateTime:_a,setDayProfile:Aa,setDisplayParam:en,setOperatorParameters:Ia,setOperatorParametersExtended3:on,setSaldo:Ma,setSaldoParameters:Sa,setSeasonProfile:Ta,setSpecialDay:Ra,setSpecialOperation:an,turnRelayOff:da,turnRelayOn:ga});Nt(Tn);var Rn=ha;var hn=1+cr;var un=function(t){var e=new qr(hn);e.setUint8(t.tariffTable);e.setTariffPlan(t.tariffPlan);return Jr(Rn,e.data)};var On=_n;var fn=function(){return Jr(On)};var Pn=Ba;var gn=function(){return Jr(Pn)};var dn=0;var Un=1;var ln=2;var In=3;var pn=4;var Nn=5;var Mn=6;var cn=7;var Cn=8;var Dn=9;var Sn=10;var mn=11;var yn=12;var Ln=13;var Vn=14;var Fn=Object.freeze({__proto__:null,CASE_MODULE_OPEN:Sn,CASE_OPEN:dn,CASE_TERMINAL_OPEN:Dn,DEVICE_FAILURE:Cn,ERROR_ACCESS:Nn,MAGNETIC_ON:Un,PARAMETERS_UPDATE_LOCAL:In,PARAMETERS_UPDATE_REMOTE:ln,PROTECTION_RESET_EM:Ln,PROTECTION_RESET_MAGNETIC:Vn,RESTART:pn,TARIFF_TABLE_GET:yn,TARIFF_TABLE_SET:mn,TIME_CORRECT:cn,TIME_SET:Mn});Nt(Fn);var Yn=xa;var xn=function(){return Jr(Yn)};var Hn=oa;var Xn=function(){return Jr(Hn)};var Gn=Ea;var Wn=function(){return Jr(Gn)};var Bn=ma;var wn=3;var Kn=function(t){var e=new qr(wn);e.setDate(t.date);return Jr(Bn,e.data)};var bn=qa;var Qn=3;var Zn=function(t){var e=new qr(Qn);e.setDate(t.date);return Jr(bn,e.data)};var jn=Xa;var zn=3;var kn=function(t){var e=new qr(zn);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setUint8(t.isActive?0:1);return Jr(jn,e.data)};var qn=ia;var $n=function(){return Jr(qn)};var Jn=na;var ti=function(){return Jr(Jn)};var ei=0;var ri=128;var ai=129;var ni=130;var ii=131;var Ei=132;var _i=133;var si=134;var oi=135;var vi=136;var Ai=137;var Ti=144;var Ri=145;var hi=146;var ui=147;var Oi=149;var fi=151;var Pi=152;var gi=153;var di=154;var Ui=155;var li=156;var Ii=159;var pi=160;var Ni=240;var Mi=Object.freeze({__proto__:null,ACCESS_DENIED:ui,BAD_ARRAY_INDEX:si,BAD_BLOCK_NUMBER:li,BAD_DATA_LENGTH:_i,BAD_MESSAGE:Ei,BAD_RATE_PLAN_ID:vi,BAD_RATE_PLAN_SIZE:Ai,BAD_RESPONSE_LENGTH:Ti,BAD_SALDO_WRITE:Oi,BLOCKED_METER:fi,CALIBRATION_DISABLED:hi,DECRYPTION_FAILURE:ni,INTERNAL:Ni,INVALID_CORRECTION_INTERVAL:di,NOT_ALIGNED_DATA:ai,NOT_PREPARED_RATE_PLAN:oi,NO_DATA_FOR_DATE:Ri,OK:ei,OUT_OFF_RANGE:Ii,SET_METER_TYPE_FAILURE:pi,TIME_CORRECTION_FAILURE:gi,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:Ui,UNENCRYPTED_COMMAND_DISABLED:Pi,UNKNOWN_COMMAND:ri,UNKNOWN_PROTOCOL:ii});Nt(Mi);var ci=1;var Ci=2;var Di=3;var Si=4;var mi=5;var yi=6;var Li=7;var Vi=8;var Fi=9;var Yi=10;var xi=11;var Hi=12;var Xi=13;var Gi=14;var Wi=15;var Bi=16;var wi=17;var Ki=18;var bi=19;var Qi=20;var Zi=21;var ji=22;var zi=23;var ki=24;var qi=25;var $i=26;var Ji=28;var tE=30;var eE=31;var rE=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:Si,ACTIVE_ENERGY_T2:mi,ACTIVE_ENERGY_T3:yi,ACTIVE_ENERGY_T4:Li,ACTIVE_POWER_IN_NEUTRAL:Fi,ACTIVE_POWER_PER_PHASE:Vi,BATTERY_VOLTAGE:ji,CURRENT_BALANCE:tE,CURRENT_IN_NEUTRAL:xi,CURRENT_IN_PHASE:Yi,DATE_MONTH_YEAR:Gi,EXPORTED_ACTIVE_ENERGY_T1:Bi,EXPORTED_ACTIVE_ENERGY_T2:wi,EXPORTED_ACTIVE_ENERGY_T3:Ki,EXPORTED_ACTIVE_ENERGY_T4:bi,HOUR_MINUTE_SECOND:Xi,MAGNET_INDUCTION:Ji,OPTOPORT_SPEED:eE,POWER_COEFFICIENT_PHASE_A:Qi,POWER_COEFFICIENT_PHASE_B:Zi,POWER_THRESHOLD_T1:zi,POWER_THRESHOLD_T2:ki,POWER_THRESHOLD_T3:qi,POWER_THRESHOLD_T4:$i,SET_ALL_SEGMENT_DISPLAY:ci,SOFTWARE_VERSION:Ci,TOTAL_ACTIVE_ENERGY:Di,TOTAL_EXPORTED_ACTIVE_ENERGY:Wi,VOLTAGE:Hi});Nt(rE);var aE=120;var nE=121;var iE=254;var EE=Object.freeze({__proto__:null,activateRatePlan:ha,errorResponse:iE,getBuildVersion:_n,getCorrectTime:Ba,getCriticalEvent:wa,getCurrentStatusMeter:xa,getCurrentValues:oa,getDateTime:Ea,getDayDemand:fa,getDayDemandExport:Za,getDayEnergies:aE,getDayMaxDemand:ma,getDayMaxDemandExport:qa,getDayMaxDemandPrevious:ba,getDayMaxPower:nE,getDayProfile:Xa,getDemand:vn,getDeviceId:ia,getDeviceType:na,getDisplayParam:rn,getEnergy:va,getEnergyDayPrevious:aa,getEnergyExport:Ja,getEnergyExportDayPrevious:ja,getEventStatus:ra,getEvents:La,getEventsCounters:Va,getExtendedCurrentValues:Ha,getExtendedCurrentValues2:Ca,getHalfHourDemand:Oa,getHalfHourDemandExport:ka,getHalfHourDemandPrevious:Qa,getHalfhoursEnergies:En,getMagneticFieldThreshold:nn,getMeterInfo:An,getMonthDemand:Pa,getMonthDemandExport:za,getMonthMaxDemand:ya,getMonthMaxDemandExport:$a,getOperatorParameters:la,getOperatorParametersExtended3:sn,getRatePlanInfo:ca,getSaldo:Na,getSaldoParameters:Da,getSeasonProfile:Ga,getSpecialDay:Wa,getVersion:pa,prepareRatePlan:ua,resetPowerMaxDay:Fa,resetPowerMaxMonth:Ya,runTariffPlan:Ka,setAccessKey:sa,setCorrectDateTime:tn,setCorrectTime:Ua,setDateTime:_a,setDayProfile:Aa,setDisplayParam:en,setOperatorParameters:Ia,setOperatorParametersExtended3:on,setSaldo:Ma,setSaldoParameters:Sa,setSeasonProfile:Ta,setSpecialDay:Ra,setSpecialOperation:an,turnRelayOff:da,turnRelayOn:ga});Nt(EE);var _E=La;var sE=4;var oE=function(t){var e=new qr(sE);e.setDate(t.date);e.setUint8(t.offset);return Jr(_E,e.data)};var vE=Va;var AE=function(){return Jr(vE)};var TE=ra;var RE=function(){return Jr(TE)};var hE=Ha;var uE=function(){return Jr(hE)};var OE=Oa;var fE=3;var PE=function(t){var e=new qr(fE);e.setDate(t.date);return Jr(OE,e.data)};var gE=ka;var dE=3;var UE=function(t){var e=new qr(dE);e.setDate(t.date);return Jr(gE,e.data)};var lE=4;var IE=["A+","A+R+","A+R-","A-","A-R+","A-R-"];var pE=4294967295;var NE={"A+":1,"A+R+":2,"A+R-":4,"A-":8,"A-R+":16,"A-R-":32};var ME=function(t){var e={};Object.keys(t).forEach((function(r){e[r]=!!t[r]}));return F(NE,e)};var cE=function(t){return t<lE?1<<t:0};var CE=function(t){return t<lE?1<<t<<4:0};var DE=function(t,e){var r=0;if(t<lE){if(e["A+"]||e["A+R+"]||e["A+R-"]){r|=cE(t)}if(e["A-"]||e["A-R+"]||e["A-R-"]){r|=CE(t)}}return r};function SE(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;V.call(this,t,e)}SE.prototype=Object.create(V.prototype);SE.prototype.constructor=SE;SE.prototype.getDate=function(){var t=this.getUint8();var e=this.getUint8();return{year:t>>1,month:t<<3&15|e>>5,date:e&31}};SE.prototype.setDate=function(t){var e=t.year,r=t.month,a=t.date;var n=e<<1|r>>3&1;var i=r<<5&224|a&31;this.setUint8(n);this.setUint8(i)};SE.prototype.getEnergiesFlags=function(){var t=this.getUint8();return Y(NE,t)};SE.prototype.setEnergiesFlags=function(t){this.setUint8(ME(t))};SE.prototype.getHalfhoursEnergy1=function(t){var e=[];for(var r=0;r<t;r++){var a=this.getUint16();var n=a>>14&3;var i=a&16383;e.push(a===pE?undefined:{tariff:n,energy:i})}return e};SE.prototype.setHalfhoursEnergy1=function(t){if(t){for(var e=0;e<t.length;e++){var r=t[e],a=r.tariff,n=r.energy;var i=a<<14|n;this.setUint16(i===undefined?pE:i)}}};SE.prototype.getHalfhoursEnergy3=function(t){var e=[];for(var r=0;r<t;r++){var a=this.getUint16();e.push(a===pE?undefined:a)}return e};SE.prototype.setHalfhoursEnergy3=function(t){if(t){for(var e=0;e<t.length;e++){var r=t[e];this.setUint16(r===undefined?pE:r)}}};SE.prototype.getHalfhoursEnergies1=function(t,e){var r=this;var a={};IE.forEach((function(n){if(t[n]){a[n]=r.getHalfhoursEnergy1(e)}}));return a};SE.prototype.getHalfhoursEnergies3=function(t,e){var r=this;var a={};IE.forEach((function(n){if(t[n]){a[n]=r.getHalfhoursEnergy3(e)}}));return a};SE.prototype.setHalfhoursEnergies1=function(t){var e=this;IE.forEach((function(r){e.setHalfhoursEnergy1(t[r])}))};SE.prototype.setHalfhoursEnergies3=function(t){var e=this;IE.forEach((function(r){e.setHalfhoursEnergy3(t[r])}))};SE.prototype.getAPlusTariffEnergies=function(t){var e={};if(t&NE["A+"]){e["A+"]=this.getUint32()}if(t&NE["A+R+"]){e["A+R+"]=this.getUint32()}if(t&NE["A+R-"]){e["A+R-"]=this.getUint32()}return e};SE.prototype.setAPlusTariffEnergies=function(t){if(t){if(t["A+"]){this.setUint32(t["A+"])}if(t["A+R+"]){this.setUint32(t["A+R+"])}if(t["A+R-"]){this.setUint32(t["A+R-"])}}};SE.prototype.getAMinusTariffEnergies=function(t){var e={};if(t&NE["A-"]){e["A-"]=this.getUint32()}if(t&NE["A-R+"]){e["A-R+"]=this.getUint32()}if(t&NE["A-R-"]){e["A-R-"]=this.getUint32()}return e};SE.prototype.setAMinusTariffEnergies=function(t){if(t){if(t["A-"]){this.setUint32(t["A-"])}if(t["A-R+"]){this.setUint32(t["A-R+"])}if(t["A-R-"]){this.setUint32(t["A-R-"])}}};SE.prototype.getTariffsEnergies=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(lE).fill(null);for(var a=0;a<lE;a++){if(e&cE(a)){r[a]=this.getAPlusTariffEnergies(t)}}for(var n=0;n<lE;n++){if(e&CE(n)){r[n]={...r[n],...this.getAMinusTariffEnergies(t)}}}return r};SE.prototype.setTariffsEnergies=function(t){var e=this;var r=0;var a=0;t.forEach((function(t,e){if(t){r|=ME(t);a|=DE(e,t)}}));this.setUint8(r);this.setUint8(a);t.forEach((function(t){return e.setAPlusTariffEnergies(t)}));t.forEach((function(t){return e.setAMinusTariffEnergies(t)}))};SE.prototype.getPowerMax=function(){return{hours:this.getUint8(),minutes:this.getUint8(),power:this.getUint32()}};SE.prototype.setPowerMax=function(t){if(t){var e=t.hours,r=t.minutes,a=t.power;this.setUint8(e);this.setUint8(r);this.setUint32(a)}};SE.prototype.getAPlusTariffPowerMax=function(t){var e={};if(t&NE["A+"]){e["A+"]=this.getPowerMax()}if(t&NE["A+R+"]){e["A+R+"]=this.getPowerMax()}if(t&NE["A+R-"]){e["A+R-"]=this.getPowerMax()}return e};SE.prototype.setAPlusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A+"]);this.setPowerMax(t["A+R+"]);this.setPowerMax(t["A+R+"])}};SE.prototype.getAMinusTariffPowerMax=function(t){var e={};if(t&NE["A-"]){e["A-"]=this.getPowerMax()}if(t&NE["A-R+"]){e["A-R+"]=this.getPowerMax()}if(t&NE["A-R-"]){e["A-R-"]=this.getPowerMax()}return e};SE.prototype.setAMinusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A-"]);this.setPowerMax(t["A-R+"]);this.setPowerMax(t["A-R-"])}};SE.prototype.getTariffsPowerMax=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(lE).fill(null);for(var a=0;a<lE;a++){if(e&cE(a)){r[a]=this.getAPlusTariffPowerMax(t)}}for(var n=0;n<lE;n++){if(e&CE(n)){r[n]={...r[n],...this.getAMinusTariffPowerMax(t)}}}return r};SE.prototype.setTariffsPowerMax=function(t){var e=this;var r=0;var a=0;t.forEach((function(t,e){if(t){r|=ME(t);a|=DE(e,t)}}));this.setUint8(r);this.setUint8(a);t.forEach((function(t){return e.setAPlusTariffPowerMax(t)}));t.forEach((function(t){return e.setAMinusTariffPowerMax(t)}))};var mE=En;var yE=5;var LE=function(t){var e=new SE(yE);e.setDate(t.date);e.setEnergiesFlags(t.energies);e.setUint8(t.firstHalfhour);e.setUint8(t.halfhoursNumber);return Jr(mE,e.data)};var VE=nn;var FE=function(){return Jr(VE)};var YE=An;var xE=function(){return Jr(YE)};var HE=Pa;var XE=2;var GE=function(t){var e=new qr(XE);e.setUint8(t.year);e.setUint8(t.month);return Jr(HE,e.data)};var WE=za;var BE=2;var wE=function(t){var e=new qr(BE);e.setUint8(t.year);e.setUint8(t.month);return Jr(WE,e.data)};var KE=ya;var bE=function(t){var e=t.year,r=t.month;return Jr(KE,[e,r])};var QE=$a;var ZE=function(t){var e=t.year,r=t.month;return Jr(QE,[e,r])};var jE=sn;var zE=function(){return Jr(jE)};var kE=la;var qE=function(){return Jr(kE)};var $E=ca;var JE=function(t){return Jr($E,[t.tariffTable])};var t_=Na;var e_=function(){return Jr(t_)};var r_=Da;var a_=function(){return Jr(r_)};var n_=Ga;var i_=3;var E_=function(t){var e=new qr(i_);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setUint8(t.isActive?0:1);return Jr(n_,e.data)};var __=Wa;var s_=3;var o_=function(t){var e=new qr(s_);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setUint8(t.isActive?0:1);return Jr(__,e.data)};var v_=pa;var A_=function(){return Jr(v_)};var T_=ua;var R_=5;var h_=function(t){var e=new qr(R_);e.setUint8(t.tariffTable);e.setUint32(t.id);return Jr(T_,e.data)};var u_=Fa;var O_=function(){return Jr(u_)};var f_=Ya;var P_=function(){return Jr(f_)};var g_=Ka;var d_=function(t){return Jr(g_,[t.tariffTable])};var U_=16;var l_=sa;var I_=1+U_;var p_=function(t){var e=new qr(I_);e.setUint8(t.accessLevel);e.setBytes(t.key);return Jr(l_,e.data)};var N_=tn;var M_=2;var c_=function(t){var e=new qr(M_);e.setInt16(t.seconds);return Jr(N_,e.data)};var C_=Ua;var D_=9;var S_=function(t){var e=new qr(D_);e.setTimeCorrectionParameters(t);return Jr(C_,e.data)};var m_=_a;var y_=8;var L_=function(t){var e=new qr(y_);e.setDateTime(t);return Jr(m_,e.data)};var V_=8;var F_=255;var Y_=Aa;var x_=function(t){var e=t.periods.length<V_;var r=2+t.periods.length+ +e;var a=new qr(r);a.setUint8(t.tariffTable);a.setUint8(t.index);t.periods.forEach((function(t){a.setDayProfile(t)}));if(e){a.setUint8(F_)}return Jr(Y_,a.data)};var H_=on;var X_=17;var G_=function(t){var e=new qr(X_);e.setOperatorParametersExtended3(t);return Jr(H_,e.data)};var W_=Ma;var B_=12;var w_=function(t){var e=new qr(B_);e.setUint8(t.date.month);e.setUint8(t.date.date);e.setUint8(t.date.hours);e.setUint8(t.date.minutes);e.setInt32(t.saldoNew);e.setInt32(t.saldoOld);return Jr(W_,e.data)};var K_=Sa;var b_=37;var Q_=function(t){var e=new qr(b_);e.setSaldoParameters(t);return Jr(K_,e.data)};var Z_=Ta;var j_=Dr;var z_=function(t){var e=new qr(j_);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setSeasonProfile(t);return Jr(Z_,e.data)};var k_=Ra;var q_=6;var $_=function(t){var e=new qr(q_);e.setUint8(t.tariffTable);e.setUint8(t.index);e.setSpecialDay(t);return Jr(k_,e.data)};var J_=an;var ts=2;var es=function(t){var e=new qr(ts);var r=0;if(t.readScreensInfo){r|=128}if(t.resetElectroMagneticIndication){r|=1}if(t.resetMagneticIndication){r|=2}e.setUint8(t.type);e.setUint8(r);return Jr(J_,e.data)};var rs=da;var as=function(){return Jr(rs)};var ns=ga;var is=function(){return Jr(ns)};var Es={encrypt:function(){},decrypt:function(){}};var _s=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var r=e;t.forEach((function(t){r^=t}));return r};var ss=16;var os=[0];var vs=function(t){return function(e,r){var a;var n=r.messageId,i=n===void 0?1:n,E=r.accessLevel,_=E===void 0?ea:E,o=r.aesKey;var v=e.map((function(e){if("id"in e){return t[e.id](e.parameters||{})}if("command"in e){return e.command.bytes}throw new Error("wrong command format")}));var A=_|16;var T=[i,A];var R=(a=[]).concat.apply(a,[A].concat(s(v),[os]));if(_!==ta){var h=(R.length+1)%ss;if(h){R=R.concat(new Array(ss-h).fill(0))}}R=R.concat(_s(R));if(o&&_!==ta){R=s(Es.encrypt(o,R))}return T.concat(R)}};var As=1;var Ts=3;var Rs=4;var hs=5;var us=7;var Os=8;var fs=9;var Ps=13;var gs=15;var ds=16;var Us=17;var ls=18;var Is=19;var ps=20;var Ns=21;var Ms=22;var cs=23;var Cs=24;var Ds=25;var Ss=28;var ms=30;var ys=31;var Ls=40;var Vs=41;var Fs=42;var Ys=44;var xs=46;var Hs=47;var Xs=49;var Gs=50;var Ws=51;var Bs=52;var ws=53;var Ks=54;var bs=57;var Qs=58;var Zs=59;var js=60;var zs=61;var ks=62;var qs=63;var $s=64;var Js=69;var to=70;var eo=71;var ro=72;var ao=73;var no=78;var io=79;var Eo=80;var _o=82;var so=83;var oo=84;var vo=85;var Ao=86;var To=88;var Ro=89;var ho=90;var uo=92;var Oo=93;var fo=94;var Po=100;var go=109;var Uo=111;var lo=112;var Io=113;var po=114;var No=116;var Mo=117;var co=118;var Co=122;var Do=Object.freeze({__proto__:null,activateRatePlan:Is,getBuildVersion:lo,getCorrectTime:ks,getCriticalEvent:Ao,getCurrentStatusMeter:bs,getCurrentValues:Ps,getDateTime:us,getDayDemand:Ms,getDayDemandExport:io,getDayMaxDemand:Xs,getDayMaxDemandExport:To,getDayProfile:Zs,getDemand:co,getDeviceId:hs,getDeviceType:Rs,getDisplayParam:fo,getEnergy:gs,getEnergyDayPrevious:Ts,getEnergyExport:no,getEnergyExportDayPrevious:Eo,getEventStatus:As,getEvents:Ws,getEventsCounters:Bs,getExtendedCurrentValues:Qs,getHalfHourDemand:Ns,getHalfHourDemandChannel:ho,getHalfHourDemandExport:so,getHalfHourDemandVare:ao,getHalfHourDemandVareExport:vo,getHalfHourDemandVari:ro,getHalfHourDemandVariExport:oo,getHalfhoursEnergies:Uo,getMagneticFieldThreshold:go,getMeterInfo:Co,getMonthDemand:cs,getMonthDemandExport:_o,getMonthMaxDemand:Gs,getMonthMaxDemandExport:Ro,getOperatorParameters:ms,getOperatorParametersExtended:qs,getOperatorParametersExtended2:eo,getOperatorParametersExtended3:Io,getOperatorParametersExtended4:Mo,getRatePlanInfo:Ys,getSaldo:Vs,getSaldoParameters:xs,getSeasonProfile:js,getSpecialDay:zs,getVersion:Ls,prepareRatePlan:ps,resetPowerMaxDay:ws,resetPowerMaxMonth:Ks,runTariffPlan:to,setAccessKey:fs,setCorrectDateTime:uo,setCorrectTime:Ss,setDateTime:Os,setDayProfile:ds,setDisplayParam:Oo,setOperatorParameters:ys,setOperatorParametersExtended:$s,setOperatorParametersExtended2:Js,setOperatorParametersExtended3:po,setOperatorParametersExtended4:No,setSaldo:Fs,setSaldoParameters:Hs,setSeasonProfile:Us,setSpecialDay:ls,setSpecialOperation:Po,turnRelayOff:Ds,turnRelayOn:Cs});Nt(Do);var So=1;var mo=2;var yo=3;var Lo=4;var Vo=17;var Fo=18;var Yo=19;var xo=20;var Ho=21;var Xo=22;var Go=23;var Wo=32;var Bo=33;var wo=34;var Ko=35;var bo=36;var Qo=37;var Zo=38;var jo=39;var zo=40;var ko=49;var qo=50;var $o=51;var Jo=52;var tv=53;var ev=54;var rv=55;var av=56;var nv=57;var iv=64;var Ev=65;var _v=66;var sv=67;var ov=68;var vv=69;var Av=70;var Tv=71;var Rv=72;var hv=73;var uv=74;var Ov=75;var fv=76;var Pv=77;var gv=78;var dv=79;var Uv=80;var lv=81;var Iv=82;var pv=83;var Nv=84;var Mv=85;var cv=86;var Cv=87;var Dv=88;var Sv=89;var mv=90;var yv=91;var Lv=92;var Vv=93;var Fv=94;var Yv=95;var xv=96;var Hv=97;var Xv=98;var Gv=99;var Wv=100;var Bv=101;var wv=102;var Kv=103;var bv=104;var Qv=105;var Zv=106;var jv=107;var zv=108;var kv=109;var qv=110;var $v=111;var Jv=112;var tA=113;var eA=114;var rA=115;var aA=116;var nA=117;var iA=118;var EA=119;var _A=120;var sA=121;var oA=122;var vA=123;var AA=124;var TA=125;var RA=126;var hA=127;var uA=128;var OA=129;var fA=130;var PA=131;var gA=132;var dA=133;var UA=134;var lA=135;var IA=136;var pA=137;var NA=138;var MA=139;var cA=140;var CA=141;var DA=142;var SA=143;var mA=144;var yA=145;var LA=147;var VA=148;var FA=149;var YA=150;var xA=151;var HA=152;var XA=153;var GA=154;var WA=155;var BA=156;var wA=157;var KA=158;var bA=159;var QA=160;var ZA=161;var jA=162;var zA=163;var kA=164;var qA=165;var $A=166;var JA=167;var tT=168;var eT=169;var rT=170;var aT=171;var nT=172;var iT=173;var ET=174;var _T=175;var sT=176;var oT=177;var vT=178;var AT=179;var TT=224;var RT=225;var hT=226;var uT=227;var OT=228;var fT=229;var PT=230;var gT=231;var dT=232;var UT=Object.freeze({__proto__:null,ACCESS_LOCKED:Vo,ACCESS_UNLOCKED:Fo,ACCUMULATION_PARAM_BAD:dA,ACCUMULATION_PARAM_EXT_BAD:UA,BAD_TEST_EEPROM:OA,BAD_TEST_FRAM:fA,BATTERY_FAULT:Qv,BATTERY_OK:bv,BLOCK_TARIFF_BAD:IA,CALCULATION_PERIOD_BAD:lA,CALIBRATION_FAULT:jv,CALIBRATION_FLAG_RESET:uA,CALIBRATION_FLAG_SET:hA,CALIBRATION_OK:Zv,CALIBRATION_PARAM_BAD:pA,CASE_CLOSE:Ho,CASE_KLEMA_CLOSE:xA,CASE_KLEMA_OPEN:YA,CASE_MODULE_CLOSE:WA,CASE_MODULE_OPEN:GA,CASE_OPEN:xo,CHANGE_ACCESS_KEY0:Wo,CHANGE_ACCESS_KEY1:Bo,CHANGE_ACCESS_KEY2:wo,CHANGE_ACCESS_KEY3:Ko,CHANGE_COR_TIME:Jv,CHANGE_PARAMETERS_LOCAL:bo,CHANGE_PARAMETERS_REMOTE:Qo,CHANGE_PARAM_CHANNEL1:KA,CHANGE_PARAM_CHANNEL2:bA,CHANGE_PARAM_CHANNEL3:QA,CHANGE_PARAM_CHANNEL4:ZA,CHANGE_PARAM_CHANNEL5:jA,CHANGE_PARAM_CHANNEL6:zA,CHANGE_TARIFF_TABLE:qo,CHANGE_TARIFF_TABLE_2:HA,CHANGE_TARIFF_TABLE_3:XA,CLOCK_FAULT:Hv,CLOCK_OK:xv,CMD_CHANGE_TIME:Zo,CMD_RELAY_2_OFF:eA,CMD_RELAY_2_ON:tA,CMD_RELAY_OFF:zo,CMD_RELAY_ON:jo,COEFFICIENT_TRANSFORMATION_CHANGE:SA,CROSS_ZERO_ENT0:rA,CROSS_ZERO_ENT1:aA,CROSS_ZERO_ENT2:nA,CROSS_ZERO_ENT3:iA,CROSS_ZERO_EXPORT_ENT0:kA,CROSS_ZERO_EXPORT_ENT1:qA,CROSS_ZERO_EXPORT_ENT2:$A,CROSS_ZERO_EXPORT_ENT3:JA,CROSS_ZERO_EXPORT_VARE0:nT,CROSS_ZERO_EXPORT_VARE1:iT,CROSS_ZERO_EXPORT_VARE2:ET,CROSS_ZERO_EXPORT_VARE3:_T,CROSS_ZERO_EXPORT_VARI0:tT,CROSS_ZERO_EXPORT_VARI1:eT,CROSS_ZERO_EXPORT_VARI2:rT,CROSS_ZERO_EXPORT_VARI3:aT,CROSS_ZERO_VARE0:vA,CROSS_ZERO_VARE1:AA,CROSS_ZERO_VARE2:TA,CROSS_ZERO_VARE3:RA,CROSS_ZERO_VARI0:EA,CROSS_ZERO_VARI1:_A,CROSS_ZERO_VARI2:sA,CROSS_ZERO_VARI3:oA,EM_MAGNETIC_OFF:oT,EM_MAGNETIC_ON:sT,ENERGY_REGISTER_OVERFLOW:ko,ENERGY_T0_FAULT:So,ENERGY_T1_FAULT:mo,ENERGY_T2_FAULT:yo,ENERGY_T3_FAULT:Lo,ERR_ACCESS:Yo,F_MAX_OK:fv,F_MAX_OVER:Pv,F_MIN_OK:gv,F_MIN_UNDER:dv,IA_MAX_OK:Nv,IA_MAX_OVER:Mv,IB_MAX_OK:cv,IB_MAX_OVER:Cv,IC_MAX_OK:Dv,IC_MAX_OVER:Sv,IDIFF_OK:Fv,IDIFF_OVER:Yv,MAGNETIC_OFF:Go,MAGNETIC_ON:Xo,METER_TROUBLE:FA,OP_PARAM_BAD:MA,OP_PARAM_EXT_BAD:cA,O_PARAMETERS_FAULT:$v,O_PARAMETERS_OK:qv,PA_MAX_OK:mv,PA_MAX_OVER:yv,POWER_A_OFF:Kv,POWER_A_ON:wv,POWER_B_OFF:Bv,POWER_B_ON:Wv,POWER_C_OFF:Gv,POWER_C_ON:Xv,POWER_OVER_RELAY_OFF:wA,PV_MAX_OK:Lv,PV_MAX_OVER:Vv,P_MAX_A_MINUS_OK:gT,P_MAX_A_MINUS_OVER:dT,RELAY_HARD_BAD_OFF:mA,RELAY_HARD_BAD_ON:LA,RELAY_HARD_OFF:VA,RELAY_HARD_ON:yA,RELAY_OFF:rv,RELAY_ON:ev,RESET_EM_FLAG:vT,RESET_MAGNETIC_FLAG:AT,RESTART:av,SALDO_ENERGY_BAD:CA,SALDO_PARAM_BAD:gA,SET_DEMAND_EN_10_MIN:uT,SET_DEMAND_EN_15_MIN:OT,SET_DEMAND_EN_1_MIN:TT,SET_DEMAND_EN_30_MIN:fT,SET_DEMAND_EN_3_MIN:RT,SET_DEMAND_EN_5_MIN:hT,SET_DEMAND_EN_60_MIN:PT,SET_NEW_SALDO:PA,SET_SALDO_PARAM:BA,SET_TARIFF_TABLE:$o,SUMMER_TIME:Jo,TIME_CORRECT:DA,T_MAX_OK:Uv,T_MAX_OVER:lv,T_MIN_OK:Iv,T_MIN_UNDER:pv,VA_MAX_OK:iv,VA_MAX_OVER:Ev,VA_MIN_OK:_v,VA_MIN_UNDER:sv,VB_MAX_OK:ov,VB_MAX_OVER:vv,VB_MIN_OK:Av,VB_MIN_UNDER:Tv,VC_MAX_OK:Rv,VC_MAX_OVER:hv,VC_MIN_OK:uv,VC_MIN_UNDER:Ov,V_PARAMETERS_FAULT:kv,V_PARAMETERS_OK:zv,WD_RESTART:nv,WINTER_SUMMER_BAD:NA,WINTER_TIME:tv});var lT=Nt(UT);var IT=1;var pT=2;var NT=3;var MT=4;var cT=5;var CT=6;var DT=7;var ST=8;var mT=9;var yT=10;var LT=11;var VT=12;var FT=13;var YT=14;var xT=15;var HT=16;var XT=17;var GT=18;var WT=19;var BT=20;var wT=21;var KT=22;var bT=23;var QT=24;var ZT=25;var jT=26;var zT=27;var kT=28;var qT=29;var $T=30;var JT=31;var tR=32;var eR=33;var rR=34;var aR=35;var nR=36;var iR=37;var ER=38;var _R=39;var sR=40;var oR=41;var vR=42;var AR=43;var TR=44;var RR=45;var hR=46;var uR=47;var OR=48;var fR=49;var PR=50;var gR=51;var dR=52;var UR=53;var lR=54;var IR=55;var pR=56;var NR=57;var MR=58;var cR=59;var CR=60;var DR=61;var SR=62;var mR=63;var yR=64;var LR=65;var VR=66;var FR=67;var YR=68;var xR=69;var HR=70;var XR=71;var GR=72;var WR=73;var BR=74;var wR=75;var KR=76;var bR=77;var QR=78;var ZR=79;var jR=80;var zR=81;var kR=82;var qR=83;var $R=84;var JR=85;var th=86;var eh=87;var rh=88;var ah=89;var nh=90;var ih=91;var Eh=92;var _h=93;var sh=94;var oh=95;var vh=96;var Ah=97;var Th=98;var Rh=99;var hh=100;var uh=101;var Oh=102;var fh=103;var Ph=104;var gh=105;var dh=106;var Uh=107;var lh=108;var Ih=109;var ph=110;var Nh=111;var Mh=112;var ch=113;var Ch=114;var Dh=115;var Sh=116;var mh=117;var yh=118;var Lh=119;var Vh=120;var Fh=121;var Yh=122;var xh=123;var Hh=124;var Xh=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:MT,ACTIVE_ENERGY_T2:cT,ACTIVE_ENERGY_T3:CT,ACTIVE_ENERGY_T4:DT,ACTIVE_POWER_PHASE_A:AR,ACTIVE_POWER_PHASE_B:TR,ACTIVE_POWER_PHASE_C:RR,ACTIVE_POWER_SUM:vR,APPARENT_POWER_QMINUS_PHASE_A:mR,APPARENT_POWER_QMINUS_PHASE_B:yR,APPARENT_POWER_QMINUS_PHASE_C:LR,APPARENT_POWER_QMINUS_SUM:SR,APPARENT_POWER_QPLUS_PHASE_A:cR,APPARENT_POWER_QPLUS_PHASE_B:CR,APPARENT_POWER_QPLUS_PHASE_C:DR,APPARENT_POWER_QPLUS_SUM:MR,BATTERY_VOLTAGE:sR,CURRENT_BALANCE:yh,CURRENT_IN_NEUTRAL:nR,CURRENT_IN_PHASE_A:eR,CURRENT_IN_PHASE_B:rR,CURRENT_IN_PHASE_C:aR,CURRENT_TRANSFORMATION_RATIO:Sh,DATE_MONTH_YEAR:Dh,EXPORTED_ACTIVE_ENERGY_T1:WT,EXPORTED_ACTIVE_ENERGY_T2:BT,EXPORTED_ACTIVE_ENERGY_T3:wT,EXPORTED_ACTIVE_ENERGY_T4:KT,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:qT,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:$T,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:JT,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:tR,EXPORTED_REACTIVE_ENERGY_T1:QT,EXPORTED_REACTIVE_ENERGY_T2:ZT,EXPORTED_REACTIVE_ENERGY_T3:jT,EXPORTED_REACTIVE_ENERGY_T4:zT,FREQUENCY:oR,HOUR_MINUTE_SECOND:Ch,MAGNET_INDUCTION:Hh,MAX_ACTIVE_POWER_DAY_T1:VR,MAX_ACTIVE_POWER_DAY_T2:FR,MAX_ACTIVE_POWER_DAY_T3:YR,MAX_ACTIVE_POWER_DAY_T4:xR,MAX_ACTIVE_POWER_MONTH_T1:HR,MAX_ACTIVE_POWER_MONTH_T2:XR,MAX_ACTIVE_POWER_MONTH_T3:GR,MAX_ACTIVE_POWER_MONTH_T4:WR,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:nh,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:ih,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:Eh,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:_h,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:sh,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:oh,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:vh,MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:Ah,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:Th,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:Rh,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:hh,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:uh,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:Oh,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:fh,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:Ph,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:gh,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T1:dh,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T2:Uh,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T3:lh,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T4:Ih,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T1:ph,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T2:Nh,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T3:Mh,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T4:ch,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:kR,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:qR,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:$R,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:JR,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:th,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:eh,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:rh,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:ah,MAX_REACTIVE_POWER_DAY_T1:BR,MAX_REACTIVE_POWER_DAY_T2:wR,MAX_REACTIVE_POWER_DAY_T3:KR,MAX_REACTIVE_POWER_DAY_T4:bR,MAX_REACTIVE_POWER_MONTH_T1:QR,MAX_REACTIVE_POWER_MONTH_T2:ZR,MAX_REACTIVE_POWER_MONTH_T3:jR,MAX_REACTIVE_POWER_MONTH_T4:zR,NEGATIVE_REACTIVE_ENERGY_T1:YT,NEGATIVE_REACTIVE_ENERGY_T2:xT,NEGATIVE_REACTIVE_ENERGY_T3:HT,NEGATIVE_REACTIVE_ENERGY_T4:XT,OPTOPORT_SPEED:xh,POWER_COEFFICIENT_PHASE_A:IR,POWER_COEFFICIENT_PHASE_B:pR,POWER_COEFFICIENT_PHASE_C:NR,POWER_COEFFICIENT_SUM:lR,POWER_THRESHOLD_T1:Lh,POWER_THRESHOLD_T2:Vh,POWER_THRESHOLD_T3:Fh,POWER_THRESHOLD_T4:Yh,REACTIVE_ENERGY_T1:mT,REACTIVE_ENERGY_T2:yT,REACTIVE_ENERGY_T3:LT,REACTIVE_ENERGY_T4:VT,REACTIVE_POWER_QMINUS_PHASE_A:gR,REACTIVE_POWER_QMINUS_PHASE_B:dR,REACTIVE_POWER_QMINUS_PHASE_C:UR,REACTIVE_POWER_QMINUS_SUM:PR,REACTIVE_POWER_QPLUS_PHASE_A:uR,REACTIVE_POWER_QPLUS_PHASE_B:OR,REACTIVE_POWER_QPLUS_PHASE_C:fR,REACTIVE_POWER_QPLUS_SUM:hR,SET_ALL_SEGMENT_DISPLAY:IT,SOFTWARE_VERSION:pT,TOTAL_ACTIVE_ENERGY:NT,TOTAL_EXPORTED_ACTIVE_ENERGY:GT,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:kT,TOTAL_EXPORTED_REACTIVE_ENERGY:bT,TOTAL_NEGATIVE_REACTIVE_ENERGY:FT,TOTAL_REACTIVE_ENERGY:ST,VOLTAGE_IN_PHASE_A:iR,VOLTAGE_IN_PHASE_B:ER,VOLTAGE_IN_PHASE_C:_R,VOLTAGE_TRANSFORMATION_RATIO:mh});Nt(Xh);var Gh=254;var Wh=Object.freeze({__proto__:null,activateRatePlan:Is,errorResponse:Gh,getBuildVersion:lo,getCorrectTime:ks,getCriticalEvent:Ao,getCurrentStatusMeter:bs,getCurrentValues:Ps,getDateTime:us,getDayDemand:Ms,getDayDemandExport:io,getDayMaxDemand:Xs,getDayMaxDemandExport:To,getDayProfile:Zs,getDemand:co,getDeviceId:hs,getDeviceType:Rs,getDisplayParam:fo,getEnergy:gs,getEnergyDayPrevious:Ts,getEnergyExport:no,getEnergyExportDayPrevious:Eo,getEventStatus:As,getEvents:Ws,getEventsCounters:Bs,getExtendedCurrentValues:Qs,getHalfHourDemand:Ns,getHalfHourDemandChannel:ho,getHalfHourDemandExport:so,getHalfHourDemandVare:ao,getHalfHourDemandVareExport:vo,getHalfHourDemandVari:ro,getHalfHourDemandVariExport:oo,getHalfhoursEnergies:Uo,getMagneticFieldThreshold:go,getMeterInfo:Co,getMonthDemand:cs,getMonthDemandExport:_o,getMonthMaxDemand:Gs,getMonthMaxDemandExport:Ro,getOperatorParameters:ms,getOperatorParametersExtended:qs,getOperatorParametersExtended2:eo,getOperatorParametersExtended3:Io,getOperatorParametersExtended4:Mo,getRatePlanInfo:Ys,getSaldo:Vs,getSaldoParameters:xs,getSeasonProfile:js,getSpecialDay:zs,getVersion:Ls,prepareRatePlan:ps,resetPowerMaxDay:ws,resetPowerMaxMonth:Ks,runTariffPlan:to,setAccessKey:fs,setCorrectDateTime:uo,setCorrectTime:Ss,setDateTime:Os,setDayProfile:ds,setDisplayParam:Oo,setOperatorParameters:ys,setOperatorParametersExtended:$s,setOperatorParametersExtended2:Js,setOperatorParametersExtended3:po,setOperatorParametersExtended4:No,setSaldo:Fs,setSaldoParameters:Hs,setSeasonProfile:Us,setSpecialDay:ls,setSpecialOperation:Po,turnRelayOff:Ds,turnRelayOn:Cs});Nt(Wh);var Bh=2400;var wh=9600;var Kh={plc:{0:wh,2:Bh,4:wh},optoport:{0:Bh,2:Bh,4:wh}};var bh={plc:Nt(Kh.plc),optoport:Nt(Kh.optoport)};var Qh=Ao;var Zh=function(t){return Jr(Qh,[t.event,t.index])};var jh=95;var zh=9;var kh=28;var qh=28;var $h=4;var Jh={SET_ALL_SEGMENT_DISPLAY:1<<0,SOFTWARE_VERSION:1<<1,TOTAL_ACTIVE_ENERGY:1<<2,ACTIVE_ENERGY_T1:1<<3,ACTIVE_ENERGY_T2:1<<4,ACTIVE_ENERGY_T3:1<<5,ACTIVE_ENERGY_T4:1<<6,TOTAL_REACTIVE_ENERGY:1<<7,REACTIVE_ENERGY_T1:1<<8,REACTIVE_ENERGY_T2:1<<9,REACTIVE_ENERGY_T3:1<<10,REACTIVE_ENERGY_T4:1<<11,TOTAL_NEGATIVE_REACTIVE_ENERGY:1<<12,NEGATIVE_REACTIVE_ENERGY_T1:1<<13,NEGATIVE_REACTIVE_ENERGY_T2:1<<14,NEGATIVE_REACTIVE_ENERGY_T3:1<<15,NEGATIVE_REACTIVE_ENERGY_T4:1<<16,TOTAL_EXPORTED_ACTIVE_ENERGY:1<<17,EXPORTED_ACTIVE_ENERGY_T1:1<<18,EXPORTED_ACTIVE_ENERGY_T2:1<<19,EXPORTED_ACTIVE_ENERGY_T3:1<<20,EXPORTED_ACTIVE_ENERGY_T4:1<<21,TOTAL_EXPORTED_REACTIVE_ENERGY:1<<22,EXPORTED_REACTIVE_ENERGY_T1:1<<23,EXPORTED_REACTIVE_ENERGY_T2:1<<24,EXPORTED_REACTIVE_ENERGY_T3:1<<25,EXPORTED_REACTIVE_ENERGY_T4:1<<26,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:1<<27,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:1<<28,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:1<<29,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:1<<30,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:1<<31};var tu={CURRENT_IN_PHASE_A:1<<0,CURRENT_IN_PHASE_B:1<<1,CURRENT_IN_PHASE_C:1<<2,CURRENT_IN_NEUTRAL:1<<3,VOLTAGE_IN_PHASE_A:1<<4,VOLTAGE_IN_PHASE_B:1<<5,VOLTAGE_IN_PHASE_C:1<<6,BATTERY_VOLTAGE:1<<7,FREQUENCY:1<<8,ACTIVE_POWER_SUM:1<<9,ACTIVE_POWER_PHASE_A:1<<10,ACTIVE_POWER_PHASE_B:1<<11,ACTIVE_POWER_PHASE_C:1<<12,REACTIVE_POWER_QPLUS_SUM:1<<13,REACTIVE_POWER_QPLUS_PHASE_A:1<<14,REACTIVE_POWER_QPLUS_PHASE_B:1<<15,REACTIVE_POWER_QPLUS_PHASE_C:1<<16,REACTIVE_POWER_QMINUS_SUM:1<<17,REACTIVE_POWER_QMINUS_PHASE_A:1<<18,REACTIVE_POWER_QMINUS_PHASE_B:1<<19,REACTIVE_POWER_QMINUS_PHASE_C:1<<20,POWER_COEFFICIENT_SUM:1<<21,POWER_COEFFICIENT_PHASE_A:1<<22,POWER_COEFFICIENT_PHASE_B:1<<23,POWER_COEFFICIENT_PHASE_C:1<<24,APPARENT_POWER_QPLUS_SUM:1<<25,APPARENT_POWER_QPLUS_PHASE_A:1<<26,APPARENT_POWER_QPLUS_PHASE_B:1<<27,APPARENT_POWER_QPLUS_PHASE_C:1<<28,APPARENT_POWER_QMINUS_SUM:1<<29,APPARENT_POWER_QMINUS_PHASE_A:1<<30,APPARENT_POWER_QMINUS_PHASE_B:1<<31};var eu={APPARENT_POWER_QMINUS_PHASE_C:1<<0,MAX_ACTIVE_POWER_DAY_T1:1<<1,MAX_ACTIVE_POWER_DAY_T2:1<<2,MAX_ACTIVE_POWER_DAY_T3:1<<3,MAX_ACTIVE_POWER_DAY_T4:1<<4,MAX_ACTIVE_POWER_MONTH_T1:1<<5,MAX_ACTIVE_POWER_MONTH_T2:1<<6,MAX_ACTIVE_POWER_MONTH_T3:1<<7,MAX_ACTIVE_POWER_MONTH_T4:1<<8,MAX_REACTIVE_POWER_DAY_T1:1<<9,MAX_REACTIVE_POWER_DAY_T2:1<<10,MAX_REACTIVE_POWER_DAY_T3:1<<11,MAX_REACTIVE_POWER_DAY_T4:1<<12,MAX_REACTIVE_POWER_MONTH_T1:1<<13,MAX_REACTIVE_POWER_MONTH_T2:1<<14,MAX_REACTIVE_POWER_MONTH_T3:1<<15,MAX_REACTIVE_POWER_MONTH_T4:1<<16,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:1<<17,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:1<<18,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:1<<19,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:1<<20,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:1<<21,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:1<<22,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:1<<23,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:1<<24,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:1<<25,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:1<<26,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:1<<27,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:1<<28,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:1<<29,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:1<<30,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:1<<31};var ru={MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:1<<0,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:1<<1,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:1<<2,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:1<<3,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:1<<4,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:1<<5,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:1<<6,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:1<<7,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:1<<8,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T1:1<<9,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T2:1<<10,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T3:1<<11,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_DAY_T4:1<<12,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T1:1<<13,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T2:1<<14,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T3:1<<15,MAX_NEGATIVE_EXPORTED_REACTIVE_POWER_MONTH_T4:1<<16,HOUR_MINUTE_SECOND:1<<17,DATE_MONTH_YEAR:1<<18,CURRENT_TRANSFORMATION_RATIO:1<<19,VOLTAGE_TRANSFORMATION_RATIO:1<<20,CURRENT_BALANCE:1<<21,POWER_THRESHOLD_T1:1<<22,POWER_THRESHOLD_T2:1<<23,POWER_THRESHOLD_T3:1<<24,POWER_THRESHOLD_T4:1<<25};var au={...ru,SORT_DISPLAY_SCREENS:1<<29,AUTO_SCREEN_SCROLLING:1<<31};var nu={EVENT:1<<0,PROFILE_P01:1<<1,PROFILE_P02:1<<2,PROFILE_P03:1<<3,PROFILE_P04:1<<4,PROFILE_P05:1<<5,PROFILE_P06:1<<6};var iu={RELAY_ON_Y:1<<0,RELAY_ON_CENTER:1<<1,RELAY_ON_PB:1<<2,RELAY_ON_TARIFF_0:1<<3,RELAY_ON_TARIFF_1:1<<4,RELAY_ON_TARIFF_2:1<<5,RELAY_ON_TARIFF_3:1<<6,RELAY_ON_V_GOOD:1<<7,RELAY_OFF_Y:1<<8,RELAY_OFF_CENTER:1<<9,RELAY_OFF_TARIFF_0:1<<10,RELAY_OFF_TARIFF_1:1<<11,RELAY_OFF_TARIFF_2:1<<12,RELAY_OFF_TARIFF_3:1<<13,RELAY_OFF_I_LIMIT:1<<14,RELAY_OFF_V_BAD:1<<15,RELAY_OFF_DIFF_BAD:1<<16,RELAY_OFF_LIM_TARIFF_0:1<<17,RELAY_OFF_LIM_TARIFF_1:1<<18,RELAY_OFF_LIM_TARIFF_2:1<<19,RELAY_OFF_LIM_TARIFF_3:1<<20,RELAY_OFF_LIM_VAR_TARIFF_0:1<<21,RELAY_OFF_LIM_VAR_TARIFF_1:1<<22,RELAY_OFF_LIM_VAR_TARIFF_2:1<<23,RELAY_OFF_LIM_VAR_TARIFF_3:1<<24,RELAY_ON_PF_MIN:1<<25,RELAY_OFF_PF_MIN:1<<26,RELAY_ON_TIMEOUT:1<<27,RELAY_ON_SALDO:1<<28,RELAY_OFF_SALDO:1<<29,RELAY_OFF_SALDO_SOFT:1<<30};var Eu={TRANSFORMATION_RATIO:1<<0,METER_TYPE_R:1<<4,ACCUMULATE_BY_R_PLUS_MINUS:1<<7};var _u={RESET_DAY_MAX_POWER_KEY:1<<0,RESET_MONTH_MAX_POWER_KEY:1<<1,BLOCK_KEY_OPTOPORT:1<<2,MAGNET_SCREEN_CONST:1<<5,ALLOW_BROWNOUT_INDICATION:1<<7};var su={...ru,OPTOPORT_SPEED:1<<26,MAGNET_INDUCTION:1<<27};var ou={RELAY_OFF_MAGNET:1<<0,RELAY_ON_MAGNET_TIMEOUT:1<<1,RELAY_ON_MAGNET_AUTO:1<<2};var vu=function(t){return{plc:Kh.plc[x(t,4,1)],optoport:Kh.optoport[x(t,4,5)]}};var Au=function(t){var e=0;e=H(e,4,1,Number(bh.plc[t.plc]));e=H(e,4,5,Number(bh.optoport[t.optoport]));return e};function Tu(t,e,r){var a=r>>$h;var n=[];var i=[];var E=[];for(var _=0;_<Sr;_++){var s=!!x(a,1,_+1);if(s){n.push(t.getInt32());i.push(t.getInt32());E.push(t.getInt32())}else{n.push(null);i.push(null);E.push(null)}}return{wh:n,vari:i,vare:E}}function Ru(t,e){var r=e.wh,a=e.vari,n=e.vare;var i=1+$h;var E=t;for(var _=0;_<Sr;_++){E=H(E,1,_+i,Number(!!r[_]&&!!a[_]&&!!n[_]))}return E}function hu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;qr.call(this,t,e)}hu.prototype=Object.create(qr.prototype);hu.prototype.constructor=hu;hu.getDefaultOperatorParameters=function(){return{vpThreshold:265e3,vThreshold:156e3,ipThreshold:12e4,pmaxThreshold0:31800,pmaxThreshold1:31800,pmaxThreshold2:31800,pmaxThreshold3:31800,rmaxThreshold0:31800,rmaxThreshold1:31800,rmaxThreshold2:31800,rmaxThreshold3:31800,tint:30,calcPeriodDate:1,timeoutDisplay:127,timeoutScreen:7,displaySet1:Y(Jh,4229),displaySet2:Y(tu,139776),displaySet3:Y(eu,0),relaySet:Y(iu,771),speedOptoPort:vu(64),ten:30,tu:30,timeIntervalPowerOff:3,reserved:0,timeoutBadVAVB:5,freqMax:55,freqMin:45,year:0,month:0,date:0,energyDecimalPoint:2,voltageTransformationRatioNumerator:1,voltageTransformationRatioDenominator:1,currentTransformationRatioNumerator:1,currentTransformationRatioDenominator:1,typeMeter:Y(Eu,0),phMin:0,timeoutIMax:5,timeoutPMax:5,timeoutCos:5,pMaxDef:1,displaySet4:Y(au,2147876864)}};hu.getDefaultOperatorParametersExtended=function(){return{timeoutRelayOn:1,define1:Y(_u,0),timeoutRelayKey:0,timeoutRelayAuto:5}};hu.getDefaultOperatorParametersExtended2=function(){return{deltaCorMin:0,timeoutMagnetOff:5,relaySetExt:Y(ou,0),timeoutMagnetOn:5,phaseDefault:3,displaySet21:Y(Jh,4231),displaySet22:Y(tu,31597303),displaySet23:Y(eu,0),displaySet24:Y(su,393216),channel1:0,channel2:0,channel3:0,channel4:0,channel5:0,channel6:0,timeCorrectPeriod:24,timeCorrectPassHalfhour:false}};hu.getDefaultOperatorParametersExtended3=qr.getDefaultOperatorParametersExtended3;hu.prototype.getOperatorParameters=function(){return{vpThreshold:this.getUint32(),vThreshold:this.getUint32(),ipThreshold:this.getUint32(),pmaxThreshold0:this.getUint32(),pmaxThreshold1:this.getUint32(),pmaxThreshold2:this.getUint32(),pmaxThreshold3:this.getUint32(),rmaxThreshold0:this.getUint32(),rmaxThreshold1:this.getUint32(),rmaxThreshold2:this.getUint32(),rmaxThreshold3:this.getUint32(),tint:this.getUint8(),calcPeriodDate:this.getUint8(),timeoutDisplay:this.getUint8(),timeoutScreen:this.getUint8(),displaySet1:Y(Jh,this.getUint32()),displaySet2:Y(tu,this.getUint32()),displaySet3:Y(eu,this.getUint32()),relaySet:Y(iu,this.getUint32()),speedOptoPort:vu(this.getUint8()),ten:this.getUint8(),tu:this.getUint8(),timeIntervalPowerOff:this.getUint8(),reserved:this.getUint8(),timeoutBadVAVB:this.getUint8(),freqMax:this.getUint8(),freqMin:this.getUint8(),year:this.getUint8(),month:this.getUint8(),date:this.getUint8(),energyDecimalPoint:this.getUint8(),voltageTransformationRatioNumerator:this.getUint16(),voltageTransformationRatioDenominator:this.getUint16(),currentTransformationRatioNumerator:this.getUint16(),currentTransformationRatioDenominator:this.getUint16(),typeMeter:Y(Eu,this.getUint8()),phMin:this.getUint16(),timeoutIMax:this.getUint8(),timeoutPMax:this.getUint8(),timeoutCos:this.getUint8(),pMaxDef:this.getUint8(),displaySet4:Y(au,this.getUint32())}};hu.prototype.setOperatorParameters=function(t){this.setUint32(t.vpThreshold);this.setUint32(t.vThreshold);this.setUint32(t.ipThreshold);this.setUint32(t.pmaxThreshold0);this.setUint32(t.pmaxThreshold1);this.setUint32(t.pmaxThreshold2);this.setUint32(t.pmaxThreshold3);this.setUint32(t.rmaxThreshold0);this.setUint32(t.rmaxThreshold1);this.setUint32(t.rmaxThreshold2);this.setUint32(t.rmaxThreshold3);this.setUint8(t.tint);this.setUint8(t.calcPeriodDate);this.setUint8(t.timeoutDisplay);this.setUint8(t.timeoutScreen);this.setUint32(F(Jh,t.displaySet1));this.setUint32(F(tu,t.displaySet2));this.setUint32(F(eu,t.displaySet3));this.setUint32(F(iu,t.relaySet));this.setUint8(Au(t.speedOptoPort));this.setUint8(t.ten);this.setUint8(t.tu);this.setUint8(t.timeIntervalPowerOff);this.setUint8(t.reserved);this.setUint8(t.timeoutBadVAVB);this.setUint8(t.freqMax);this.setUint8(t.freqMin);this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.energyDecimalPoint);this.setUint16(t.voltageTransformationRatioNumerator);this.setUint16(t.voltageTransformationRatioDenominator);this.setUint16(t.currentTransformationRatioNumerator);this.setUint16(t.currentTransformationRatioDenominator);this.setUint8(F(Eu,t.typeMeter));this.setUint16(t.phMin);this.setUint8(t.timeoutIMax);this.setUint8(t.timeoutPMax);this.setUint8(t.timeoutCos);this.setUint8(t.pMaxDef);this.setUint32(F(au,t.displaySet4))};hu.prototype.getOperatorParametersExtended=function(){return{timeoutRelayOn:this.getUint8(),define1:Y(_u,this.getUint8()),timeoutRelayKey:this.getUint8(),timeoutRelayAuto:this.getUint8()}};hu.prototype.setOperatorParametersExtended=function(t){this.setUint8(t.timeoutRelayOn);this.setUint8(F(_u,t.define1));this.setUint8(t.timeoutRelayKey);this.setUint8(t.timeoutRelayAuto);this.setUint32(0);this.setUint8(0)};hu.prototype.getEnergies=function(){var t=[];var e=[];var r=[];for(var a=0;a<Sr;a++){t.push(this.getInt32());e.push(this.getInt32());r.push(this.getInt32())}return{wh:t,vari:e,vare:r}};hu.prototype.setEnergies=function(t){for(var e=0;e<Sr;e++){this.setInt32(t.wh[e]);this.setInt32(t.vari[e]);this.setInt32(t.vare[e])}};hu.prototype.getPackedEnergyWithType=function(){var t=this.getUint8();var e=x(t,$h,1);var r=Tu(this,e,t);return{energyType:e,energies:r}};hu.prototype.setPackedEnergyWithType=function(t){var e=t.energyType,r=t.energies;if(e){var a=Ru(e,r);var n=a>>$h;this.setUint8(a);for(var i=0;i<Sr;i++){var E=!!x(n,1,i+1);if(E){this.setInt32(r.wh[i]);this.setInt32(r.vari[i]);this.setInt32(r.vare[i])}}return}for(var _=0;_<Sr;_++){this.setInt32(r.wh[_]);this.setInt32(r.vari[_]);this.setInt32(r.vare[_])}};hu.prototype.getEnergyPeriods=function(t){var e=this;return new Array(t).fill(0).map((function(){var t=e.getUint16();return t===65535?undefined:t}))};hu.prototype.setEnergyPeriods=function(t){var e=this;t.forEach((function(t){return e.setUint16(t===undefined?65535:t)}))};hu.prototype.getMaxDemand=function(){return{hourPmax:this.getUint8(),minPmax:this.getUint8(),pmax:this.getInt32(),hourVariMax:this.getUint8(),minVariMax:this.getUint8(),variMax:this.getInt32(),hourVareMax:this.getUint8(),minVareMax:this.getUint8(),vareMax:this.getInt32()}};hu.prototype.setMaxDemand=function(t){this.setUint8(t.hourPmax);this.setUint8(t.minPmax);this.setInt32(t.pmax);this.setUint8(t.hourVariMax);this.setUint8(t.minVariMax);this.setInt32(t.variMax);this.setUint8(t.hourVareMax);this.setUint8(t.minVareMax);this.setInt32(t.vareMax)};hu.prototype.getDayMaxDemandResponse=function(){var t=this;var e=this.getDate();var r=new Array(Sr).fill(0).map((function(){return t.getMaxDemand()}));return{date:e,maxDemands:r}};hu.prototype.setDayMaxDemandResponse=function(t){var e=this;this.setDate(t.date);t.maxDemands.forEach((function(t){return e.setMaxDemand(t)}))};hu.prototype.getMonthMaxDemandResponse=function(){var t=this;var e={year:this.getUint8(),month:this.getUint8()};var r=new Array(Sr).fill(0).map((function(){return t.getMaxDemand()}));return{date:e,maxDemands:r}};hu.prototype.setMonthMaxDemandResponse=function(t){var e=this;this.setUint8(t.date.year);this.setUint8(t.date.month);t.maxDemands.forEach((function(t){return e.setMaxDemand(t)}))};hu.prototype.getEvent=function(){var t={hours:this.getUint8(),minutes:this.getUint8(),seconds:this.getUint8(),event:this.getUint8()};var e=t.event;var r=this.bytesLeft;t.eventName=lT[e];switch(e){case wA:if(r<4){return t}t.power=[this.getUint8(),this.getUint8(),this.getUint8(),this.getUint8()];break;case Zo:case DA:if(r<8){return t}t.newDate=this.getDateTime();break}return t};hu.prototype.setEvent=function(t){this.setUint8(t.hours);this.setUint8(t.minutes);this.setUint8(t.seconds);this.setUint8(t.event);switch(t.event){case wA:for(var e of t.power){this.setUint8(e)}break;case Zo:case DA:this.setDateTime(t.newDate);break}};hu.prototype.getDemand=function(){var t=this.getUint8();var e=this.getUint8();return{date:{year:t>>1,month:t<<3&15|e>>5,date:e&31},demandParam:this.getUint8(),firstIndex:this.getUint16(),count:this.getUint8(),period:this.getUint8()}};hu.prototype.setDemand=function(t){var e=t.date.year<<1|t.date.month>>3&1;var r=t.date.month<<5&224|t.date.date&31;this.setUint8(e);this.setUint8(r);this.setUint8(t.demandParam);this.setUint16(t.firstIndex);this.setUint8(t.count);this.setUint8(t.period)};hu.prototype.getOperatorParametersExtended2=function(){var t={deltaCorMin:this.getUint8(),timeoutMagnetOff:this.getUint8(),relaySetExt:Y(ou,this.getUint8()),timeoutMagnetOn:this.getUint8(),phaseDefault:this.getUint8(),displaySet21:Y(Jh,this.getUint32()),displaySet22:Y(tu,this.getUint32()),displaySet23:Y(eu,this.getUint32()),displaySet24:Y(su,this.getUint32()),channel1:this.getUint8(),channel2:this.getUint8(),channel3:this.getUint8(),channel4:this.getUint8(),channel5:this.getUint8(),channel6:this.getUint8(),timeCorrectPeriod:0,timeCorrectPassHalfhour:false};var e=this.getUint8();t.timeCorrectPeriod=e&127;t.timeCorrectPassHalfhour=!!(e&128);return t};hu.prototype.setOperatorParametersExtended2=function(t){var e=t.timeCorrectPeriod|(t.timeCorrectPassHalfhour?128:0);this.setUint8(t.deltaCorMin);this.setUint8(t.timeoutMagnetOff);this.setUint8(F(ou,t.relaySetExt));this.setUint8(t.timeoutMagnetOn);this.setUint8(t.phaseDefault);this.setUint32(F(Jh,t.displaySet21));this.setUint32(F(tu,t.displaySet22));this.setUint32(F(eu,t.displaySet23));this.setUint32(F(su,t.displaySet24));this.setUint8(t.channel1);this.setUint8(t.channel2);this.setUint8(t.channel3);this.setUint8(t.channel4);this.setUint8(t.channel5);this.setUint8(t.channel6);this.setUint8(e)};hu.prototype.getOperatorParametersExtended4=function(){return{displaySet5:Y(nu,this.getUint32()),displaySet25:Y(nu,this.getUint32()),displaySet31:Y(Jh,this.getUint32()),displaySet32:Y(Jh,this.getUint32()),displaySet33:Y(Jh,this.getUint32()),displaySet34:Y(Jh,this.getUint32()),displaySet35:Y(nu,this.getUint32())}};hu.prototype.setOperatorParametersExtended4=function(t){this.setUint32(F(nu,t.displaySet5));this.setUint32(F(nu,t.displaySet25));this.setUint32(F(Jh,t.displaySet31));this.setUint32(F(Jh,t.displaySet32));this.setUint32(F(Jh,t.displaySet33));this.setUint32(F(Jh,t.displaySet34));this.setUint32(F(nu,t.displaySet35))};var uu=3;var Ou=4;var fu=Ms;var Pu=function(t){var e=new hu(t?.energyType?Ou:uu);e.setDate(t?.date);if(t?.energyType){e.setUint8(t.energyType)}return Jr(fu,e.data)};var gu=io;var du=3;var Uu=function(t){var e=new hu(du);e.setDate(t.date);return Jr(gu,e.data)};var lu=co;var Iu=7;var pu=function(t){var e=new hu(Iu);e.setDemand(t);return Jr(lu,e.data)};var Nu=fo;var Mu=1;var cu=function(t){var e=new hu(Mu);e.setUint8(t.displayMode);return Jr(Nu,e.data)};var Cu=gs;var Du=function(){return Jr(Cu)};var Su=Ts;var mu=function(t){if(t.energyType){return Jr(Su,[t.energyType])}return Jr(Su)};var yu=no;var Lu=function(){return Jr(yu)};var Vu=Eo;var Fu=function(){return Jr(Vu)};var Yu=ho;var xu=5;var Hu=function(t){var e=new hu(xu);e.setUint8(t.channel);e.setUint8(t.channelParameter);e.setDate(t.date);return Jr(Yu,e.data)};var Xu=ao;var Gu=3;var Wu=function(t){var e=new hu(Gu);e.setDate(t.date);return Jr(Xu,e.data)};var Bu=vo;var wu=3;var Ku=function(t){var e=new hu(wu);e.setDate(t.date);return Jr(Bu,e.data)};var bu=ro;var Qu=3;var Zu=function(t){var e=new hu(Qu);e.setDate(t.date);return Jr(bu,e.data)};var ju=oo;var zu=3;var ku=function(t){var e=new hu(zu);e.setDate(t.date);return Jr(ju,e.data)};var qu=qs;var $u=function(){return Jr(qu)};var Ju=eo;var tO=function(){return Jr(Ju)};var eO=Oo;var rO=function(t){return Jr(eO,[t.displayMode].concat(s(t.order)))};var aO=ys;var nO=jh;var iO=function(t){var e=new hu(nO);e.setOperatorParameters(t);return Jr(aO,e.data)};var EO=$s;var _O=zh;var sO=function(t){var e=new hu(_O);e.setOperatorParametersExtended(t);return Jr(EO,e.data)};var oO=Js;var vO=kh;var AO=function(t){var e=new hu(vO);e.setOperatorParametersExtended2(t);return Jr(oO,e.data)};var TO=No;var RO=qh;var hO=function(t){var e=new hu(RO);e.setOperatorParametersExtended4(t);return Jr(TO,e.data)};var uO={};var OO=vs(uO);uO[Rn]=un;uO[On]=fn;uO[Pn]=gn;uO[Yn]=xn;uO[Hn]=Xn;uO[Gn]=Wn;uO[Gn]=Wn;uO[Bn]=Kn;uO[bn]=Zn;uO[jn]=kn;uO[qn]=$n;uO[Jn]=ti;uO[_E]=oE;uO[vE]=AE;uO[TE]=RE;uO[hE]=uE;uO[OE]=PE;uO[gE]=UE;uO[mE]=LE;uO[VE]=FE;uO[YE]=xE;uO[HE]=GE;uO[WE]=wE;uO[KE]=bE;uO[QE]=ZE;uO[kE]=qE;uO[jE]=zE;uO[$E]=JE;uO[t_]=e_;uO[r_]=a_;uO[n_]=E_;uO[__]=o_;uO[v_]=A_;uO[T_]=h_;uO[u_]=O_;uO[f_]=P_;uO[g_]=d_;uO[l_]=p_;uO[N_]=c_;uO[C_]=S_;uO[m_]=L_;uO[Y_]=x_;uO[H_]=G_;uO[W_]=w_;uO[K_]=Q_;uO[Z_]=z_;uO[k_]=$_;uO[J_]=es;uO[rs]=as;uO[ns]=is;uO[Qh]=Zh;uO[fu]=Pu;uO[gu]=Uu;uO[lu]=pu;uO[Nu]=cu;uO[Cu]=Du;uO[Su]=mu;uO[yu]=Lu;uO[Vu]=Fu;uO[Yu]=Hu;uO[Xu]=Wu;uO[Bu]=Ku;uO[bu]=Zu;uO[ju]=ku;uO[qu]=$u;uO[Ju]=tO;uO[eO]=rO;uO[aO]=iO;uO[EO]=sO;uO[oO]=AO;uO[TO]=hO;var fO=145;var PO=30;var gO=function(t){var e=[PO,t.length+2,0,fO].concat(s(t));return[].concat(s(e),[_s(e)])};getBase64FromBytes=$r;toBytes=OO;setDataSegment=gO})();
//#endregion


/*
  Incoming arguments:
    * msg - JSON message payload downlink message json
    * msgType - type of message, for ex. 'ATTRIBUTES_UPDATED', 'POST_TELEMETRY_REQUEST', etc.
    * metadata - list of key-value pairs with additional data about the message
    * integrationMetadata - list of key-value pairs with additional data defined in Integration executing this converter

  Output must be an object with the following fields:
    * contentType - BINARY
    * data - payload in base64
*/

var bytes = toBytes(msg.commands);

// send nothing if not fit in a single data segment
if ( bytes.length > MAX_DATA_SEGMENT_SIZE ) {
    bytes = [];
} else {
    bytes = setDataSegment(bytes);
}

var result = {
    contentType: 'BINARY',
    data: getBase64FromBytes(bytes)
};

return result;
