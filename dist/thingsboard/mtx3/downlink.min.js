// IMPORTANT!!!
// This example only for default downlink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/

// encoded message should be less than this size
// to be able to send to a device
var MAX_DATA_SEGMENT_SIZE = 50;


//#region [autogenerated jooby-codec bundle from index.js]
var toBytes,setDataSegment,getBase64FromBytes;(function(){"use strict";function r(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,E=Array(a);e<a;e++)E[e]=r[e];return E}function a(a){if(Array.isArray(a))return r(a)}function e(r,a,e){return(a=A(a))in r?Object.defineProperty(r,a,{value:e,enumerable:true,configurable:true,writable:true}):r[a]=e,r}function E(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(r){return a(r)||E(r)||n(r)||_()}function v(r,a){if("object"!=typeof r||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var E=e.call(r,a);if("object"!=typeof E)return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(r)}function A(r){var a=v(r,"string");return"symbol"==typeof a?a:a+""}function n(a,e){if(a){if("string"==typeof a)return r(a,e);var E={}.toString.call(a).slice(8,-1);return"Object"===E&&a.constructor&&(E=a.constructor.name),"Map"===E||"Set"===E?Array.from(a):"Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?r(a,e):void 0}}var R={encrypt:function(){},decrypt:function(){}};var T=0;var O=3;var i=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var e=a;r.forEach(function(r){e^=r});return e};var o=16;var s=[0];var P=function(r){return function(a,e){var E;var _=e.messageId,v=_===void 0?1:_,A=e.accessLevel,n=A===void 0?O:A,P=e.aesKey;var N=a.map(function(a){if("id"in a){return r[a.id](a.parameters||{})}if("command"in a){return a.command.bytes}throw new Error("wrong command format")});var C=n|16;var D=[v,C];var S=(E=[]).concat.apply(E,[C].concat(t(N),[s]));if(n!==T){var I=(S.length+1)%o;if(I){S=S.concat(new Array(o-I).fill(0))}}S=S.concat(i(S));if(P&&n!==T){S=t(R.encrypt(P,S))}return D.concat(S)}};var N=function(r){return btoa(r.map(function(r){return String.fromCharCode(r)}).join(""))};var C=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return[r,a.length].concat(t(a))};var D=1;var S=3;var I=4;var M=5;var f=7;var g=8;var u=9;var d=13;var l=15;var V=16;var L=17;var c=18;var h=19;var m=20;var H=21;var p=22;var y=23;var G=24;var X=25;var F=28;var U=30;var W=31;var Y=40;var B=41;var x=42;var K=44;var b=45;var Z=46;var w=47;var Q=49;var j=50;var z=51;var k=52;var $=53;var q=54;var J=57;var rr=58;var ar=59;var er=60;var Er=61;var _r=62;var tr=65;var vr=70;var Ar=74;var nr=75;var Rr=79;var Tr=80;var Or=82;var ir=83;var or=88;var sr=89;var Pr=91;var Nr=92;var Cr=93;var Dr=94;var Sr=100;var Ir=109;var Mr=111;var fr=112;var gr=113;var ur=114;var dr=116;var lr=117;var Vr=118;var Lr=122;var cr=Object.freeze({__proto__:null,activateRatePlan:h,getBuildVersion:fr,getCorrectTime:_r,getCriticalEvent:tr,getCurrentStatusMeter:J,getCurrentValues:d,getDateTime:f,getDayDemand:p,getDayDemandExport:Rr,getDayMaxDemand:Q,getDayMaxDemandExport:or,getDayMaxDemandPrevious:Ar,getDayProfile:ar,getDemand:Vr,getDemandParameters:lr,getDeviceId:M,getDeviceType:I,getDisplayParam:Dr,getEnergy:l,getEnergyDayPrevious:S,getEnergyExport:Pr,getEnergyExportDayPrevious:Tr,getEventStatus:D,getEvents:z,getEventsCounters:k,getExtendedCurrentValues:rr,getExtendedCurrentValues2:b,getHalfHourDemand:H,getHalfHourDemandExport:ir,getHalfHourDemandPrevious:nr,getHalfHourEnergies:Mr,getMagneticFieldThreshold:Ir,getMeterInfo:Lr,getMonthDemand:y,getMonthDemandExport:Or,getMonthMaxDemand:j,getMonthMaxDemandExport:sr,getOperatorParameters:U,getOperatorParametersExtended3:gr,getRatePlanInfo:K,getSaldo:B,getSaldoParameters:Z,getSeasonProfile:er,getSpecialDay:Er,getVersion:Y,prepareRatePlan:m,resetPowerMaxDay:$,resetPowerMaxMonth:q,runTariffPlan:vr,setAccessKey:u,setCorrectDateTime:Nr,setCorrectTime:F,setDateTime:g,setDayProfile:V,setDemandParameters:dr,setDisplayParam:Cr,setOperatorParameters:W,setOperatorParametersExtended3:ur,setSaldo:x,setSaldoParameters:w,setSeasonProfile:L,setSpecialDay:c,setSpecialOperation:Sr,turnRelayOff:X,turnRelayOn:G});var hr=function(r){var a={};for(var e in r){var E=r[e];a[E]=e}return a};hr(cr);var mr=D;var Hr=function(){return C(mr)};var pr=S;var yr=function(r){if(r.energyType){return C(pr,[r.energyType])}return C(pr)};var Gr=I;var Xr=function(){return C(Gr)};var Fr=M;var Ur=function(){return C(Fr)};var Wr=f;var Yr=function(){return C(Wr)};var Br=1;var xr=2;var Kr=3;var br=4;var Zr=Math.log,wr=Math.pow,Qr=Math.LN2;var jr=function(r,a,e,E,_){var t,v,A=_*8-E-1,n=(1<<A)-1,R=n>>1,T=-7,O=e?_-1:0,i=e?-1:1,o=r[a+O];O+=i;t=o&(1<<-T)-1;o>>=-T;T+=A;for(;T>0;t=t*256+r[a+O],O+=i,T-=8);v=t&(1<<-T)-1;t>>=-T;T+=E;for(;T>0;v=v*256+r[a+O],O+=i,T-=8);if(t===0){t=1-R}else if(t===n){return v?NaN:o?-Infinity:Infinity}else{v=v+wr(2,E);t=t-R}return(o?-1:1)*v*wr(2,t-E)};var zr=function(r,a,e,E,_,t){var v,A,n,R=t*8-_-1,T=(1<<R)-1,O=T>>1,i=_===23?wr(2,-24)-wr(2,-77):0,o=E?0:t-1,s=E?1:-1,P=e<0||e===0&&1/e<0?1:0;e<0&&(e=-e);if(e!==e||e===Infinity){A=e!==e?1:0;v=T}else{v=Zr(e)/Qr|0;if(e*(n=wr(2,-v))<1){v--;n*=2}if(v+O>=1){e+=i/n}else{e+=i*wr(2,1-O)}if(e*n>=2){v++;n/=2}if(v+O>=T){A=0;v=T}else if(v+O>=1){A=(e*n-1)*wr(2,_);v=v+O}else{A=e*wr(2,O-1)*wr(2,_);v=0}}for(;_>=8;r[a+o]=A&255,o+=s,A/=256,_-=8);v=v<<_|A;R+=_;for(;R>0;r[a+o]=v&255,o+=s,v/=256,R-=8);r[a+o-s]|=P*128};var kr=[1,0];var $r=[2,1,0];var qr=[3,2,1,0];var Jr=[0,1];var ra=[0,1,2];var aa=[0,1,2,3];var ea=function(r,a){return r[a]};var Ea=function(r,a,e){var E=e?Jr:kr;var _=r[a+E[0]];var t=r[a+E[1]]<<8;return _|t};var _a=function(r,a,e){var E=e?ra:$r;var _=r[a+E[0]];var t=r[a+E[1]]<<8;var v=r[a+E[2]]<<16;return _|t|v};var ta=function(r,a,e){var E=e?aa:qr;var _=r[a+E[3]]*16777216;var t=r[a+E[2]]*65536;var v=r[a+E[1]]*256;var A=r[a+E[0]];return _+t+v+A};var va=function(r,a,e){r[a]=e&255};var Aa=function(r,a,e,E){var _=E?Jr:kr;r[a+_[0]]=e&255;r[a+_[1]]=e>>>8&255};var na=function(r,a,e,E){var _=E?ra:$r;r[a+_[0]]=e&255;r[a+_[1]]=e>>>8&255;r[a+_[2]]=e>>>16&255};var Ra=function(r,a,e,E){var _=E?aa:qr;r[a+_[0]]=e&255;r[a+_[1]]=e>>>8&255;r[a+_[2]]=e>>>16&255;r[a+_[3]]=e>>>24&255};function Ta(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof r==="number"){var e=new Array(r).fill(0);this.data=e}else{this.data=r}this.offset=0;this.isLittleEndian=a}Ta.prototype={toUint8Array:function(){return this.data},seek:function(r){if(r<0||r>=this.data.length){throw new Error("Invalid position.")}this.offset=r},setInt8:function(r){va(this.data,this.offset,r<0?r|256:r);this.offset+=Br},getInt8:function(){var r=ea(this.data,this.offset);this.offset+=Br;return r&128?r^-256:r},setUint8:function(r){va(this.data,this.offset,r);this.offset+=Br},getUint8:function(){var r=ea(this.data,this.offset);this.offset+=Br;return r},setInt16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Aa(this.data,this.offset,r<0?r|65536:r,a);this.offset+=xr},getInt16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Ea(this.data,this.offset,r);this.offset+=xr;return a&32768?a^-65536:a},setUint16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Aa(this.data,this.offset,r,a);this.offset+=xr},getUint16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=Ea(this.data,this.offset,r);this.offset+=xr;return a},setInt24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;na(this.data,this.offset,r<0?r|16777216:r,a);this.offset+=Kr},getInt24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=_a(this.data,this.offset,r);this.offset+=Kr;return a&8388608?a^-16777216:a},setUint24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;na(this.data,this.offset,r,a);this.offset+=Kr},getUint24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=_a(this.data,this.offset,r);this.offset+=Kr;return a},setInt32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Ra(this.data,this.offset,r<0?r|4294967296:r,a);this.offset+=br},getInt32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=ta(this.data,this.offset,r);this.offset+=br;return a&2147483648?a^-4294967296:a},setUint32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Ra(this.data,this.offset,r,a);this.offset+=br},getUint32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=ta(this.data,this.offset,r);this.offset+=br;return a},setFloat32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;zr(this.data,this.offset,r,a,23,4);this.offset+=br},getFloat32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=jr(this.data,this.offset,r,23,4);this.offset+=br;return a},setString:function(r){this.setUint8(r.length);for(var a=0;a<r.length;++a){this.setUint8(r.charCodeAt(a))}},getString:function(){var r=this.getUint8();var a=this.offset+r;var e=[];while(this.offset<a){e.push(String.fromCharCode(this.getUint8()))}return e.join("")},getBytesToOffset:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,r)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=a+r;return this.data.slice(a,this.offset)},setBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var e=this.data;e.splice.apply(e,[a,r.length].concat(t(r)));this.data=e;this.offset=a+r.length}};Object.defineProperties(Ta.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var Oa=80;var ia=81;var oa=82;var sa=83;var Pa=84;var Na=85;var Ca=86;var Da=87;var Sa=88;var Ia=89;var Ma=90;var fa=91;var ga=255;var ua=Object.freeze({__proto__:null,DATA_REQUEST:Oa,DATA_RESPONSE:ia,FRAGMENT_REQUEST:Ma,FRAGMENT_RESPONSE:fa,IDENT_REQUEST:oa,IDENT_RESPONSE:sa,INVALID:ga,L2_CHECK_ADDRESS_REQUEST:Ca,L2_CHECK_ADDRESS_RESPONSE:Da,L2_RM_ADDRESS_REQUEST:Sa,L2_RM_ADDRESS_RESPONSE:Ia,L2_SET_ADDRESS_REQUEST:Pa,L2_SET_ADDRESS_RESPONSE:Na});hr(ua);var da=1;var la=2;var Va=3;var La=16;var ca=17;var ha=18;var ma=19;var Ha=20;var pa=21;var ya=32;var Ga=33;var Xa=34;var Fa=35;var Ua=36;var Wa=37;var Ya=38;var Ba=39;var xa=40;var Ka=41;var ba=49;var Za=50;var wa=51;var Qa=52;var ja=53;var za=54;var ka=55;var $a=56;var qa=57;var Ja=60;var re=61;var ae=62;var ee=63;var Ee=64;var _e=65;var te=66;var ve=67;var Ae=68;var ne=69;var Re=70;var Te=71;var Oe=72;var ie=73;var oe=74;var se=75;var Pe=76;var Ne=77;var Ce=78;var De=79;var Se=80;var Ie=81;var Me=82;var fe=83;var ge=84;var ue=85;var de=86;var le=87;var Ve=88;var Le=89;var ce=96;var he=97;var me=98;var He=99;var pe=100;var ye=101;var Ge=102;var Xe=103;var Fe=104;var Ue=105;var We=112;var Ye=113;var Be=114;var xe=115;var Ke=116;var be=117;var Ze=118;var we=119;var Qe=120;var je=121;var ze=122;var ke=123;var $e=124;var qe=125;var Je=126;var rE=144;var aE=145;var eE=147;var EE=148;var _E=152;var tE=156;var vE=157;var AE=158;var nE=159;var RE=160;var TE=161;var OE=162;var iE=176;var oE=177;var sE=178;var PE=179;var NE=180;var CE=181;var DE=182;var SE=183;var IE=185;var ME=186;var fE=224;var gE=225;var uE=226;var dE=227;var lE=228;var VE=229;var LE=230;var cE=231;var hE=232;var mE=Object.freeze({__proto__:null,ACCESS_LOCKED:La,ACC_PARAM_BAD:Be,ACC_PARAM_EXT_BAD:xe,BAD_TEST_EEPROM:Fe,BAD_TEST_FRAM:Ue,BATTERY_FAULT:fe,BATTERY_OK:Me,BIPOLAR_POWER_FAULT:NE,BIPOLAR_POWER_OK:CE,BLOCK_TARIFF_BAD:be,CALC_PERIOD_BAD:Ke,CALIBRATION_FAULT:ue,CALIBRATION_FLAG_RESET:Xe,CALIBRATION_FLAG_SET:Ge,CALIBRATION_OK:ge,CALIBRATION_PARAM_BAD:Ze,CASE_CLOSE:ma,CASE_KLEMA_CLOSE:ke,CASE_KLEMA_OPEN:ze,CASE_MODULE_CLOSE:qe,CASE_MODULE_OPEN:$e,CASE_OPEN:ha,CHANGE_ACCESS_KEY0:ya,CHANGE_ACCESS_KEY1:Ga,CHANGE_ACCESS_KEY2:Xa,CHANGE_ACCESS_KEY3:Fa,CHANGE_COR_TIME:Ka,CHANGE_PARAM_CANAL:IE,CHANGE_PAR_LOCAL:Ua,CHANGE_PAR_REMOTE:Wa,CHANGE_TARIFF_TABLE:Za,CHANGE_TARIFF_TBL_2:_E,CLOCK_FAULT:le,CLOCK_OK:de,CMD_CHANGE_TIME:Ya,CMD_RELAY_2_OFF:he,CMD_RELAY_2_ON:ce,CMD_RELAY_OFF:xa,CMD_RELAY_ON:Ba,CROSS_ZERO_ENT0:me,CROSS_ZERO_ENT1:He,CROSS_ZERO_ENT2:pe,CROSS_ZERO_ENT3:ye,CROSS_ZERO_EXPORT_ENT0:AE,CROSS_ZERO_EXPORT_ENT1:nE,CROSS_ZERO_EXPORT_ENT2:RE,CROSS_ZERO_EXPORT_ENT3:TE,CURRENT_UNEQUAL_FAULT:sE,CURRENT_UNEQUAL_OK:PE,EM_MAGNETIC_OFF:oE,EM_MAGNETIC_ON:iE,ENERGY_REGISTER_FAULT:da,ENERGY_REGISTER_OVERFLOW:ba,ERR_ACCESS:ca,F_MAX_OK:Oe,F_MAX_OVER:ie,F_MIN_OK:oe,F_MIN_OVER:se,I_MAX_OK:Pe,I_MAX_OVER:Ne,MAGNETIC_OFF:pa,MAGNETIC_ON:Ha,OP_PAR_FAULT:Va,POWER_A_OFF:Ve,POWER_A_ON:Le,POWER_B_OFF:re,POWER_B_ON:Ja,POWER_C_OFF:ee,POWER_C_ON:ae,POWER_GOOD_DIO:Je,POWER_OVER_RELAY_OFF:vE,POWER_SALDO_OK:Se,POWER_SALDO_OVER:Ie,P_MAX_A_MINUS_OK:cE,P_MAX_A_MINUS_OVER:hE,P_MAX_OK:Ce,P_MAX_OVER:De,RELAY_HARD_BAD_OFF:rE,RELAY_HARD_BAD_ON:eE,RELAY_HARD_OFF:EE,RELAY_HARD_ON:aE,RELAY_OFF:ka,RELAY_OFF_BAD_SALDO:ME,RELAY_ON:za,RESET_EM_FLAG:DE,RESET_MAGNET_FLAG:SE,RESTART:$a,SALDO_EN_BAD:Qe,SALDO_PARAM_BAD:Ye,SET_DEMAND_EN_10MIN:dE,SET_DEMAND_EN_15MIN:lE,SET_DEMAND_EN_1MIN:fE,SET_DEMAND_EN_30MIN:VE,SET_DEMAND_EN_3MIN:gE,SET_DEMAND_EN_5MIN:uE,SET_DEMAND_EN_60MIN:LE,SET_NEW_SALDO:We,SET_SALDO_PARAM:tE,SET_TARIFF_TABLE:wa,SUMMER_TIME:Qa,TIME_CORRECT:je,TIME_CORRECT_NEW:OE,T_MAX_OK:Ae,T_MAX_OVER:ne,T_MIN_OK:Re,T_MIN_OVER:Te,VENDOR_PAR_FAULT:la,V_MAX_OK:Ee,V_MAX_OVER:_e,V_MIN_OK:te,V_MIN_OVER:ve,WD_RESTART:qa,WINTER_SUMMER_BAD:we,WINTER_TIME:ja});hr(mE);var HE=function(r,a){r.setUint8(a.isSummerTime?1:0);r.setUint8(a.seconds);r.setUint8(a.minutes);r.setUint8(a.hours);r.setUint8(a.day||0);r.setUint8(a.date);r.setUint8(a.month);r.setUint8(a.year)};var pE=function(r,a){r.setUint8(a.year);r.setUint8(a.month);r.setUint8(a.date)};var yE=g;var GE=8;var XE=function(r){var a=new Ta(GE,false);HE(a,r);return C(yE,a.data)};var FE=0;var UE=1;var WE=l;var YE=function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=new Ta(r?.energyType?UE:FE,false);if(r?.energyType){a.setUint8(r.energyType)}return C(WE,a.data)};var BE=H;var xE=3;var KE=function(r){var a=new Ta(xE,false);pE(a,r.date);return C(BE,a.data)};var bE=1;var ZE=3;var wE=4;var QE=5;var jE=7;var zE=8;var kE=9;var $E=13;var qE=15;var JE=16;var r_=17;var a_=18;var e_=19;var E_=20;var __=21;var t_=22;var v_=23;var A_=24;var n_=25;var R_=28;var T_=30;var O_=31;var i_=40;var o_=41;var s_=42;var P_=44;var N_=46;var C_=47;var D_=49;var S_=50;var I_=51;var M_=52;var f_=53;var g_=54;var u_=57;var d_=58;var l_=59;var V_=60;var L_=61;var c_=62;var h_=63;var m_=64;var H_=69;var p_=70;var y_=71;var G_=72;var X_=73;var F_=78;var U_=79;var W_=80;var Y_=82;var B_=83;var x_=84;var K_=85;var b_=86;var Z_=88;var w_=89;var Q_=90;var j_=92;var z_=93;var k_=94;var $_=100;var q_=109;var J_=111;var rt=112;var at=113;var et=114;var Et=116;var _t=117;var tt=118;var vt=122;var At=Object.freeze({__proto__:null,activateRatePlan:e_,getBuildVersion:rt,getCorrectTime:c_,getCriticalEvent:b_,getCurrentStatusMeter:u_,getCurrentValues:$E,getDateTime:jE,getDayDemand:t_,getDayDemandExport:U_,getDayMaxDemand:D_,getDayMaxDemandExport:Z_,getDayProfile:l_,getDemand:tt,getDeviceId:QE,getDeviceType:wE,getDisplayParam:k_,getEnergy:qE,getEnergyDayPrevious:ZE,getEnergyExport:F_,getEnergyExportDayPrevious:W_,getEventStatus:bE,getEvents:I_,getEventsCounters:M_,getExtendedCurrentValues:d_,getHalfHourDemand:__,getHalfHourDemandChannel:Q_,getHalfHourDemandExport:B_,getHalfHourDemandVare:X_,getHalfHourDemandVareExport:K_,getHalfHourDemandVari:G_,getHalfHourDemandVariExport:x_,getHalfHourEnergies:J_,getMagneticFieldThreshold:q_,getMeterInfo:vt,getMonthDemand:v_,getMonthDemandExport:Y_,getMonthMaxDemand:S_,getMonthMaxDemandExport:w_,getOperatorParameters:T_,getOperatorParametersExtended:h_,getOperatorParametersExtended2:y_,getOperatorParametersExtended3:at,getOperatorParametersExtended4:_t,getRatePlanInfo:P_,getSaldo:o_,getSaldoParameters:N_,getSeasonProfile:V_,getSpecialDay:L_,getVersion:i_,prepareRatePlan:E_,resetPowerMaxDay:f_,resetPowerMaxMonth:g_,runTariffPlan:p_,setAccessKey:kE,setCorrectDateTime:j_,setCorrectTime:R_,setDateTime:zE,setDayProfile:JE,setDisplayParam:z_,setOperatorParameters:O_,setOperatorParametersExtended:m_,setOperatorParametersExtended2:H_,setOperatorParametersExtended3:et,setOperatorParametersExtended4:Et,setSaldo:s_,setSaldoParameters:C_,setSeasonProfile:r_,setSpecialDay:a_,setSpecialOperation:$_,turnRelayOff:n_,turnRelayOn:A_});hr(At);var nt=3;var Rt=4;var Tt=t_;var Ot=function(r){var a=new Ta(r?.energyType?Rt:nt,false);pE(a,r?.date);if(r?.energyType){a.setUint8(r.energyType)}return C(Tt,a.data)};var it=Y;var ot=function(){return C(it)};var st=0;var Pt=1;var Nt=2;var Ct=3;var Dt=4;var St=5;var It=6;var Mt=7;var ft=8;var gt=9;var ut=10;var dt=11;var lt=12;var Vt=13;var Lt=14;var ct=Object.freeze({__proto__:null,CASE_MODULE_OPEN:ut,CASE_OPEN:st,CASE_TERMINAL_OPEN:gt,DEVICE_FAILURE:ft,ERROR_ACCESS:St,MAGNETIC_ON:Pt,PARAMETERS_UPDATE_LOCAL:Ct,PARAMETERS_UPDATE_REMOTE:Nt,PROTECTION_RESET_EM:Vt,PROTECTION_RESET_MAGNETIC:Lt,RESTART:Dt,TARIFF_TABLE_GET:lt,TARIFF_TABLE_SET:dt,TIME_CORRECT:Mt,TIME_SET:It});hr(ct);var ht=b_;var mt=function(r){return C(ht,[r.event,r.index])};var Ht=0;var pt=128;var yt=129;var Gt=130;var Xt=131;var Ft=132;var Ut=133;var Wt=134;var Yt=135;var Bt=136;var xt=137;var Kt=144;var bt=145;var Zt=146;var wt=147;var Qt=149;var jt=151;var zt=152;var kt=153;var $t=154;var qt=155;var Jt=156;var rv=159;var av=160;var ev=240;var Ev=Object.freeze({__proto__:null,ACCESS_DENIED:wt,BAD_ARRAY_INDEX:Wt,BAD_BLOCK_NUMBER:Jt,BAD_DATA_LENGTH:Ut,BAD_MESSAGE:Ft,BAD_RATE_PLAN_ID:Bt,BAD_RATE_PLAN_SIZE:xt,BAD_RESPONSE_LENGTH:Kt,BAD_SALDO_WRITE:Qt,BLOCKED_METER:jt,CALIBRATION_DISABLED:Zt,DECRYPTION_FAILURE:Gt,INTERNAL:ev,INVALID_CORRECTION_INTERVAL:$t,NOT_ALIGNED_DATA:yt,NOT_PREPARED_RATE_PLAN:Yt,NO_DATA_FOR_DATE:bt,OK:Ht,OUT_OFF_RANGE:rv,SET_METER_TYPE_FAILURE:av,TIME_CORRECTION_FAILURE:kt,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:qt,UNENCRYPTED_COMMAND_DISABLED:zt,UNKNOWN_COMMAND:pt,UNKNOWN_PROTOCOL:Xt});hr(Ev);var _v=1;var tv=2;var vv=3;var Av=4;var nv=5;var Rv=6;var Tv=7;var Ov=8;var iv=9;var ov=10;var sv=11;var Pv=12;var Nv=13;var Cv=14;var Dv=15;var Sv=16;var Iv=17;var Mv=18;var fv=19;var gv=20;var uv=21;var dv=22;var lv=23;var Vv=24;var Lv=25;var cv=26;var hv=28;var mv=30;var Hv=31;var pv=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:Av,ACTIVE_ENERGY_T2:nv,ACTIVE_ENERGY_T3:Rv,ACTIVE_ENERGY_T4:Tv,ACTIVE_POWER_IN_NEUTRAL:iv,ACTIVE_POWER_PER_PHASE:Ov,BATTERY_VOLTAGE:dv,CURRENT_BALANCE:mv,CURRENT_IN_NEUTRAL:sv,CURRENT_IN_PHASE:ov,DATE_MONTH_YEAR:Cv,EXPORTED_ACTIVE_ENERGY_T1:Sv,EXPORTED_ACTIVE_ENERGY_T2:Iv,EXPORTED_ACTIVE_ENERGY_T3:Mv,EXPORTED_ACTIVE_ENERGY_T4:fv,HOUR_MINUTE_SECOND:Nv,MAGNET_INDUCTION:hv,OPTOPORT_SPEED:Hv,POWER_FACTOR_PHASE_A:gv,POWER_FACTOR_PHASE_B:uv,POWER_THRESHOLD_T1:lv,POWER_THRESHOLD_T2:Vv,POWER_THRESHOLD_T3:Lv,POWER_THRESHOLD_T4:cv,SET_ALL_SEGMENT_DISPLAY:_v,SOFTWARE_VERSION:tv,TOTAL_ACTIVE_ENERGY:vv,TOTAL_EXPORTED_ACTIVE_ENERGY:Dv,VOLTAGE:Pv});hr(pv);var yv=120;var Gv=121;var Xv=254;var Fv=Object.freeze({__proto__:null,activateRatePlan:h,errorResponse:Xv,getBuildVersion:fr,getCorrectTime:_r,getCriticalEvent:tr,getCurrentStatusMeter:J,getCurrentValues:d,getDateTime:f,getDayDemand:p,getDayDemandExport:Rr,getDayEnergies:yv,getDayMaxDemand:Q,getDayMaxDemandExport:or,getDayMaxDemandPrevious:Ar,getDayMaxPower:Gv,getDayProfile:ar,getDemand:Vr,getDemandParameters:lr,getDeviceId:M,getDeviceType:I,getDisplayParam:Dr,getEnergy:l,getEnergyDayPrevious:S,getEnergyExport:Pr,getEnergyExportDayPrevious:Tr,getEventStatus:D,getEvents:z,getEventsCounters:k,getExtendedCurrentValues:rr,getExtendedCurrentValues2:b,getHalfHourDemand:H,getHalfHourDemandExport:ir,getHalfHourDemandPrevious:nr,getHalfHourEnergies:Mr,getMagneticFieldThreshold:Ir,getMeterInfo:Lr,getMonthDemand:y,getMonthDemandExport:Or,getMonthMaxDemand:j,getMonthMaxDemandExport:sr,getOperatorParameters:U,getOperatorParametersExtended3:gr,getRatePlanInfo:K,getSaldo:B,getSaldoParameters:Z,getSeasonProfile:er,getSpecialDay:Er,getVersion:Y,prepareRatePlan:m,resetPowerMaxDay:$,resetPowerMaxMonth:q,runTariffPlan:vr,setAccessKey:u,setCorrectDateTime:Nr,setCorrectTime:F,setDateTime:g,setDayProfile:V,setDemandParameters:dr,setDisplayParam:Cr,setOperatorParameters:W,setOperatorParametersExtended3:ur,setSaldo:x,setSaldoParameters:w,setSeasonProfile:L,setSpecialDay:c,setSpecialOperation:Sr,turnRelayOff:X,turnRelayOn:G});hr(Fv);var Uv=1;var Wv=2;var Yv=3;var Bv=4;var xv=17;var Kv=18;var bv=19;var Zv=20;var wv=21;var Qv=22;var jv=23;var zv=32;var kv=33;var $v=34;var qv=35;var Jv=36;var rA=37;var aA=38;var eA=39;var EA=40;var _A=49;var tA=50;var vA=51;var AA=52;var nA=53;var RA=54;var TA=55;var OA=56;var iA=57;var oA=64;var sA=65;var PA=66;var NA=67;var CA=68;var DA=69;var SA=70;var IA=71;var MA=72;var fA=73;var gA=74;var uA=75;var dA=76;var lA=77;var VA=78;var LA=79;var cA=80;var hA=81;var mA=82;var HA=83;var pA=84;var yA=85;var GA=86;var XA=87;var FA=88;var UA=89;var WA=90;var YA=91;var BA=92;var xA=93;var KA=94;var bA=95;var ZA=96;var wA=97;var QA=98;var jA=99;var zA=100;var kA=101;var $A=102;var qA=103;var JA=104;var rn=105;var an=106;var en=107;var En=108;var _n=109;var tn=110;var vn=111;var An=112;var nn=113;var Rn=114;var Tn=115;var On=116;var on=117;var sn=118;var Pn=119;var Nn=120;var Cn=121;var Dn=122;var Sn=123;var In=124;var Mn=125;var fn=126;var gn=127;var un=128;var dn=129;var ln=130;var Vn=131;var Ln=132;var cn=133;var hn=134;var mn=135;var Hn=136;var pn=137;var yn=138;var Gn=139;var Xn=140;var Fn=141;var Un=142;var Wn=143;var Yn=144;var Bn=145;var xn=147;var Kn=148;var bn=149;var Zn=150;var wn=151;var Qn=152;var jn=153;var zn=154;var kn=155;var $n=156;var qn=157;var Jn=158;var rR=159;var aR=160;var eR=161;var ER=162;var _R=163;var tR=164;var vR=165;var AR=166;var nR=167;var RR=168;var TR=169;var OR=170;var iR=171;var oR=172;var sR=173;var PR=174;var NR=175;var CR=176;var DR=177;var SR=178;var IR=179;var MR=224;var fR=225;var gR=226;var uR=227;var dR=228;var lR=229;var VR=230;var LR=231;var cR=232;var hR=Object.freeze({__proto__:null,ACCESS_LOCKED:xv,ACCESS_UNLOCKED:Kv,ACCUMULATION_PARAM_BAD:cn,ACCUMULATION_PARAM_EXT_BAD:hn,BAD_TEST_EEPROM:dn,BAD_TEST_FRAM:ln,BATTERY_FAULT:rn,BATTERY_OK:JA,BLOCK_TARIFF_BAD:Hn,CALCULATION_PERIOD_BAD:mn,CALIBRATION_FAULT:en,CALIBRATION_FLAG_RESET:un,CALIBRATION_FLAG_SET:gn,CALIBRATION_OK:an,CALIBRATION_PARAM_BAD:pn,CASE_CLOSE:wv,CASE_KLEMA_CLOSE:wn,CASE_KLEMA_OPEN:Zn,CASE_MODULE_CLOSE:kn,CASE_MODULE_OPEN:zn,CASE_OPEN:Zv,CHANGE_ACCESS_KEY0:zv,CHANGE_ACCESS_KEY1:kv,CHANGE_ACCESS_KEY2:$v,CHANGE_ACCESS_KEY3:qv,CHANGE_COR_TIME:An,CHANGE_PARAMETERS_LOCAL:Jv,CHANGE_PARAMETERS_REMOTE:rA,CHANGE_PARAM_CHANNEL1:Jn,CHANGE_PARAM_CHANNEL2:rR,CHANGE_PARAM_CHANNEL3:aR,CHANGE_PARAM_CHANNEL4:eR,CHANGE_PARAM_CHANNEL5:ER,CHANGE_PARAM_CHANNEL6:_R,CHANGE_TARIFF_TABLE:tA,CHANGE_TARIFF_TABLE_2:Qn,CHANGE_TARIFF_TABLE_3:jn,CLOCK_FAULT:wA,CLOCK_OK:ZA,CMD_CHANGE_TIME:aA,CMD_RELAY_2_OFF:Rn,CMD_RELAY_2_ON:nn,CMD_RELAY_OFF:EA,CMD_RELAY_ON:eA,COEFFICIENT_TRANSFORMATION_CHANGE:Wn,CROSS_ZERO_ENT1:Tn,CROSS_ZERO_ENT2:On,CROSS_ZERO_ENT3:on,CROSS_ZERO_ENT4:sn,CROSS_ZERO_EXPORT_ENT1:tR,CROSS_ZERO_EXPORT_ENT2:vR,CROSS_ZERO_EXPORT_ENT3:AR,CROSS_ZERO_EXPORT_ENT4:nR,CROSS_ZERO_EXPORT_VARE1:oR,CROSS_ZERO_EXPORT_VARE2:sR,CROSS_ZERO_EXPORT_VARE3:PR,CROSS_ZERO_EXPORT_VARE4:NR,CROSS_ZERO_EXPORT_VARI1:RR,CROSS_ZERO_EXPORT_VARI2:TR,CROSS_ZERO_EXPORT_VARI3:OR,CROSS_ZERO_EXPORT_VARI4:iR,CROSS_ZERO_VARE1:Sn,CROSS_ZERO_VARE2:In,CROSS_ZERO_VARE3:Mn,CROSS_ZERO_VARE4:fn,CROSS_ZERO_VARI1:Pn,CROSS_ZERO_VARI2:Nn,CROSS_ZERO_VARI3:Cn,CROSS_ZERO_VARI4:Dn,EM_MAGNETIC_OFF:DR,EM_MAGNETIC_ON:CR,ENERGY_REGISTER_OVERFLOW:_A,ENERGY_T1_FAULT:Uv,ENERGY_T2_FAULT:Wv,ENERGY_T3_FAULT:Yv,ENERGY_T4_FAULT:Bv,ERR_ACCESS:bv,F_MAX_OK:dA,F_MAX_OVER:lA,F_MIN_OK:VA,F_MIN_UNDER:LA,IA_MAX_OK:pA,IA_MAX_OVER:yA,IB_MAX_OK:GA,IB_MAX_OVER:XA,IC_MAX_OK:FA,IC_MAX_OVER:UA,IDIFF_OK:KA,IDIFF_OVER:bA,MAGNETIC_OFF:jv,MAGNETIC_ON:Qv,METER_TROUBLE:bn,OP_PARAM_BAD:Gn,OP_PARAM_EXT_BAD:Xn,O_PARAMETERS_FAULT:vn,O_PARAMETERS_OK:tn,PA_MAX_OK:WA,PA_MAX_OVER:YA,POWER_A_OFF:qA,POWER_A_ON:$A,POWER_B_OFF:kA,POWER_B_ON:zA,POWER_C_OFF:jA,POWER_C_ON:QA,POWER_OVER_RELAY_OFF:qn,PV_MAX_OK:BA,PV_MAX_OVER:xA,P_MAX_A_MINUS_OK:LR,P_MAX_A_MINUS_OVER:cR,RELAY_HARD_BAD_OFF:Yn,RELAY_HARD_BAD_ON:xn,RELAY_HARD_OFF:Kn,RELAY_HARD_ON:Bn,RELAY_OFF:TA,RELAY_ON:RA,RESET_EM_FLAG:SR,RESET_MAGNETIC_FLAG:IR,RESTART:OA,SALDO_ENERGY_BAD:Fn,SALDO_PARAM_BAD:Ln,SET_DEMAND_EN_10_MIN:uR,SET_DEMAND_EN_15_MIN:dR,SET_DEMAND_EN_1_MIN:MR,SET_DEMAND_EN_30_MIN:lR,SET_DEMAND_EN_3_MIN:fR,SET_DEMAND_EN_5_MIN:gR,SET_DEMAND_EN_60_MIN:VR,SET_NEW_SALDO:Vn,SET_SALDO_PARAM:$n,SET_TARIFF_TABLE:vA,SUMMER_TIME:AA,TIME_CORRECT:Un,T_MAX_OK:cA,T_MAX_OVER:hA,T_MIN_OK:mA,T_MIN_UNDER:HA,VA_MAX_OK:oA,VA_MAX_OVER:sA,VA_MIN_OK:PA,VA_MIN_UNDER:NA,VB_MAX_OK:CA,VB_MAX_OVER:DA,VB_MIN_OK:SA,VB_MIN_UNDER:IA,VC_MAX_OK:MA,VC_MAX_OVER:fA,VC_MIN_OK:gA,VC_MIN_UNDER:uA,V_PARAMETERS_FAULT:_n,V_PARAMETERS_OK:En,WD_RESTART:iA,WINTER_SUMMER_BAD:yn,WINTER_TIME:nA});hr(hR);var mR=1;var HR=2;var pR=3;var yR=4;var GR=5;var XR=6;var FR=7;var UR=8;var WR=9;var YR=10;var BR=11;var xR=12;var KR=13;var bR=14;var ZR=15;var wR=16;var QR=17;var jR=18;var zR=19;var kR=20;var $R=21;var qR=22;var JR=23;var rT=24;var aT=25;var eT=26;var ET=27;var _T=28;var tT=29;var vT=30;var AT=31;var nT=32;var RT=33;var TT=34;var OT=35;var iT=36;var oT=37;var sT=38;var PT=39;var NT=40;var CT=41;var DT=42;var ST=43;var IT=44;var MT=45;var fT=46;var gT=47;var uT=48;var dT=49;var lT=50;var VT=51;var LT=52;var cT=53;var hT=54;var mT=55;var HT=56;var pT=57;var yT=58;var GT=59;var XT=60;var FT=61;var UT=62;var WT=63;var YT=64;var BT=65;var xT=66;var KT=67;var bT=68;var ZT=69;var wT=70;var QT=71;var jT=72;var zT=73;var kT=74;var $T=75;var qT=76;var JT=77;var rO=78;var aO=79;var eO=80;var EO=81;var _O=82;var tO=83;var vO=84;var AO=85;var nO=86;var RO=87;var TO=88;var OO=89;var iO=90;var oO=91;var sO=92;var PO=93;var NO=94;var CO=95;var DO=96;var SO=97;var IO=98;var MO=99;var fO=100;var gO=101;var uO=102;var dO=103;var lO=104;var VO=105;var LO=106;var cO=107;var hO=108;var mO=109;var HO=110;var pO=111;var yO=112;var GO=113;var XO=114;var FO=115;var UO=116;var WO=117;var YO=118;var BO=119;var xO=120;var KO=121;var bO=122;var ZO=123;var wO=124;var QO=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:yR,ACTIVE_ENERGY_T2:GR,ACTIVE_ENERGY_T3:XR,ACTIVE_ENERGY_T4:FR,ACTIVE_POWER_PHASE_A:ST,ACTIVE_POWER_PHASE_B:IT,ACTIVE_POWER_PHASE_C:MT,APPARENT_POWER_QMINUS_PHASE_A:WT,APPARENT_POWER_QMINUS_PHASE_B:YT,APPARENT_POWER_QMINUS_PHASE_C:BT,APPARENT_POWER_QPLUS_PHASE_A:GT,APPARENT_POWER_QPLUS_PHASE_B:XT,APPARENT_POWER_QPLUS_PHASE_C:FT,BATTERY_VOLTAGE:NT,CURRENT_BALANCE:YO,CURRENT_IN_NEUTRAL:iT,CURRENT_IN_PHASE_A:RT,CURRENT_IN_PHASE_B:TT,CURRENT_IN_PHASE_C:OT,CURRENT_TRANSFORMATION_RATIO:UO,DATE_MONTH_YEAR:FO,EXPORTED_ACTIVE_ENERGY_T1:zR,EXPORTED_ACTIVE_ENERGY_T2:kR,EXPORTED_ACTIVE_ENERGY_T3:$R,EXPORTED_ACTIVE_ENERGY_T4:qR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:tT,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:vT,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:AT,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:nT,EXPORTED_REACTIVE_ENERGY_T1:rT,EXPORTED_REACTIVE_ENERGY_T2:aT,EXPORTED_REACTIVE_ENERGY_T3:eT,EXPORTED_REACTIVE_ENERGY_T4:ET,HOUR_MINUTE_SECOND:XO,MAGNET_INDUCTION:wO,MAX_ACTIVE_POWER_DAY_T1:xT,MAX_ACTIVE_POWER_DAY_T2:KT,MAX_ACTIVE_POWER_DAY_T3:bT,MAX_ACTIVE_POWER_DAY_T4:ZT,MAX_ACTIVE_POWER_MONTH_T1:wT,MAX_ACTIVE_POWER_MONTH_T2:QT,MAX_ACTIVE_POWER_MONTH_T3:jT,MAX_ACTIVE_POWER_MONTH_T4:zT,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:iO,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:oO,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:sO,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:PO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:NO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:CO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:DO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:SO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:LO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:cO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:hO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:mO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:HO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:pO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:yO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:GO,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:IO,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:MO,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:fO,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:gO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:uO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:dO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:lO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:VO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:_O,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:tO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:vO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:AO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:nO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:RO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:TO,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:OO,MAX_REACTIVE_POWER_DAY_T1:kT,MAX_REACTIVE_POWER_DAY_T2:$T,MAX_REACTIVE_POWER_DAY_T3:qT,MAX_REACTIVE_POWER_DAY_T4:JT,MAX_REACTIVE_POWER_MONTH_T1:rO,MAX_REACTIVE_POWER_MONTH_T2:aO,MAX_REACTIVE_POWER_MONTH_T3:eO,MAX_REACTIVE_POWER_MONTH_T4:EO,NEGATIVE_REACTIVE_ENERGY_T1:bR,NEGATIVE_REACTIVE_ENERGY_T2:ZR,NEGATIVE_REACTIVE_ENERGY_T3:wR,NEGATIVE_REACTIVE_ENERGY_T4:QR,OPTOPORT_SPEED:ZO,POWER_FACTOR_PHASE_A:mT,POWER_FACTOR_PHASE_B:HT,POWER_FACTOR_PHASE_C:pT,POWER_THRESHOLD_T1:BO,POWER_THRESHOLD_T2:xO,POWER_THRESHOLD_T3:KO,POWER_THRESHOLD_T4:bO,REACTIVE_ENERGY_T1:WR,REACTIVE_ENERGY_T2:YR,REACTIVE_ENERGY_T3:BR,REACTIVE_ENERGY_T4:xR,REACTIVE_POWER_QMINUS_PHASE_A:VT,REACTIVE_POWER_QMINUS_PHASE_B:LT,REACTIVE_POWER_QMINUS_PHASE_C:cT,REACTIVE_POWER_QPLUS_PHASE_A:gT,REACTIVE_POWER_QPLUS_PHASE_B:uT,REACTIVE_POWER_QPLUS_PHASE_C:dT,SET_ALL_SEGMENT_DISPLAY:mR,SOFTWARE_VERSION:HR,SUPPLY_FREQUENCY:CT,TOTAL_ACTIVE_ENERGY:pR,TOTAL_ACTIVE_POWER:DT,TOTAL_APPARENT_POWER_QMINUS:UT,TOTAL_APPARENT_POWER_QPLUS:yT,TOTAL_EXPORTED_ACTIVE_ENERGY:jR,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:_T,TOTAL_EXPORTED_REACTIVE_ENERGY:JR,TOTAL_NEGATIVE_REACTIVE_ENERGY:KR,TOTAL_POWER_FACTOR:hT,TOTAL_REACTIVE_ENERGY:UR,TOTAL_REACTIVE_POWER_QMINUS:lT,TOTAL_REACTIVE_POWER_QPLUS:fT,VOLTAGE_IN_PHASE_A:oT,VOLTAGE_IN_PHASE_B:sT,VOLTAGE_IN_PHASE_C:PT,VOLTAGE_TRANSFORMATION_RATIO:WO});hr(QO);var jO=120;var zO=254;var kO=Object.freeze({__proto__:null,activateRatePlan:e_,errorResponse:zO,getBuildVersion:rt,getCorrectTime:c_,getCriticalEvent:b_,getCurrentStatusMeter:u_,getCurrentValues:$E,getDateTime:jE,getDayDemand:t_,getDayDemandExport:U_,getDayEnergies:jO,getDayMaxDemand:D_,getDayMaxDemandExport:Z_,getDayProfile:l_,getDemand:tt,getDeviceId:QE,getDeviceType:wE,getDisplayParam:k_,getEnergy:qE,getEnergyDayPrevious:ZE,getEnergyExport:F_,getEnergyExportDayPrevious:W_,getEventStatus:bE,getEvents:I_,getEventsCounters:M_,getExtendedCurrentValues:d_,getHalfHourDemand:__,getHalfHourDemandChannel:Q_,getHalfHourDemandExport:B_,getHalfHourDemandVare:X_,getHalfHourDemandVareExport:K_,getHalfHourDemandVari:G_,getHalfHourDemandVariExport:x_,getHalfHourEnergies:J_,getMagneticFieldThreshold:q_,getMeterInfo:vt,getMonthDemand:v_,getMonthDemandExport:Y_,getMonthMaxDemand:S_,getMonthMaxDemandExport:w_,getOperatorParameters:T_,getOperatorParametersExtended:h_,getOperatorParametersExtended2:y_,getOperatorParametersExtended3:at,getOperatorParametersExtended4:_t,getRatePlanInfo:P_,getSaldo:o_,getSaldoParameters:N_,getSeasonProfile:V_,getSpecialDay:L_,getVersion:i_,prepareRatePlan:E_,resetPowerMaxDay:f_,resetPowerMaxMonth:g_,runTariffPlan:p_,setAccessKey:kE,setCorrectDateTime:j_,setCorrectTime:R_,setDateTime:zE,setDayProfile:JE,setDisplayParam:z_,setOperatorParameters:O_,setOperatorParametersExtended:m_,setOperatorParametersExtended2:H_,setOperatorParametersExtended3:et,setOperatorParametersExtended4:Et,setSaldo:s_,setSaldoParameters:C_,setSeasonProfile:r_,setSpecialDay:a_,setSpecialOperation:$_,turnRelayOff:n_,turnRelayOn:A_});hr(kO);var $O=2400;var qO=9600;var JO={plc:{0:qO,2:$O,4:qO},optoport:{0:$O,2:$O,4:qO}};({plc:hr(JO.plc),optoport:hr(JO.optoport)});var ri=function(r,a){var e=a.date.year<<1|a.date.month>>3&1;var E=a.date.month<<5&224|a.date.date&31;r.setUint8(e);r.setUint8(E);r.setUint8(a.demandParam);r.setUint16(a.firstIndex);r.setUint8(a.count);r.setUint8(a.period)};var ai=tt;var ei=7;var Ei=function(r){var a=new Ta(ei,false);ri(a,r);return C(ai,a.data)};var _i=145;var ti=30;var vi=function(r){var a=[ti,r.length+2,0,_i].concat(t(r));return[].concat(t(a),[i(a)])};var Ai;var ni=(Ai={},e(e(e(e(e(e(e(e(e(e(Ai,mr,Hr),pr,yr),Gr,Xr),Fr,Ur),Wr,Yr),yE,XE),WE,YE),BE,KE),Tt,Ot),it,ot),e(e(Ai,ht,mt),ai,Ei));toBytes=P(ni);getBase64FromBytes=N;setDataSegment=vi})();
//#endregion


/*
  Incoming arguments:
    * msg - JSON message payload downlink message json
    * msgType - type of message, for ex. 'ATTRIBUTES_UPDATED', 'POST_TELEMETRY_REQUEST', etc.
    * metadata - list of key-value pairs with additional data about the message
    * integrationMetadata - list of key-value pairs with additional data defined in Integration executing this converter

  Output must be an object with the following fields:
    * contentType - BINARY
    * data - payload in base64
*/

var bytes = toBytes(msg.commands);

// send nothing if not fit in a single data segment
if ( bytes.length > MAX_DATA_SEGMENT_SIZE ) {
    bytes = [];
} else {
    bytes = setDataSegment(bytes);
}

var result = {
    contentType: 'BINARY',
    data: getBase64FromBytes(bytes)
};

return result;
