// IMPORTANT!!!
// This example only for default uplink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/


//#region [autogenerated jooby-codec bundle from index.js]
var fromBytes,getDataSegment;(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function e(t){if(Array.isArray(t))return t}function r(e){if(Array.isArray(e))return t(e)}function a(t,e,r){return(e=T(e))in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function n(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function i(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var a,n,i,E,_=[],s=true,o=false;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(a=i.call(r)).done)&&(_.push(a.value),_.length!==e);s=!0);}catch(t){o=true,n=t}finally{try{if(!s&&null!=r.return&&(E=r.return(),Object(E)!==E))return}finally{if(o)throw n}}return _}}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,r){return e(t)||i(t,r)||R(t,r)||E()}function o(t){return e(t)||n(t)||R(t)||E()}function v(t){return r(t)||n(t)||R(t)||_()}function A(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function T(t){var e=A(t,"string");return"symbol"==typeof e?e:e+""}function R(e,r){if(e){if("string"==typeof e)return t(e,r);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,r):void 0}}var h=function(t){var e=t.trim();if(!e){return[]}e=e.replace(/0x/g,"").split(/\s+/).map((function(t){return t.padStart(2,"0")})).join("");if(e.length%2!==0){e="0".concat(e)}var r=e.length/2;var a=new Array(r);for(var n=0;n<r;n++){a[n]=parseInt(e.substring(n*2,n*2+2),16)}return a};var u={separator:" ",prefix:""};var f=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=Object.assign({},u,e),a=r.separator,n=r.prefix;return t.map((function(t){return"".concat(n).concat(t.toString(16).padStart(2,"0"))})).join(a)};var O=0;var g=1;var l=3;var P=4;var d=5;var c=7;var U=8;var p=9;var I=13;var N=15;var M=16;var C=17;var D=18;var S=19;var m=20;var y=21;var L=22;var V=23;var F=24;var H=25;var Y=28;var x=30;var W=31;var X=40;var G=41;var w=42;var B=44;var b=45;var K=46;var z=47;var Q=49;var Z=50;var j=51;var k=52;var q=53;var $=54;var J=57;var tt=58;var et=59;var rt=60;var at=61;var nt=62;var it=65;var Et=70;var _t=74;var st=75;var ot=79;var vt=80;var At=82;var Tt=83;var Rt=88;var ht=89;var ut=91;var ft=92;var Ot=93;var gt=94;var lt=100;var Pt=109;var dt=111;var ct=112;var Ut=113;var pt=114;var It=118;var Nt=122;var Mt=Object.freeze({__proto__:null,activateRatePlan:S,getBuildVersion:ct,getCorrectTime:nt,getCriticalEvent:it,getCurrentStatusMeter:J,getCurrentValues:I,getDateTime:c,getDayDemand:L,getDayDemandExport:ot,getDayMaxDemand:Q,getDayMaxDemandExport:Rt,getDayMaxDemandPrevious:_t,getDayProfile:et,getDemand:It,getDeviceId:d,getDeviceType:P,getDisplayParam:gt,getEnergy:N,getEnergyDayPrevious:l,getEnergyExport:ut,getEnergyExportDayPrevious:vt,getEventStatus:g,getEvents:j,getEventsCounters:k,getExtendedCurrentValues:tt,getExtendedCurrentValues2:b,getHalfHourDemand:y,getHalfHourDemandExport:Tt,getHalfHourDemandPrevious:st,getHalfHourEnergies:dt,getMagneticFieldThreshold:Pt,getMeterInfo:Nt,getMonthDemand:V,getMonthDemandExport:At,getMonthMaxDemand:Z,getMonthMaxDemandExport:ht,getOperatorParameters:x,getOperatorParametersExtended3:Ut,getRatePlanInfo:B,getSaldo:G,getSaldoParameters:K,getSeasonProfile:rt,getSpecialDay:at,getVersion:X,prepareRatePlan:m,resetPowerMaxDay:q,resetPowerMaxMonth:$,runTariffPlan:Et,setAccessKey:p,setCorrectDateTime:ft,setCorrectTime:Y,setDateTime:U,setDayProfile:M,setDisplayParam:Ot,setOperatorParameters:W,setOperatorParametersExtended3:pt,setSaldo:w,setSaldoParameters:z,setSeasonProfile:C,setSpecialDay:D,setSpecialOperation:lt,turnRelayOff:H,turnRelayOn:F});var Ct=120;var Dt=121;var St=254;var mt=Object.freeze({__proto__:null,activateRatePlan:S,errorResponse:St,getBuildVersion:ct,getCorrectTime:nt,getCriticalEvent:it,getCurrentStatusMeter:J,getCurrentValues:I,getDateTime:c,getDayDemand:L,getDayDemandExport:ot,getDayEnergies:Ct,getDayMaxDemand:Q,getDayMaxDemandExport:Rt,getDayMaxDemandPrevious:_t,getDayMaxPower:Dt,getDayProfile:et,getDemand:It,getDeviceId:d,getDeviceType:P,getDisplayParam:gt,getEnergy:N,getEnergyDayPrevious:l,getEnergyExport:ut,getEnergyExportDayPrevious:vt,getEventStatus:g,getEvents:j,getEventsCounters:k,getExtendedCurrentValues:tt,getExtendedCurrentValues2:b,getHalfHourDemand:y,getHalfHourDemandExport:Tt,getHalfHourDemandPrevious:st,getHalfHourEnergies:dt,getMagneticFieldThreshold:Pt,getMeterInfo:Nt,getMonthDemand:V,getMonthDemandExport:At,getMonthMaxDemand:Z,getMonthMaxDemandExport:ht,getOperatorParameters:x,getOperatorParametersExtended3:Ut,getRatePlanInfo:B,getSaldo:G,getSaldoParameters:K,getSeasonProfile:rt,getSpecialDay:at,getVersion:X,prepareRatePlan:m,resetPowerMaxDay:q,resetPowerMaxMonth:$,runTariffPlan:Et,setAccessKey:p,setCorrectDateTime:ft,setCorrectTime:Y,setDateTime:U,setDayProfile:M,setDisplayParam:Ot,setOperatorParameters:W,setOperatorParametersExtended3:pt,setSaldo:w,setSaldoParameters:z,setSeasonProfile:C,setSpecialDay:D,setSpecialOperation:lt,turnRelayOff:H,turnRelayOn:F});var yt=function(t){var e={};for(var r in t){var a=t[r];e[a]=r}return e};yt(mt);var Lt=S;var Vt=0;var Ft=function(t){if(t.length!==Vt){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Ht=1;var Yt=2;var xt=3;var Wt=4;var Xt=Math.log,Gt=Math.pow,wt=Math.LN2;var Bt=function(t,e,r,a,n){var i,E,_=n*8-a-1,s=(1<<_)-1,o=s>>1,v=-7,A=r?n-1:0,T=r?-1:1,R=t[e+A];A+=T;i=R&(1<<-v)-1;R>>=-v;v+=_;for(;v>0;i=i*256+t[e+A],A+=T,v-=8);E=i&(1<<-v)-1;i>>=-v;v+=a;for(;v>0;E=E*256+t[e+A],A+=T,v-=8);if(i===0){i=1-o}else if(i===s){return E?NaN:R?-Infinity:Infinity}else{E=E+Gt(2,a);i=i-o}return(R?-1:1)*E*Gt(2,i-a)};var bt=function(t,e,r,a,n,i){var E,_,s,o=i*8-n-1,v=(1<<o)-1,A=v>>1,T=n===23?Gt(2,-24)-Gt(2,-77):0,R=a?0:i-1,h=a?1:-1,u=r<0||r===0&&1/r<0?1:0;r<0&&(r=-r);if(r!==r||r===Infinity){_=r!==r?1:0;E=v}else{E=Xt(r)/wt|0;if(r*(s=Gt(2,-E))<1){E--;s*=2}if(E+A>=1){r+=T/s}else{r+=T*Gt(2,1-A)}if(r*s>=2){E++;s/=2}if(E+A>=v){_=0;E=v}else if(E+A>=1){_=(r*s-1)*Gt(2,n);E=E+A}else{_=r*Gt(2,A-1)*Gt(2,n);E=0}}for(;n>=8;t[e+R]=_&255,R+=h,_/=256,n-=8);E=E<<n|_;o+=n;for(;o>0;t[e+R]=E&255,R+=h,E/=256,o-=8);t[e+R-h]|=u*128};var Kt=[1,0];var zt=[2,1,0];var Qt=[3,2,1,0];var Zt=[0,1];var jt=[0,1,2];var kt=[0,1,2,3];var qt=function(t,e){return t[e]};var $t=function(t,e,r){var a=r?Zt:Kt;var n=t[e+a[0]];var i=t[e+a[1]]<<8;return n|i};var Jt=function(t,e,r){var a=r?jt:zt;var n=t[e+a[0]];var i=t[e+a[1]]<<8;var E=t[e+a[2]]<<16;return n|i|E};var te=function(t,e,r){var a=r?kt:Qt;var n=t[e+a[3]]*16777216;var i=t[e+a[2]]*65536;var E=t[e+a[1]]*256;var _=t[e+a[0]];return n+i+E+_};var ee=function(t,e,r){t[e]=r&255};var re=function(t,e,r,a){var n=a?Zt:Kt;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255};var ae=function(t,e,r,a){var n=a?jt:zt;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255;t[e+n[2]]=r>>>16&255};var ne=function(t,e,r,a){var n=a?kt:Qt;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255;t[e+n[2]]=r>>>16&255;t[e+n[3]]=r>>>24&255};function ie(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var r=new Array(t).fill(0);this.data=r}else{this.data=t}this.offset=0;this.isLittleEndian=e}ie.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){ee(this.data,this.offset,t<0?t|256:t);this.offset+=Ht},getInt8:function(){var t=qt(this.data,this.offset);this.offset+=Ht;return t&128?t^-256:t},setUint8:function(t){ee(this.data,this.offset,t);this.offset+=Ht},getUint8:function(){var t=qt(this.data,this.offset);this.offset+=Ht;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;re(this.data,this.offset,t<0?t|65536:t,e);this.offset+=Yt},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=$t(this.data,this.offset,t);this.offset+=Yt;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;re(this.data,this.offset,t,e);this.offset+=Yt},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=$t(this.data,this.offset,t);this.offset+=Yt;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ae(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=xt},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=Jt(this.data,this.offset,t);this.offset+=xt;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ae(this.data,this.offset,t,e);this.offset+=xt},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=Jt(this.data,this.offset,t);this.offset+=xt;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ne(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=Wt},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=te(this.data,this.offset,t);this.offset+=Wt;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ne(this.data,this.offset,t,e);this.offset+=Wt},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=te(this.data,this.offset,t);this.offset+=Wt;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;bt(this.data,this.offset,t,e,23,4);this.offset+=Wt},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=Bt(this.data,this.offset,t,23,4);this.offset+=Wt;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var r=[];while(this.offset<e){r.push(String.fromCharCode(this.getUint8()))}return r.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var r=this.data;r.splice.apply(r,[e,t.length].concat(v(t)));this.data=r;this.offset=e+t.length}};Object.defineProperties(ie.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var Ee=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=0;for(var a in e){if(a in t&&e[a]){r|=t[a]}}return r};var _e=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r={};for(var a in t){r[a]=(e&t[a])!==0}return r};var se=function(t,e,r){return(1<<e)-1&t>>r-1};var oe=function(t,e,r,a){var n=(1<<e)-1<<r-1;var i=a;var E=t;E&=~n;i<<=r-1;E|=i;return E};var ve="x";var Ae=[".","1","3","R","M"];var Te=[".","A","G","R","T","D"];var Re=[".","0","1","2","3","4","5"];var he=[".","A","B","C","D","E","F"];var ue=[".","A","B","C","D","E","F","H","K","G"];var fe=[".","1","2","3","4"];var Oe=[".","L","M","Z","K"];var ge=[".","0","1","2","3","4","5","6","7","8","9"];var le=[".","D","B","C","E","P","R","O","L","F","S","M","Y","G","N","U"];var Pe=[".","0","1","2","3","4","5","6","P","R","L","E","G","-","/"];var de=[".","H","A","T","0","0","0","0","0","1","2","3","4","0","0","0"];var ce=[".","0","1","2","3","4","5","6","7","8","I","X","G","W","M","-"];var Ue={typeMeterG:1<<0,downgradedToA:1<<4,supportMeterInfo:1<<6};var pe={typeMeterTransformer:1<<0,downgradedToR:1<<3,typeMeterG:1<<4,supportMeterInfo:1<<6,reactiveByQuadrants:1<<7};var Ie=function(t){var e=_e(pe,t);return{meterType:"mtx3",...e,typeMeterG:!e.typeMeterG}};var Ne=function(t){return Ee(pe,{...t,typeMeterG:!t.typeMeterG})};var Me=function(t){return[t>>4,t&15]};var Ce=function(t){var e=new Array(t.length*2).fill(0);t.forEach((function(t,r){var a=Me(t),n=s(a,2),i=n[0],E=n[1];e[r*2]=i;e[r*2+1]=E}));return e};var De=function(t){var e=[];t.forEach((function(t){return e.push(t.toString(16))}));if(t.length&1){e.push("0")}return h(e.join(""))};var Se=function(t){if(t.length!==14&&t.length!==16){throw new Error("Device type bytes wrong size")}var e=["MTX "];e.push(Ae[t[0]]??ve);e.push(Te[t[1]]??ve);e.push(Re[t[2]]??ve);e.push(Re[t[3]]??ve);e.push(".");e.push(he[t[4]]??ve);e.push(ue[t[5]]??ve);e.push(".");e.push(fe[t[6]]??ve);e.push(Oe[t[7]]??ve);var r=t[8];e.push(ge[t[9]]??ve);e.push("-");var a;if(t.length<14||t[12]===0&&t[13]===0){e.push(le[t[10]]??ve);a=11}else if(t[13]===0){e.push(le[t[10]]??ve);e.push(le[t[11]]??ve);a=12}else{e.push(le[t[10]]??ve);e.push(le[t[11]]??ve);e.push(le[t[12]]??ve);a=13}var n=t[a];if(n&&n!==0){e.push(de[n]??ve)}return{type:e.join(""),revision:r}};var me=function(t,e,r){var a=[];if(t.length<11){throw new Error("Wrong format")}a.push(Ae.indexOf(t[0]));a.push(Te.indexOf(t[1]));a.push(Re.indexOf(t[2]));a.push(Re.indexOf(t[3]));if(t[4]!=="."){throw new Error("Wrong format")}a.push(he.indexOf(t[5]));a.push(ue.indexOf(t[6]));if(t[7]!=="."){throw new Error("Wrong format")}a.push(fe.indexOf(t[8]));a.push(Oe.indexOf(t[9]));a.push(r??0);a.push(ge.indexOf(t[10]));if(t[11]!=="-"){throw new Error("Wrong format")}var n=t.length>13?t.length-1:t.length;for(var i=12;i<n;i++){a.push(le.indexOf(t[i]))}if(n<t.length){a.push(de.indexOf(t[n]))}var E=De(a);var _=new Array(9).fill(0);_[0]=0;for(var s=0;s<E.length;s++){_[s+(E.length<8?1:0)]=E[s]}return _};var ye=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=["MTX "];var r=t[1]===5?"-":" ";e.push(Ae[t[0]]??ve);e.push(Te[t[1]]??ve);e.push(r);for(var a=2;a<t.length;a++){if(t[a]!==0){e.push(Pe[t[a]]??ve)}}return{type:e.join("")}};var Le=function(t){if(t.length<3){throw new Error("Wrong format")}var e=[];e.push(Ae.indexOf(t[0]));e.push(Te.indexOf(t[1]));for(var r=3;r<t.length;r++){e.push(Pe.indexOf(t[r]))}var a=De(e);if(a.length===8){return a}if(a.length>8){throw new Error("Wrong format")}var n=new Array(8).fill(0);for(var i=0;i<a.length;i++){n[i]=a[i]}return n};var Ve=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=[];e.push(Ae[t[0]]??ve);for(var r=1;r<t.length;r++){if(t[r]!==0){e.push(ce[t[r]]??ve)}}return{type:e.join("")}};var Fe=function(t){if(t.length<1){throw new Error("Wrong format")}var e=[];e.push(Ae.indexOf(t[0]));for(var r=1;r<t.length;r++){e.push(ce.indexOf(t[r]))}var a=De(e);var n=new Array(8).fill(0);for(var i=0;i<a.length&&i<8;i++){n[i]=a[i]}return n};var He=function(t){if(t.length!==9){throw new Error("The buffer is too small")}var e;var r=[0,5,6,7,9,127,239];var a=r.indexOf(t[0])!==-1?2:0;var n=Ce(t.slice(0,8));var i=n[a];var E=Ae[i];if(E==="1"||E==="3"){e={...Se(n.slice(a)),descriptor:E==="3"?Ie(t[8]):{meterType:"mtx1",..._e(Ue,t[8])}}}else{e=E==="M"?Ve(n):ye(n)}return e};var Ye=function(t,e){var r=t.type,a=t.revision,n=t.descriptor;if(!r.startsWith("MTX ")){throw new Error("Wrong format")}var i;var E=r.substring(4);var _=r[4];if(_==="1"||_==="3"){i=me(E,e,a)}else{i=_==="M"?Fe(E):Le(E)}if(n?.meterType){i[8]=n.meterType==="mtx1"?Ee(Ue,n):Ne(n)}else{i[8]=0}return i};var xe=80;var We=81;var Xe=82;var Ge=83;var we=84;var Be=85;var be=86;var Ke=87;var ze=88;var Qe=89;var Ze=90;var je=91;var ke=255;var qe=Object.freeze({__proto__:null,DATA_REQUEST:xe,DATA_RESPONSE:We,FRAGMENT_REQUEST:Ze,FRAGMENT_RESPONSE:je,IDENT_REQUEST:Xe,IDENT_RESPONSE:Ge,INVALID:ke,L2_CHECK_ADDRESS_REQUEST:be,L2_CHECK_ADDRESS_RESPONSE:Ke,L2_RM_ADDRESS_REQUEST:ze,L2_RM_ADDRESS_RESPONSE:Qe,L2_SET_ADDRESS_REQUEST:we,L2_SET_ADDRESS_RESPONSE:Be});var $e=yt(qe);var Je=1;var tr=2;var er=3;var rr=16;var ar=17;var nr=18;var ir=19;var Er=20;var _r=21;var sr=32;var or=33;var vr=34;var Ar=35;var Tr=36;var Rr=37;var hr=38;var ur=39;var fr=40;var Or=41;var gr=49;var lr=50;var Pr=51;var dr=52;var cr=53;var Ur=54;var pr=55;var Ir=56;var Nr=57;var Mr=60;var Cr=61;var Dr=62;var Sr=63;var mr=64;var yr=65;var Lr=66;var Vr=67;var Fr=68;var Hr=69;var Yr=70;var xr=71;var Wr=72;var Xr=73;var Gr=74;var wr=75;var Br=76;var br=77;var Kr=78;var zr=79;var Qr=80;var Zr=81;var jr=82;var kr=83;var qr=84;var $r=85;var Jr=86;var ta=87;var ea=88;var ra=89;var aa=96;var na=97;var ia=98;var Ea=99;var _a=100;var sa=101;var oa=102;var va=103;var Aa=104;var Ta=105;var Ra=112;var ha=113;var ua=114;var fa=115;var Oa=116;var ga=117;var la=118;var Pa=119;var da=120;var ca=121;var Ua=122;var pa=123;var Ia=124;var Na=125;var Ma=126;var Ca=144;var Da=145;var Sa=147;var ma=148;var ya=152;var La=156;var Va=157;var Fa=158;var Ha=159;var Ya=160;var xa=161;var Wa=162;var Xa=176;var Ga=177;var wa=178;var Ba=179;var ba=180;var Ka=181;var za=182;var Qa=183;var Za=185;var ja=186;var ka=224;var qa=225;var $a=226;var Ja=227;var tn=228;var en=229;var rn=230;var an=231;var nn=232;var En=Object.freeze({__proto__:null,ACCESS_LOCKED:rr,ACC_PARAM_BAD:ua,ACC_PARAM_EXT_BAD:fa,BAD_TEST_EEPROM:Aa,BAD_TEST_FRAM:Ta,BATTERY_FAULT:kr,BATTERY_OK:jr,BIPOLAR_POWER_FAULT:ba,BIPOLAR_POWER_OK:Ka,BLOCK_TARIFF_BAD:ga,CALC_PERIOD_BAD:Oa,CALIBRATION_FAULT:$r,CALIBRATION_FLAG_RESET:va,CALIBRATION_FLAG_SET:oa,CALIBRATION_OK:qr,CALIBRATION_PARAM_BAD:la,CASE_CLOSE:ir,CASE_KLEMA_CLOSE:pa,CASE_KLEMA_OPEN:Ua,CASE_MODULE_CLOSE:Na,CASE_MODULE_OPEN:Ia,CASE_OPEN:nr,CHANGE_ACCESS_KEY0:sr,CHANGE_ACCESS_KEY1:or,CHANGE_ACCESS_KEY2:vr,CHANGE_ACCESS_KEY3:Ar,CHANGE_COR_TIME:Or,CHANGE_PARAM_CANAL:Za,CHANGE_PAR_LOCAL:Tr,CHANGE_PAR_REMOTE:Rr,CHANGE_TARIFF_TABLE:lr,CHANGE_TARIFF_TBL_2:ya,CLOCK_FAULT:ta,CLOCK_OK:Jr,CMD_CHANGE_TIME:hr,CMD_RELAY_2_OFF:na,CMD_RELAY_2_ON:aa,CMD_RELAY_OFF:fr,CMD_RELAY_ON:ur,CROSS_ZERO_ENT0:ia,CROSS_ZERO_ENT1:Ea,CROSS_ZERO_ENT2:_a,CROSS_ZERO_ENT3:sa,CROSS_ZERO_EXPORT_ENT0:Fa,CROSS_ZERO_EXPORT_ENT1:Ha,CROSS_ZERO_EXPORT_ENT2:Ya,CROSS_ZERO_EXPORT_ENT3:xa,CURRENT_UNEQUAL_FAULT:wa,CURRENT_UNEQUAL_OK:Ba,EM_MAGNETIC_OFF:Ga,EM_MAGNETIC_ON:Xa,ENERGY_REGISTER_FAULT:Je,ENERGY_REGISTER_OVERFLOW:gr,ERR_ACCESS:ar,F_MAX_OK:Wr,F_MAX_OVER:Xr,F_MIN_OK:Gr,F_MIN_OVER:wr,I_MAX_OK:Br,I_MAX_OVER:br,MAGNETIC_OFF:_r,MAGNETIC_ON:Er,OP_PAR_FAULT:er,POWER_A_OFF:ea,POWER_A_ON:ra,POWER_B_OFF:Cr,POWER_B_ON:Mr,POWER_C_OFF:Sr,POWER_C_ON:Dr,POWER_GOOD_DIO:Ma,POWER_OVER_RELAY_OFF:Va,POWER_SALDO_OK:Qr,POWER_SALDO_OVER:Zr,P_MAX_A_MINUS_OK:an,P_MAX_A_MINUS_OVER:nn,P_MAX_OK:Kr,P_MAX_OVER:zr,RELAY_HARD_BAD_OFF:Ca,RELAY_HARD_BAD_ON:Sa,RELAY_HARD_OFF:ma,RELAY_HARD_ON:Da,RELAY_OFF:pr,RELAY_OFF_BAD_SALDO:ja,RELAY_ON:Ur,RESET_EM_FLAG:za,RESET_MAGNET_FLAG:Qa,RESTART:Ir,SALDO_EN_BAD:da,SALDO_PARAM_BAD:ha,SET_DEMAND_EN_10MIN:Ja,SET_DEMAND_EN_15MIN:tn,SET_DEMAND_EN_1MIN:ka,SET_DEMAND_EN_30MIN:en,SET_DEMAND_EN_3MIN:qa,SET_DEMAND_EN_5MIN:$a,SET_DEMAND_EN_60MIN:rn,SET_NEW_SALDO:Ra,SET_SALDO_PARAM:La,SET_TARIFF_TABLE:Pr,SUMMER_TIME:dr,TIME_CORRECT:ca,TIME_CORRECT_NEW:Wa,T_MAX_OK:Fr,T_MAX_OVER:Hr,T_MIN_OK:Yr,T_MIN_OVER:xr,VENDOR_PAR_FAULT:tr,V_MAX_OK:mr,V_MAX_OVER:yr,V_MIN_OK:Lr,V_MIN_OVER:Vr,WD_RESTART:Nr,WINTER_SUMMER_BAD:Pa,WINTER_TIME:cr});var _n=yt(En);var sn={type:xe,destination:65535,source:65534};var on=11;var vn=7;var An=4;var Tn=48;var Rn=50;var hn=3+Tn*2;var un={SET_ALL_SEGMENT_DISPLAY:1,SOFTWARE_VERSION:2,TOTAL_ACTIVE_ENERGY:4,ACTIVE_ENERGY_T1:8,ACTIVE_ENERGY_T2:16,ACTIVE_ENERGY_T3:32,ACTIVE_ENERGY_T4:64,ACTIVE_POWER_PER_PHASE:128,ACTIVE_POWER_IN_NEUTRAL:256,CURRENT_IN_PHASE:512,CURRENT_IN_NEUTRAL:1024,VOLTAGE:2048,HOUR_MINUTE_SECOND:4096,DATE_MONTH_YEAR:8192,TOTAL_EXPORTED_ACTIVE_ENERGY:16384,EXPORTED_ACTIVE_ENERGY_T1:32768,EXPORTED_ACTIVE_ENERGY_T2:65536,EXPORTED_ACTIVE_ENERGY_T3:131072,EXPORTED_ACTIVE_ENERGY_T4:262144,POWER_FACTOR_PHASE_A:524288,POWER_FACTOR_PHASE_B:1048576,BATTERY_VOLTAGE:2097152,POWER_THRESHOLD_T1:4194304,POWER_THRESHOLD_T2:8388608,POWER_THRESHOLD_T3:16777216,POWER_THRESHOLD_T4:33554432,CURRENT_BALANCE:536870912};var fn={...un,AUTO_SCREEN_SCROLLING:2147483648};var On={...un,MAGNET_INDUCTION:134217728,OPTOPORT_SPEED:1073741824,SORT_DISPLAY_SCREENS:2147483648};var gn={RELAY_ON_Y:1,RELAY_ON_CENTER:2,RELAY_ON_PB:4,RELAY_ON_TARIFF_1:8,RELAY_ON_TARIFF_2:16,RELAY_ON_TARIFF_3:32,RELAY_ON_TARIFF_4:64,RELAY_ON_V_GOOD:128};var ln={RELAY_OFF_Y:1,RELAY_OFF_CENTER:2,RELAY_OFF_TARIFF_1:4,RELAY_OFF_TARIFF_2:8,RELAY_OFF_TARIFF_3:16,RELAY_OFF_TARIFF_4:32,RELAY_OFF_I_LIMIT:64,RELAY_OFF_V_BAD:128};var Pn={RELAY_OFF_LIM_TARIFF_1:2,RELAY_OFF_LIM_TARIFF_2:4,RELAY_OFF_LIM_TARIFF_3:8,RELAY_OFF_LIM_TARIFF_4:16,RELAY_OFF_PF_MIN:32};var dn={RELAY_ON_TIMEOUT:1,RELAY_ON_SALDO:2,RELAY_OFF_SALDO:4,RELAY_OFF_SALDO_SOFT:8,RELAY_OFF_MAGNET:16,RELAY_ON_MAGNET_TIMEOUT:32,RELAY_ON_MAGNET_AUTO:64};var cn={RELAY_OFF_UNEQUAL_CURRENT:1,RELAY_ON_UNEQUAL_CURRENT:2,RELAY_OFF_BIPOLAR_POWER:4,RELAY_ON_BIPOLAR_POWER:8};var Un={BLOCK_KEY_OPTOPORT:2,MAGNET_SCREEN_CONST:32};var pn={CASE_OPEN:2**0,MAGNETIC_ON:2**1,PARAMETERS_UPDATE_REMOTE:2**2,PARAMETERS_UPDATE_LOCAL:2**3,RESTART:2**4,ERROR_ACCESS:2**5,TIME_SET:2**6,TIME_CORRECT:2**7,DEVICE_FAILURE:2**8,CASE_TERMINAL_OPEN:2**9,CASE_MODULE_OPEN:2**10,TARIFF_TABLE_SET:2**11,TARIFF_TABLE_GET:2**12,PROTECTION_RESET_EM:2**13,PROTECTION_RESET_MAGNETIC:2**14};var In={RELAY_STATE:2**0,RELAY_UBAD:2**1,RELAY_UNEQ_CURRENT:2**4,RELAY_OFF_CENTER:2**5,RELAY_IMAX:2**6,RELAY_PMAX:2**7};var Nn={RELAY_COSFI:2**0,RELAY_SALDO_OFF_FLAG:2**1,RELAY_UNEQUIL_CURRENT_OFF:2**2,RELAY_BIPOLAR_POWER_OFF:2**3,RELAY_SALDO_OFF_ON_MAX_POWER:2**4,RELAY_HARD_ST1:2**5};var Mn={MAXVA:2**0,MINVA:2**1,MAXT:2**2,MINT:2**3,MAXF:2**4,MINF:2**5,MAXIA:2**6,MAXP:2**7};var Cn={MAX_POWER_SALDO:2**0,BATTERY_VBAT_BAD:2**1,CLOCK_UNSET:2**3,MIN_COS_FI:2**5};var Dn={UNEQUIL_CURRENT:2**0,BIPOLAR_POWER:2**1,POWER_A_NEGATIVE:2**6,POWER_B_NEGATIVE:2**7};var Sn={RELAY_OFF_LIMIT_P_MINUS_T1:8,RELAY_OFF_LIMIT_P_MINUS_T2:16,RELAY_OFF_LIMIT_P_MINUS_T3:32,RELAY_OFF_LIMIT_P_MINUS_T4:64};function mn(t,e,r){var a=r>>An;var n=new Array(An).fill(0);n.forEach((function(e,r){var i=!!se(a,1,r+1);if(i){n[r]=t.getUint32()}else{n[r]=null}}));return n}function yn(t,e,r){var a=1+An;var n=e;r.forEach((function(t,e){n=oe(n,1,e+a,Number(!!t))}));t.setUint8(n)}function Ln(t){if(t===65535){return{tariff:undefined,energy:undefined}}return{tariff:t>>14&3,energy:t&16383}}function Vn(t,e){var r=e.tariff,a=e.energy;if(r!==undefined&&a!==undefined){t.setUint16(r<<14|a&16383)}else{t.setUint16(65535)}}function Fn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;ie.call(this,t,e)}Fn.prototype=Object.create(ie.prototype);Fn.prototype.constructor=Fn;Fn.getDayProfileFromByte=function(t){return{tariff:se(t,2,1),isFirstHalfHour:!se(t,1,3),hour:se(t,5,4)}};Fn.getByteFromDayProfile=function(t){var e=0;e=oe(e,2,1,t.tariff);e=oe(e,1,3,+!t.isFirstHalfHour);e=oe(e,5,4,t.hour);return e};Fn.getDefaultSeasonProfile=function(){return{month:1,date:1,dayIndexes:[0,0,0,0,0,0,0]}};Fn.getDefaultOperatorParameters=function(){return{vpThreshold:265e3,vThreshold:156e3,ipThreshold:12e4,pmaxThreshold0:31800,pmaxThreshold1:31800,pmaxThreshold2:31800,pmaxThreshold3:31800,speedOptoPort:0,tint:30,calcPeriodDate:1,timeoutDisplay:127,timeoutScreen:7,displaySet:_e(fn,2147496324),relaySet4:_e(dn,0),relaySet3:_e(Pn,0),relaySet2:_e(ln,3),relaySet1:_e(gn,3),displayType:0,ten:0,timeoutRefresh:240,deltaCorMin:15,timeoutMagnetOff:5,timeoutMagnetOn:5,define1:_e(Un,0),timeoutRelayOn:1,timeoutRelayKey:0,timeoutRelayAuto:5,timeoutBadVAVB:5,freqMax:55,freqMin:45,phMin:0,year:0,month:0,date:0,energyDecimalPoint:2,typeMeter:0,timeoutIMax:5,timeoutPMax:5,timeoutCos:5,pMaxDef:1,displaySetExt:_e(On,137904127),timeoutUneqCurrent:5,timeoutBipolarPower:5,relaySet5:_e(cn,0),timeCorrectPeriod:24,timeCorrectPassHalfhour:false}};Fn.getDefaultOperatorParametersExtended3=function(){return{pmaxMinusThreshold0:0,pmaxMinusThreshold1:0,pmaxMinusThreshold2:0,pmaxMinusThreshold3:0,relaySet:_e(Sn,0)}};Fn.prototype.getFrameHeader=function(){var t=this.getUint8();var e=$e[t];var r=this.getUint16();var a=this.getUint16();return{type:t,typeName:e,destination:r,source:a}};Fn.prototype.setFrameHeader=function(t){var e=t.type,r=e===void 0?sn.type:e,a=t.destination,n=a===void 0?sn.destination:a,i=t.source,E=i===void 0?sn.source:i;this.setUint8(r);this.setUint16(n);this.setUint16(E)};Fn.prototype.getDeviceId=function(){var t=f(this.getBytes(3),{separator:""});var e=this.getUint8();var r=this.getUint8();var a=f(this.getBytes(3),{separator:""});return{manufacturer:t,type:e,year:r,serial:a}};Fn.prototype.setDeviceId=function(t){var e=t.manufacturer,r=t.type,a=t.year,n=t.serial;this.setBytes(h(e));this.setUint8(r);this.setUint8(a);this.setBytes(h(n))};Fn.prototype.getDateTime=function(){return{isSummerTime:!!this.getUint8(),seconds:this.getUint8(),minutes:this.getUint8(),hours:this.getUint8(),day:this.getUint8(),date:this.getUint8(),month:this.getUint8(),year:this.getUint8()}};Fn.prototype.setDateTime=function(t){this.setUint8(t.isSummerTime?1:0);this.setUint8(t.seconds);this.setUint8(t.minutes);this.setUint8(t.hours);this.setUint8(t.day||0);this.setUint8(t.date);this.setUint8(t.month);this.setUint8(t.year)};Fn.prototype.getTariffPlan=function(){return{id:this.getUint32(),tariffSet:this.getUint8(),activateYear:this.getUint8(),activateMonth:this.getUint8(),activateDay:this.getUint8(),specialProfilesArraySize:this.getUint8(),seasonProfilesArraySize:this.getUint8(),dayProfilesArraySize:this.getUint8()}};Fn.prototype.setTariffPlan=function(t){this.setUint32(t.id);this.setUint8(t.tariffSet);this.setUint8(t.activateYear);this.setUint8(t.activateMonth);this.setUint8(t.activateDay);this.setUint8(t.specialProfilesArraySize);this.setUint8(t.seasonProfilesArraySize);this.setUint8(t.dayProfilesArraySize)};Fn.prototype.getTimeCorrectionParameters=function(){return{monthTransitionSummer:this.getUint8(),dateTransitionSummer:this.getUint8(),hoursTransitionSummer:this.getUint8(),hoursCorrectSummer:this.getUint8(),monthTransitionWinter:this.getUint8(),dateTransitionWinter:this.getUint8(),hoursTransitionWinter:this.getUint8(),hoursCorrectWinter:this.getUint8(),isCorrectionNeeded:this.getUint8()===1}};Fn.prototype.setTimeCorrectionParameters=function(t){this.setUint8(t.monthTransitionSummer);this.setUint8(t.dateTransitionSummer);this.setUint8(t.hoursTransitionSummer);this.setUint8(t.hoursCorrectSummer);this.setUint8(t.monthTransitionWinter);this.setUint8(t.dateTransitionWinter);this.setUint8(t.hoursTransitionWinter);this.setUint8(t.hoursCorrectWinter);this.setUint8(+t.isCorrectionNeeded)};Fn.prototype.getDayProfile=function(){return Fn.getDayProfileFromByte(this.getUint8())};Fn.prototype.setDayProfile=function(t){this.setUint8(Fn.getByteFromDayProfile(t))};Fn.prototype.getSeasonProfile=function(){var t=this;return{month:this.getUint8(),date:this.getUint8(),dayIndexes:new Array(vn).fill(0).map((function(){return t.getUint8()}))}};Fn.prototype.setSeasonProfile=function(t){var e=this;this.setUint8(t.month);this.setUint8(t.date);t.dayIndexes.forEach((function(t){return e.setUint8(t)}))};Fn.prototype.getSpecialDay=function(){return{month:this.getUint8(),date:this.getUint8(),dayIndex:this.getUint8(),isPeriodic:this.getUint8()===0}};Fn.prototype.setSpecialDay=function(t){this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.dayIndex);this.setUint8(+!t.isPeriodic)};Fn.prototype.getDeviceType=function(){return He(this.getBytes(9))};Fn.prototype.setDeviceType=function(t){this.setBytes(Ye(t))};Fn.prototype.getOperatorParameters=function(){var t={vpThreshold:this.getUint32(),vThreshold:this.getUint32(),ipThreshold:this.getUint32(),pmaxThreshold0:this.getUint32(),pmaxThreshold1:this.getUint32(),pmaxThreshold2:this.getUint32(),pmaxThreshold3:this.getUint32(),speedOptoPort:this.getUint8(),tint:this.getUint8(),calcPeriodDate:this.getUint8(),timeoutDisplay:this.getUint8(),timeoutScreen:this.getUint8(),displaySet:_e(fn,this.getUint32()),relaySet4:_e(dn,this.getUint8()),relaySet3:_e(Pn,this.getUint8()),relaySet2:_e(ln,this.getUint8()),relaySet1:_e(gn,this.getUint8()),displayType:this.getUint8(),ten:this.getUint8(),timeoutRefresh:this.getUint16(),deltaCorMin:this.getUint8(),timeoutMagnetOff:this.getUint8(),timeoutMagnetOn:this.getUint8(),define1:_e(Un,this.getUint8()),timeoutRelayOn:this.getUint8(),timeoutRelayKey:this.getUint8(),timeoutRelayAuto:this.getUint8(),timeoutBadVAVB:this.getUint8(),freqMax:this.getUint8(),freqMin:this.getUint8(),phMin:this.getUint16(),year:this.getUint8(),month:this.getUint8(),date:this.getUint8(),energyDecimalPoint:this.getUint8(),typeMeter:this.getUint8(),timeoutIMax:this.getUint8(),timeoutPMax:this.getUint8(),timeoutCos:this.getUint8(),pMaxDef:this.getUint8(),displaySetExt:_e(On,this.getUint32()),timeoutUneqCurrent:this.getUint8(),timeoutBipolarPower:this.getUint8(),relaySet5:_e(cn,this.getUint8()),timeCorrectPeriod:0,timeCorrectPassHalfhour:false};var e=this.getUint8();t.timeCorrectPeriod=e&127;t.timeCorrectPassHalfhour=!!(e&128);return t};Fn.prototype.setOperatorParameters=function(t){var e=t.timeCorrectPeriod|(t.timeCorrectPassHalfhour?128:0);this.setUint32(t.vpThreshold);this.setUint32(t.vThreshold);this.setUint32(t.ipThreshold);this.setUint32(t.pmaxThreshold0);this.setUint32(t.pmaxThreshold1);this.setUint32(t.pmaxThreshold2);this.setUint32(t.pmaxThreshold3);this.setUint8(t.speedOptoPort);this.setUint8(t.tint);this.setUint8(t.calcPeriodDate);this.setUint8(t.timeoutDisplay);this.setUint8(t.timeoutScreen);this.setUint32(Ee(fn,t.displaySet));this.setUint8(Ee(dn,t.relaySet4));this.setUint8(Ee(Pn,t.relaySet3));this.setUint8(Ee(ln,t.relaySet2));this.setUint8(Ee(gn,t.relaySet1));this.setUint8(t.displayType);this.setUint8(t.ten);this.setUint16(t.timeoutRefresh);this.setUint8(t.deltaCorMin);this.setUint8(t.timeoutMagnetOff);this.setUint8(t.timeoutMagnetOn);this.setUint8(Ee(Un,t.define1));this.setUint8(t.timeoutRelayOn);this.setUint8(t.timeoutRelayKey);this.setUint8(t.timeoutRelayAuto);this.setUint8(t.timeoutBadVAVB);this.setUint8(t.freqMax);this.setUint8(t.freqMin);this.setUint16(t.phMin);this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.energyDecimalPoint);this.setUint8(t.typeMeter);this.setUint8(t.timeoutIMax);this.setUint8(t.timeoutPMax);this.setUint8(t.timeoutCos);this.setUint8(t.pMaxDef);this.setUint32(Ee(On,t.displaySetExt));this.setUint8(t.timeoutUneqCurrent);this.setUint8(t.timeoutBipolarPower);this.setUint8(Ee(cn,t.relaySet5));this.setUint8(e)};Fn.prototype.getPackedEnergyWithType=function(){var t=this.getUint8();var e=se(t,An,1);var r=mn(this,e,t);return{energyType:e,energies:r}};Fn.prototype.setPackedEnergyWithType=function(t){var e=this;var r=t.energyType,a=t.energies;if(r){yn(this,r,a)}a.forEach((function(t){if(t!==null){e.setUint32(t)}}))};Fn.prototype.getEnergies=function(){var t=this;return new Array(An).fill(0).map((function(){return t.getInt32()}))};Fn.prototype.setEnergies=function(t){var e=this;t.forEach((function(t){return e.setUint32(t)}))};Fn.prototype.getDate=function(){return{year:this.getUint8(),month:this.getUint8(),date:this.getUint8()}};Fn.prototype.setDate=function(t){this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date)};Fn.prototype.getSaldoParameters=function(){var t=this;return{coefficients:new Array(4).fill(0).map((function(){return t.getUint32()})),decimalPointTariff:this.getUint8(),indicationThreshold:this.getInt32(),relayThreshold:this.getInt32(),mode:this.getUint8(),saldoOffTimeBegin:this.getUint8(),saldoOffTimeEnd:this.getUint8(),decimalPointIndication:this.getUint8(),powerThreshold:this.getUint32(),creditThreshold:this.getInt32()}};Fn.prototype.setSaldoParameters=function(t){var e=this;t.coefficients.forEach((function(t){return e.setUint32(t)}));this.setUint8(t.decimalPointTariff);this.setInt32(t.indicationThreshold);this.setInt32(t.relayThreshold);this.setUint8(t.mode);this.setUint8(t.saldoOffTimeBegin);this.setUint8(t.saldoOffTimeEnd);this.setUint8(t.decimalPointIndication);this.setUint32(t.powerThreshold);this.setInt32(t.creditThreshold)};Fn.prototype.getEnergyPeriods=function(t){var e=this;var r=new Array(t).fill(0).map((function(){return e.getUint16()}));return r.map((function(t){return Ln(t)}))};Fn.prototype.setEnergyPeriods=function(t){var e=this;t.forEach((function(t){return Vn(e,t)}))};Fn.prototype.getEventStatus=function(){var t=this.getUint16();return _e(pn,t)};Fn.prototype.setEventStatus=function(t){this.setUint16(Ee(pn,t))};Fn.prototype.getExtendedCurrentValues2=function(){var t=this.getUint16();var e=_e(In,this.getUint8());var r=_e(Nn,this.getUint8());var a=_e(Mn,this.getUint8());var n=_e(Cn,this.getUint8());var i=_e(Dn,this.getUint8());return{uBattery:t,relayStatus:e,relayStatus2:r,status1:a,status2:n,status3:i}};Fn.prototype.setExtendedCurrentValues2=function(t){var e=t.uBattery,r=t.relayStatus,a=t.relayStatus2,n=t.status1,i=t.status2,E=t.status3;this.setUint16(e);this.setUint8(Ee(In,r));this.setUint8(Ee(Nn,a));this.setUint8(Ee(Mn,n));this.setUint8(Ee(Cn,i));this.setUint8(Ee(Dn,E))};Fn.prototype.getEvent=function(){var t={hours:this.getUint8(),minutes:this.getUint8(),seconds:this.getUint8(),event:this.getUint8()};var e=t.event;var r=this.bytesLeft;t.eventName=_n[e];switch(e){case Va:if(r<4){return t}t.power=[this.getUint8(),this.getUint8(),this.getUint8(),this.getUint8()];break;case hr:case ca:if(r<8){return t}t.newDate=this.getDateTime();break}return t};Fn.prototype.setEvent=function(t){this.setUint8(t.hours);this.setUint8(t.minutes);this.setUint8(t.seconds);this.setUint8(t.event);switch(t.event){case Va:for(var e of t.power){this.setUint8(e)}break;case hr:case ca:this.setDateTime(t.newDate);break}};Fn.prototype.getDemand=function(){var t=this.getUint8();var e=this.getUint8();return{date:{year:t>>1,month:t<<3&15|e>>5,date:e&31},energyType:this.getUint8(),firstIndex:this.getUint16(),count:this.getUint8(),period:this.getUint8()}};Fn.prototype.setDemand=function(t){var e=t.date.year<<1|t.date.month>>3&1;var r=t.date.month<<5&224|t.date.date&31;this.setUint8(e);this.setUint8(r);this.setUint8(t.energyType);this.setUint16(t.firstIndex);this.setUint8(t.count);this.setUint8(t.period)};Fn.prototype.getDayMaxDemandResponse=function(){var t=this;var e=this.getDate();var r=new Array(An).fill(0).map((function(){return{hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}));return{date:e,power:r}};Fn.prototype.setDayMaxDemandResponse=function(t){var e=this;this.setDate(t.date);t.power.forEach((function(t){e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};Fn.prototype.getOperatorParametersExtended3=function(){return{pmaxMinusThreshold0:this.getUint32(),pmaxMinusThreshold1:this.getUint32(),pmaxMinusThreshold2:this.getUint32(),pmaxMinusThreshold3:this.getUint32(),relaySet:_e(Sn,this.getUint8())}};Fn.prototype.setOperatorParametersExtended3=function(t){var e=t.pmaxMinusThreshold0,r=t.pmaxMinusThreshold1,a=t.pmaxMinusThreshold2,n=t.pmaxMinusThreshold3,i=t.relaySet;this.setUint32(e);this.setUint32(r);this.setUint32(a);this.setUint32(n);this.setUint8(Ee(Sn,i))};Fn.prototype.getMonthMaxPowerByTariffs=function(){var t=this;return new Array(An).fill(0).map((function(){return{date:t.getUint8(),hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}))};Fn.prototype.setMonthMaxPowerByTariffs=function(t){var e=this;t.forEach((function(t){e.setUint8(t.date);e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};var Hn=0;var Yn=128;var xn=129;var Wn=130;var Xn=131;var Gn=132;var wn=133;var Bn=134;var bn=135;var Kn=136;var zn=137;var Qn=144;var Zn=145;var jn=146;var kn=147;var qn=149;var $n=151;var Jn=152;var ti=153;var ei=154;var ri=155;var ai=156;var ni=159;var ii=160;var Ei=240;var _i=Object.freeze({__proto__:null,ACCESS_DENIED:kn,BAD_ARRAY_INDEX:Bn,BAD_BLOCK_NUMBER:ai,BAD_DATA_LENGTH:wn,BAD_MESSAGE:Gn,BAD_RATE_PLAN_ID:Kn,BAD_RATE_PLAN_SIZE:zn,BAD_RESPONSE_LENGTH:Qn,BAD_SALDO_WRITE:qn,BLOCKED_METER:$n,CALIBRATION_DISABLED:jn,DECRYPTION_FAILURE:Wn,INTERNAL:Ei,INVALID_CORRECTION_INTERVAL:ei,NOT_ALIGNED_DATA:xn,NOT_PREPARED_RATE_PLAN:bn,NO_DATA_FOR_DATE:Zn,OK:Hn,OUT_OFF_RANGE:ni,SET_METER_TYPE_FAILURE:ii,TIME_CORRECTION_FAILURE:ti,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:ri,UNENCRYPTED_COMMAND_DISABLED:Jn,UNKNOWN_COMMAND:Yn,UNKNOWN_PROTOCOL:Xn});var si=yt(_i);var oi=St;var vi=function(t){return function(e){var r=new Fn(e);var a=r.getUint8();var n=r.getUint8();return{commandId:a,commandName:t[a],errorCode:n,errorName:si[n]}}};var Ai=ct;var Ti=6;var Ri=function(t){if(t.length!==Ti){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=s(t,6),r=e[0],a=e[1],n=e[2],i=e[3],E=e[4],_=e[5];return{date:{date:r,month:a,year:n},version:"".concat(i,".").concat(E,".").concat(_)}};var hi=nt;var ui=function(t){var e=new Fn(t);return e.getTimeCorrectionParameters()};var fi=0;var Oi=1;var gi=2;var li=3;var Pi=4;var di=5;var ci=6;var Ui=7;var pi=8;var Ii=9;var Ni=10;var Mi=11;var Ci=12;var Di=13;var Si=14;var mi=Object.freeze({__proto__:null,CASE_MODULE_OPEN:Ni,CASE_OPEN:fi,CASE_TERMINAL_OPEN:Ii,DEVICE_FAILURE:pi,ERROR_ACCESS:di,MAGNETIC_ON:Oi,PARAMETERS_UPDATE_LOCAL:li,PARAMETERS_UPDATE_REMOTE:gi,PROTECTION_RESET_EM:Di,PROTECTION_RESET_MAGNETIC:Si,RESTART:Pi,TARIFF_TABLE_GET:Ci,TARIFF_TABLE_SET:Mi,TIME_CORRECT:Ui,TIME_SET:ci});var yi=yt(mi);var Li=c;var Vi=function(t){var e=new Fn(t);return e.getDateTime()};var Fi=4;var Hi=["A+","A+R+","A+R-","A-","A-R+","A-R-"];var Yi=4294967295;var xi={"A+":1,"A+R+":2,"A+R-":4,"A-":8,"A-R+":16,"A-R-":32};var Wi=function(t){var e={};Object.keys(t).forEach((function(r){e[r]=!!t[r]}));return Ee(xi,e)};var Xi=function(t){return t<Fi?1<<t:0};var Gi=function(t){return t<Fi?1<<t<<4:0};var wi=function(t,e){var r=0;if(t<Fi){if(e["A+"]||e["A+R+"]||e["A+R-"]){r|=Xi(t)}if(e["A-"]||e["A-R+"]||e["A-R-"]){r|=Gi(t)}}return r};function Bi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;ie.call(this,t,e)}Bi.prototype=Object.create(ie.prototype);Bi.prototype.constructor=Bi;Bi.prototype.getDate=function(){var t=this.getUint8();var e=this.getUint8();return{year:t>>1,month:t<<3&15|e>>5,date:e&31}};Bi.prototype.setDate=function(t){var e=t.year,r=t.month,a=t.date;var n=e<<1|r>>3&1;var i=r<<5&224|a&31;this.setUint8(n);this.setUint8(i)};Bi.prototype.getEnergiesFlags=function(){var t=this.getUint8();return _e(xi,t)};Bi.prototype.setEnergiesFlags=function(t){this.setUint8(Wi(t))};Bi.prototype.getHalfHourEnergy1=function(t){var e=[];for(var r=0;r<t;r++){var a=this.getUint16();var n=a>>14&3;var i=a&16383;e.push(a===Yi?undefined:{tariff:n,energy:i})}return e};Bi.prototype.setHalfHourEnergy1=function(t){if(t){for(var e=0;e<t.length;e++){var r=t[e],a=r.tariff,n=r.energy;var i=a<<14|n;this.setUint16(i===undefined?Yi:i)}}};Bi.prototype.getHalfHourEnergy3=function(t){var e=[];for(var r=0;r<t;r++){var a=this.getUint16();e.push(a===Yi?undefined:a)}return e};Bi.prototype.setHalfHourEnergy3=function(t){if(t){for(var e=0;e<t.length;e++){var r=t[e];this.setUint16(r===undefined?Yi:r)}}};Bi.prototype.getHalfHourEnergies1=function(t,e){var r=this;var a={};Hi.forEach((function(n){if(t[n]){a[n]=r.getHalfHourEnergy1(e)}}));return a};Bi.prototype.getHalfHourEnergies3=function(t,e){var r=this;var a={};Hi.forEach((function(n){if(t[n]){a[n]=r.getHalfHourEnergy3(e)}}));return a};Bi.prototype.setHalfHourEnergies1=function(t){var e=this;Hi.forEach((function(r){e.setHalfHourEnergy1(t[r])}))};Bi.prototype.setHalfHourEnergies3=function(t){var e=this;Hi.forEach((function(r){e.setHalfHourEnergy3(t[r])}))};Bi.prototype.getAPlusTariffEnergies=function(t){var e={};if(t&xi["A+"]){e["A+"]=this.getUint32()}if(t&xi["A+R+"]){e["A+R+"]=this.getUint32()}if(t&xi["A+R-"]){e["A+R-"]=this.getUint32()}return e};Bi.prototype.setAPlusTariffEnergies=function(t){if(t){if(t["A+"]){this.setUint32(t["A+"])}if(t["A+R+"]){this.setUint32(t["A+R+"])}if(t["A+R-"]){this.setUint32(t["A+R-"])}}};Bi.prototype.getAMinusTariffEnergies=function(t){var e={};if(t&xi["A-"]){e["A-"]=this.getUint32()}if(t&xi["A-R+"]){e["A-R+"]=this.getUint32()}if(t&xi["A-R-"]){e["A-R-"]=this.getUint32()}return e};Bi.prototype.setAMinusTariffEnergies=function(t){if(t){if(t["A-"]){this.setUint32(t["A-"])}if(t["A-R+"]){this.setUint32(t["A-R+"])}if(t["A-R-"]){this.setUint32(t["A-R-"])}}};Bi.prototype.getTariffsEnergies=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(Fi).fill(null);for(var a=0;a<Fi;a++){if(e&Xi(a)){r[a]=this.getAPlusTariffEnergies(t)}}for(var n=0;n<Fi;n++){if(e&Gi(n)){r[n]={...r[n],...this.getAMinusTariffEnergies(t)}}}return r};Bi.prototype.setTariffsEnergies=function(t){var e=this;var r=0;var a=0;t.forEach((function(t,e){if(t){r|=Wi(t);a|=wi(e,t)}}));this.setUint8(r);this.setUint8(a);t.forEach((function(t){return e.setAPlusTariffEnergies(t)}));t.forEach((function(t){return e.setAMinusTariffEnergies(t)}))};Bi.prototype.getPowerMax=function(){return{hours:this.getUint8(),minutes:this.getUint8(),power:this.getUint32()}};Bi.prototype.setPowerMax=function(t){if(t){var e=t.hours,r=t.minutes,a=t.power;this.setUint8(e);this.setUint8(r);this.setUint32(a)}};Bi.prototype.getAPlusTariffPowerMax=function(t){var e={};if(t&xi["A+"]){e["A+"]=this.getPowerMax()}if(t&xi["A+R+"]){e["A+R+"]=this.getPowerMax()}if(t&xi["A+R-"]){e["A+R-"]=this.getPowerMax()}return e};Bi.prototype.setAPlusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A+"]);this.setPowerMax(t["A+R+"]);this.setPowerMax(t["A+R+"])}};Bi.prototype.getAMinusTariffPowerMax=function(t){var e={};if(t&xi["A-"]){e["A-"]=this.getPowerMax()}if(t&xi["A-R+"]){e["A-R+"]=this.getPowerMax()}if(t&xi["A-R-"]){e["A-R-"]=this.getPowerMax()}return e};Bi.prototype.setAMinusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A-"]);this.setPowerMax(t["A-R+"]);this.setPowerMax(t["A-R-"])}};Bi.prototype.getTariffsPowerMax=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(Fi).fill(null);for(var a=0;a<Fi;a++){if(e&Xi(a)){r[a]=this.getAPlusTariffPowerMax(t)}}for(var n=0;n<Fi;n++){if(e&Gi(n)){r[n]={...r[n],...this.getAMinusTariffPowerMax(t)}}}return r};Bi.prototype.setTariffsPowerMax=function(t){var e=this;var r=0;var a=0;t.forEach((function(t,e){if(t){r|=Wi(t);a|=wi(e,t)}}));this.setUint8(r);this.setUint8(a);t.forEach((function(t){return e.setAPlusTariffPowerMax(t)}));t.forEach((function(t){return e.setAMinusTariffPowerMax(t)}))};var bi=Ct;var Ki=function(t){var e=new Bi(t);return{date:e.getDate(),energies:e.getTariffsEnergies()}};var zi=255;var Qi=et;var Zi=function(t){var e=t.indexOf(zi);var r=e===-1?t:t.slice(0,e);return{periods:v(r).map(Fn.getDayProfileFromByte)}};yt(Mt);var ji=d;var ki=function(t){var e=new Fn(t);return e.getDeviceId()};var qi=P;var $i=function(t){var e=new Fn(t);return e.getDeviceType()};var Ji=1;var tE=2;var eE=3;var rE=4;var aE=5;var nE=6;var iE=7;var EE=8;var _E=9;var sE=10;var oE=11;var vE=12;var AE=13;var TE=14;var RE=15;var hE=16;var uE=17;var fE=18;var OE=19;var gE=20;var lE=21;var PE=22;var dE=23;var cE=24;var UE=25;var pE=26;var IE=28;var NE=30;var ME=31;var CE=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:rE,ACTIVE_ENERGY_T2:aE,ACTIVE_ENERGY_T3:nE,ACTIVE_ENERGY_T4:iE,ACTIVE_POWER_IN_NEUTRAL:_E,ACTIVE_POWER_PER_PHASE:EE,BATTERY_VOLTAGE:PE,CURRENT_BALANCE:NE,CURRENT_IN_NEUTRAL:oE,CURRENT_IN_PHASE:sE,DATE_MONTH_YEAR:TE,EXPORTED_ACTIVE_ENERGY_T1:hE,EXPORTED_ACTIVE_ENERGY_T2:uE,EXPORTED_ACTIVE_ENERGY_T3:fE,EXPORTED_ACTIVE_ENERGY_T4:OE,HOUR_MINUTE_SECOND:AE,MAGNET_INDUCTION:IE,OPTOPORT_SPEED:ME,POWER_FACTOR_PHASE_A:gE,POWER_FACTOR_PHASE_B:lE,POWER_THRESHOLD_T1:dE,POWER_THRESHOLD_T2:cE,POWER_THRESHOLD_T3:UE,POWER_THRESHOLD_T4:pE,SET_ALL_SEGMENT_DISPLAY:Ji,SOFTWARE_VERSION:tE,TOTAL_ACTIVE_ENERGY:eE,TOTAL_EXPORTED_ACTIVE_ENERGY:RE,VOLTAGE:vE});yt(CE);var DE=3+1;var SE=4;var mE=j;var yE=DE+255*SE;var LE=function(t){return function(e){if(e.length>yE){throw new Error("Wrong buffer size: ".concat(e.length,"."))}var r=new t(e);var a=r.getDate();var n=r.getUint8();var i=[];while(!r.isEmpty){i.push(r.getEvent())}return{date:a,eventsNumber:n,events:i}}};var VE=LE(Fn);var FE=14;var HE=20;var YE=k;var xE=function(t){if(t.length!==FE&&t.length!==HE){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new Fn(t);var r=e.getUint16();var a=e.getUint16();var n=e.getUint16();var i=e.getUint16();var E=e.getUint16();var _=e.getUint16();var s=e.getUint16();return{accessClosed:_,accessError:E,localParametersChange:n,remoteParametersChange:i,powerOff:a,restart:r,setClock:s}};var WE=g;var XE=function(t){var e=new Fn(t,true);return e.getEventStatus()};var GE=dt;var wE=function(t){var e=new Bi(t);var r=e.getDate();var a=e.getEnergiesFlags();var n=e.getUint8();var i=e.getUint8();return{date:r,firstHalfhour:n,halfhoursNumber:i,energies:e.getHalfHourEnergies1(a,i)}};var BE=Pt;var bE=function(t){var e=new Fn(t);return{induction:e.getUint16(),threshold:e.getUint16(),inductionCoefficient:e.getUint16()/100,reserved:e.getUint32()}};var KE=Nt;var zE=function(t){var e=s(t,1),r=e[0];return{ten:r}};var QE=Ut;var ZE=function(t){var e=new Fn(t);return e.getOperatorParametersExtended3()};var jE=B;var kE=1+on*2;var qE=function(t){if(t.length!==kE){throw new Error("Invalid getRatePlanInfo data size.")}var e=new Fn(t);return{tariffTable:e.getUint8(),activePlan:e.getTariffPlan(),passivePlan:e.getTariffPlan()}};var $E=G;var JE=29;var t_=function(t){if(t.length!==JE){throw new Error("Invalid getSaldo data size.")}var e=new Fn(t);return{currentSaldo:e.getInt32(),count:e.getUint8(),energy:new Array(4).fill(0).map((function(){return e.getInt32()})),beginSaldoOfPeriod:e.getInt32(),date:{month:e.getUint8(),date:e.getUint8(),hours:e.getUint8(),minutes:e.getUint8()}}};var e_=K;var r_=37;var a_=function(t){if(t.length!==r_){throw new Error("Invalid getSaldoParameters data size.")}var e=new Fn(t);return e.getSaldoParameters()};var n_=rt;var i_=function(t){var e=new Fn(t);return e.getSeasonProfile()};var E_=at;var __=function(t){var e=new Fn(t);return e.getSpecialDay()};var s_=X;var o_=function(t){return{version:String.fromCharCode.apply(null,v(t))}};var v_=m;var A_=0;var T_=function(t){if(t.length!==A_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var R_=q;var h_=0;var u_=function(t){if(t.length!==h_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var f_=$;var O_=0;var g_=function(t){if(t.length!==O_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var l_=Et;var P_=0;var d_=function(t){if(t.length!==P_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var c_=p;var U_=0;var p_=function(t){if(t.length!==U_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var I_=ft;var N_=0;var M_=function(t){if(t.length!==N_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var C_=Y;var D_=0;var S_=function(t){if(t.length!==D_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var m_=U;var y_=0;var L_=function(t){if(t.length!==y_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var V_=M;var F_=0;var H_=function(t){if(t.length!==F_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Y_=Ot;var x_=0;var W_=function(t){if(t.length!==x_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var X_=pt;var G_=0;var w_=function(t){if(t.length!==G_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var B_=W;var b_=0;var K_=function(t){if(t.length!==b_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var z_=w;var Q_=0;var Z_=function(t){if(t.length!==Q_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var j_=z;var k_=0;var q_=function(t){if(t.length!==k_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var $_=C;var J_=0;var ts=function(t){if(t.length!==J_){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var es=D;var rs=0;var as=function(t){if(t.length!==rs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var ns=lt;var is=function(t){var e=new Fn(t);var r=e.getUint8();var a=!!(r&1);var n=!!(r&2);return{electroMagneticIndication:a,magneticIndication:n}};var Es=H;var _s=0;var ss=function(t){if(t.length!==_s){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var os=F;var vs=0;var As=function(t){if(t.length!==vs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Ts={encrypt:function(){},decrypt:function(){}};var Rs=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var r=e;t.forEach((function(t){r^=t}));return r};var hs=3;var us=2;var fs=2;var Os=function(t,e){return function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=a?.aesKey;var i=[];var E=s(r,2),_=E[0],o=E[1];var A=o&hs;var T={messageId:_,accessLevel:A,commands:i,bytes:r,lrc:{received:undefined,calculated:0}};var R=r.slice(us);var h;if(n&&A!==O){R=v(Ts.decrypt(n,R))}var u=R[R.length-1];R=R.slice(0,-1);var f=Rs(R);if(A!==O||u!==0){if(u!==f){h="Mismatch LRC."}}var g=R[0]&hs;var l=R.slice(1);if(A!==g){h="Mismatch access levels."}var P=0;do{var d=l[P];var c=l[P+1];var U=fs+c;var p=l.slice(P+fs,P+U);var I={id:d,name:e[d],headerSize:fs,bytes:l.slice(P,P+U)};if(!d){break}try{if(!t[d]){throw new Error("Unsupported command id: ".concat(d,"!"))}I.parameters=t[d](p,a);i.push(I)}catch(t){i.push({command:I,error:t.message})}P+=U}while(P<=l.length);T.lrc.calculated=f;T.lrc.received=u;if(h){return{message:T,error:h}}return T}};var gs=1;var ls=3;var Ps=4;var ds=5;var cs=7;var Us=8;var ps=9;var Is=13;var Ns=15;var Ms=16;var Cs=17;var Ds=18;var Ss=19;var ms=20;var ys=21;var Ls=22;var Vs=23;var Fs=24;var Hs=25;var Ys=28;var xs=30;var Ws=31;var Xs=40;var Gs=41;var ws=42;var Bs=44;var bs=46;var Ks=47;var zs=49;var Qs=50;var Zs=51;var js=52;var ks=53;var qs=54;var $s=57;var Js=58;var to=59;var eo=60;var ro=61;var ao=62;var no=63;var io=64;var Eo=69;var _o=70;var so=71;var oo=72;var vo=73;var Ao=78;var To=79;var Ro=80;var ho=82;var uo=83;var fo=84;var Oo=85;var go=86;var lo=88;var Po=89;var co=90;var Uo=92;var po=93;var Io=94;var No=100;var Mo=109;var Co=111;var Do=112;var So=113;var mo=114;var yo=116;var Lo=117;var Vo=118;var Fo=122;var Ho=Object.freeze({__proto__:null,activateRatePlan:Ss,getBuildVersion:Do,getCorrectTime:ao,getCriticalEvent:go,getCurrentStatusMeter:$s,getCurrentValues:Is,getDateTime:cs,getDayDemand:Ls,getDayDemandExport:To,getDayMaxDemand:zs,getDayMaxDemandExport:lo,getDayProfile:to,getDemand:Vo,getDeviceId:ds,getDeviceType:Ps,getDisplayParam:Io,getEnergy:Ns,getEnergyDayPrevious:ls,getEnergyExport:Ao,getEnergyExportDayPrevious:Ro,getEventStatus:gs,getEvents:Zs,getEventsCounters:js,getExtendedCurrentValues:Js,getHalfHourDemand:ys,getHalfHourDemandChannel:co,getHalfHourDemandExport:uo,getHalfHourDemandVare:vo,getHalfHourDemandVareExport:Oo,getHalfHourDemandVari:oo,getHalfHourDemandVariExport:fo,getHalfHourEnergies:Co,getMagneticFieldThreshold:Mo,getMeterInfo:Fo,getMonthDemand:Vs,getMonthDemandExport:ho,getMonthMaxDemand:Qs,getMonthMaxDemandExport:Po,getOperatorParameters:xs,getOperatorParametersExtended:no,getOperatorParametersExtended2:so,getOperatorParametersExtended3:So,getOperatorParametersExtended4:Lo,getRatePlanInfo:Bs,getSaldo:Gs,getSaldoParameters:bs,getSeasonProfile:eo,getSpecialDay:ro,getVersion:Xs,prepareRatePlan:ms,resetPowerMaxDay:ks,resetPowerMaxMonth:qs,runTariffPlan:_o,setAccessKey:ps,setCorrectDateTime:Uo,setCorrectTime:Ys,setDateTime:Us,setDayProfile:Ms,setDisplayParam:po,setOperatorParameters:Ws,setOperatorParametersExtended:io,setOperatorParametersExtended2:Eo,setOperatorParametersExtended3:mo,setOperatorParametersExtended4:yo,setSaldo:ws,setSaldoParameters:Ks,setSeasonProfile:Cs,setSpecialDay:Ds,setSpecialOperation:No,turnRelayOff:Hs,turnRelayOn:Fs});var Yo=120;var xo=254;var Wo=Object.freeze({__proto__:null,activateRatePlan:Ss,errorResponse:xo,getBuildVersion:Do,getCorrectTime:ao,getCriticalEvent:go,getCurrentStatusMeter:$s,getCurrentValues:Is,getDateTime:cs,getDayDemand:Ls,getDayDemandExport:To,getDayEnergies:Yo,getDayMaxDemand:zs,getDayMaxDemandExport:lo,getDayProfile:to,getDemand:Vo,getDeviceId:ds,getDeviceType:Ps,getDisplayParam:Io,getEnergy:Ns,getEnergyDayPrevious:ls,getEnergyExport:Ao,getEnergyExportDayPrevious:Ro,getEventStatus:gs,getEvents:Zs,getEventsCounters:js,getExtendedCurrentValues:Js,getHalfHourDemand:ys,getHalfHourDemandChannel:co,getHalfHourDemandExport:uo,getHalfHourDemandVare:vo,getHalfHourDemandVareExport:Oo,getHalfHourDemandVari:oo,getHalfHourDemandVariExport:fo,getHalfHourEnergies:Co,getMagneticFieldThreshold:Mo,getMeterInfo:Fo,getMonthDemand:Vs,getMonthDemandExport:ho,getMonthMaxDemand:Qs,getMonthMaxDemandExport:Po,getOperatorParameters:xs,getOperatorParametersExtended:no,getOperatorParametersExtended2:so,getOperatorParametersExtended3:So,getOperatorParametersExtended4:Lo,getRatePlanInfo:Bs,getSaldo:Gs,getSaldoParameters:bs,getSeasonProfile:eo,getSpecialDay:ro,getVersion:Xs,prepareRatePlan:ms,resetPowerMaxDay:ks,resetPowerMaxMonth:qs,runTariffPlan:_o,setAccessKey:ps,setCorrectDateTime:Uo,setCorrectTime:Ys,setDateTime:Us,setDayProfile:Ms,setDisplayParam:po,setOperatorParameters:Ws,setOperatorParametersExtended:io,setOperatorParametersExtended2:Eo,setOperatorParametersExtended3:mo,setOperatorParametersExtended4:yo,setSaldo:ws,setSaldoParameters:Ks,setSeasonProfile:Cs,setSpecialDay:Ds,setSpecialOperation:No,turnRelayOff:Hs,turnRelayOn:Fs});var Xo=yt(Wo);var Go=oi;var wo=vi(Xo);var Bo=go;var bo=9;var Ko=function(t){if(t.length!==bo){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=s(t,9),r=e[0],a=e[1],n=e[2],i=e[3],E=e[4],_=e[5],o=e[6],v=e[7],A=e[8];return{event:r,name:yi[r],index:a,date:{year:n,month:i,date:E,hours:_,minutes:o,seconds:v},count:A}};yt(Ho);var zo=1;var Qo=2;var Zo=3;var jo=4;var ko=17;var qo=18;var $o=19;var Jo=20;var tv=21;var ev=22;var rv=23;var av=32;var nv=33;var iv=34;var Ev=35;var _v=36;var sv=37;var ov=38;var vv=39;var Av=40;var Tv=49;var Rv=50;var hv=51;var uv=52;var fv=53;var Ov=54;var gv=55;var lv=56;var Pv=57;var dv=64;var cv=65;var Uv=66;var pv=67;var Iv=68;var Nv=69;var Mv=70;var Cv=71;var Dv=72;var Sv=73;var mv=74;var yv=75;var Lv=76;var Vv=77;var Fv=78;var Hv=79;var Yv=80;var xv=81;var Wv=82;var Xv=83;var Gv=84;var wv=85;var Bv=86;var bv=87;var Kv=88;var zv=89;var Qv=90;var Zv=91;var jv=92;var kv=93;var qv=94;var $v=95;var Jv=96;var tA=97;var eA=98;var rA=99;var aA=100;var nA=101;var iA=102;var EA=103;var _A=104;var sA=105;var oA=106;var vA=107;var AA=108;var TA=109;var RA=110;var hA=111;var uA=112;var fA=113;var OA=114;var gA=115;var lA=116;var PA=117;var dA=118;var cA=119;var UA=120;var pA=121;var IA=122;var NA=123;var MA=124;var CA=125;var DA=126;var SA=127;var mA=128;var yA=129;var LA=130;var VA=131;var FA=132;var HA=133;var YA=134;var xA=135;var WA=136;var XA=137;var GA=138;var wA=139;var BA=140;var bA=141;var KA=142;var zA=143;var QA=144;var ZA=145;var jA=147;var kA=148;var qA=149;var $A=150;var JA=151;var tT=152;var eT=153;var rT=154;var aT=155;var nT=156;var iT=157;var ET=158;var _T=159;var sT=160;var oT=161;var vT=162;var AT=163;var TT=164;var RT=165;var hT=166;var uT=167;var fT=168;var OT=169;var gT=170;var lT=171;var PT=172;var dT=173;var cT=174;var UT=175;var pT=176;var IT=177;var NT=178;var MT=179;var CT=224;var DT=225;var ST=226;var mT=227;var yT=228;var LT=229;var VT=230;var FT=231;var HT=232;var YT=Object.freeze({__proto__:null,ACCESS_LOCKED:ko,ACCESS_UNLOCKED:qo,ACCUMULATION_PARAM_BAD:HA,ACCUMULATION_PARAM_EXT_BAD:YA,BAD_TEST_EEPROM:yA,BAD_TEST_FRAM:LA,BATTERY_FAULT:sA,BATTERY_OK:_A,BLOCK_TARIFF_BAD:WA,CALCULATION_PERIOD_BAD:xA,CALIBRATION_FAULT:vA,CALIBRATION_FLAG_RESET:mA,CALIBRATION_FLAG_SET:SA,CALIBRATION_OK:oA,CALIBRATION_PARAM_BAD:XA,CASE_CLOSE:tv,CASE_KLEMA_CLOSE:JA,CASE_KLEMA_OPEN:$A,CASE_MODULE_CLOSE:aT,CASE_MODULE_OPEN:rT,CASE_OPEN:Jo,CHANGE_ACCESS_KEY0:av,CHANGE_ACCESS_KEY1:nv,CHANGE_ACCESS_KEY2:iv,CHANGE_ACCESS_KEY3:Ev,CHANGE_COR_TIME:uA,CHANGE_PARAMETERS_LOCAL:_v,CHANGE_PARAMETERS_REMOTE:sv,CHANGE_PARAM_CHANNEL1:ET,CHANGE_PARAM_CHANNEL2:_T,CHANGE_PARAM_CHANNEL3:sT,CHANGE_PARAM_CHANNEL4:oT,CHANGE_PARAM_CHANNEL5:vT,CHANGE_PARAM_CHANNEL6:AT,CHANGE_TARIFF_TABLE:Rv,CHANGE_TARIFF_TABLE_2:tT,CHANGE_TARIFF_TABLE_3:eT,CLOCK_FAULT:tA,CLOCK_OK:Jv,CMD_CHANGE_TIME:ov,CMD_RELAY_2_OFF:OA,CMD_RELAY_2_ON:fA,CMD_RELAY_OFF:Av,CMD_RELAY_ON:vv,COEFFICIENT_TRANSFORMATION_CHANGE:zA,CROSS_ZERO_ENT1:gA,CROSS_ZERO_ENT2:lA,CROSS_ZERO_ENT3:PA,CROSS_ZERO_ENT4:dA,CROSS_ZERO_EXPORT_ENT1:TT,CROSS_ZERO_EXPORT_ENT2:RT,CROSS_ZERO_EXPORT_ENT3:hT,CROSS_ZERO_EXPORT_ENT4:uT,CROSS_ZERO_EXPORT_VARE1:PT,CROSS_ZERO_EXPORT_VARE2:dT,CROSS_ZERO_EXPORT_VARE3:cT,CROSS_ZERO_EXPORT_VARE4:UT,CROSS_ZERO_EXPORT_VARI1:fT,CROSS_ZERO_EXPORT_VARI2:OT,CROSS_ZERO_EXPORT_VARI3:gT,CROSS_ZERO_EXPORT_VARI4:lT,CROSS_ZERO_VARE1:NA,CROSS_ZERO_VARE2:MA,CROSS_ZERO_VARE3:CA,CROSS_ZERO_VARE4:DA,CROSS_ZERO_VARI1:cA,CROSS_ZERO_VARI2:UA,CROSS_ZERO_VARI3:pA,CROSS_ZERO_VARI4:IA,EM_MAGNETIC_OFF:IT,EM_MAGNETIC_ON:pT,ENERGY_REGISTER_OVERFLOW:Tv,ENERGY_T1_FAULT:zo,ENERGY_T2_FAULT:Qo,ENERGY_T3_FAULT:Zo,ENERGY_T4_FAULT:jo,ERR_ACCESS:$o,F_MAX_OK:Lv,F_MAX_OVER:Vv,F_MIN_OK:Fv,F_MIN_UNDER:Hv,IA_MAX_OK:Gv,IA_MAX_OVER:wv,IB_MAX_OK:Bv,IB_MAX_OVER:bv,IC_MAX_OK:Kv,IC_MAX_OVER:zv,IDIFF_OK:qv,IDIFF_OVER:$v,MAGNETIC_OFF:rv,MAGNETIC_ON:ev,METER_TROUBLE:qA,OP_PARAM_BAD:wA,OP_PARAM_EXT_BAD:BA,O_PARAMETERS_FAULT:hA,O_PARAMETERS_OK:RA,PA_MAX_OK:Qv,PA_MAX_OVER:Zv,POWER_A_OFF:EA,POWER_A_ON:iA,POWER_B_OFF:nA,POWER_B_ON:aA,POWER_C_OFF:rA,POWER_C_ON:eA,POWER_OVER_RELAY_OFF:iT,PV_MAX_OK:jv,PV_MAX_OVER:kv,P_MAX_A_MINUS_OK:FT,P_MAX_A_MINUS_OVER:HT,RELAY_HARD_BAD_OFF:QA,RELAY_HARD_BAD_ON:jA,RELAY_HARD_OFF:kA,RELAY_HARD_ON:ZA,RELAY_OFF:gv,RELAY_ON:Ov,RESET_EM_FLAG:NT,RESET_MAGNETIC_FLAG:MT,RESTART:lv,SALDO_ENERGY_BAD:bA,SALDO_PARAM_BAD:FA,SET_DEMAND_EN_10_MIN:mT,SET_DEMAND_EN_15_MIN:yT,SET_DEMAND_EN_1_MIN:CT,SET_DEMAND_EN_30_MIN:LT,SET_DEMAND_EN_3_MIN:DT,SET_DEMAND_EN_5_MIN:ST,SET_DEMAND_EN_60_MIN:VT,SET_NEW_SALDO:VA,SET_SALDO_PARAM:nT,SET_TARIFF_TABLE:hv,SUMMER_TIME:uv,TIME_CORRECT:KA,T_MAX_OK:Yv,T_MAX_OVER:xv,T_MIN_OK:Wv,T_MIN_UNDER:Xv,VA_MAX_OK:dv,VA_MAX_OVER:cv,VA_MIN_OK:Uv,VA_MIN_UNDER:pv,VB_MAX_OK:Iv,VB_MAX_OVER:Nv,VB_MIN_OK:Mv,VB_MIN_UNDER:Cv,VC_MAX_OK:Dv,VC_MAX_OVER:Sv,VC_MIN_OK:mv,VC_MIN_UNDER:yv,V_PARAMETERS_FAULT:TA,V_PARAMETERS_OK:AA,WD_RESTART:Pv,WINTER_SUMMER_BAD:GA,WINTER_TIME:fv});var xT=yt(YT);var WT=1;var XT=2;var GT=3;var wT=4;var BT=5;var bT=6;var KT=7;var zT=8;var QT=9;var ZT=10;var jT=11;var kT=12;var qT=13;var $T=14;var JT=15;var tR=16;var eR=17;var rR=18;var aR=19;var nR=20;var iR=21;var ER=22;var _R=23;var sR=24;var oR=25;var vR=26;var AR=27;var TR=28;var RR=29;var hR=30;var uR=31;var fR=32;var OR=33;var gR=34;var lR=35;var PR=36;var dR=37;var cR=38;var UR=39;var pR=40;var IR=41;var NR=42;var MR=43;var CR=44;var DR=45;var SR=46;var mR=47;var yR=48;var LR=49;var VR=50;var FR=51;var HR=52;var YR=53;var xR=54;var WR=55;var XR=56;var GR=57;var wR=58;var BR=59;var bR=60;var KR=61;var zR=62;var QR=63;var ZR=64;var jR=65;var kR=66;var qR=67;var $R=68;var JR=69;var th=70;var eh=71;var rh=72;var ah=73;var nh=74;var ih=75;var Eh=76;var _h=77;var sh=78;var oh=79;var vh=80;var Ah=81;var Th=82;var Rh=83;var hh=84;var uh=85;var fh=86;var Oh=87;var gh=88;var lh=89;var Ph=90;var dh=91;var ch=92;var Uh=93;var ph=94;var Ih=95;var Nh=96;var Mh=97;var Ch=98;var Dh=99;var Sh=100;var mh=101;var yh=102;var Lh=103;var Vh=104;var Fh=105;var Hh=106;var Yh=107;var xh=108;var Wh=109;var Xh=110;var Gh=111;var wh=112;var Bh=113;var bh=114;var Kh=115;var zh=116;var Qh=117;var Zh=118;var jh=119;var kh=120;var qh=121;var $h=122;var Jh=123;var tu=124;var eu=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:wT,ACTIVE_ENERGY_T2:BT,ACTIVE_ENERGY_T3:bT,ACTIVE_ENERGY_T4:KT,ACTIVE_POWER_PHASE_A:MR,ACTIVE_POWER_PHASE_B:CR,ACTIVE_POWER_PHASE_C:DR,APPARENT_POWER_QMINUS_PHASE_A:QR,APPARENT_POWER_QMINUS_PHASE_B:ZR,APPARENT_POWER_QMINUS_PHASE_C:jR,APPARENT_POWER_QPLUS_PHASE_A:BR,APPARENT_POWER_QPLUS_PHASE_B:bR,APPARENT_POWER_QPLUS_PHASE_C:KR,BATTERY_VOLTAGE:pR,CURRENT_BALANCE:Zh,CURRENT_IN_NEUTRAL:PR,CURRENT_IN_PHASE_A:OR,CURRENT_IN_PHASE_B:gR,CURRENT_IN_PHASE_C:lR,CURRENT_TRANSFORMATION_RATIO:zh,DATE_MONTH_YEAR:Kh,EXPORTED_ACTIVE_ENERGY_T1:aR,EXPORTED_ACTIVE_ENERGY_T2:nR,EXPORTED_ACTIVE_ENERGY_T3:iR,EXPORTED_ACTIVE_ENERGY_T4:ER,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:RR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:hR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:uR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:fR,EXPORTED_REACTIVE_ENERGY_T1:sR,EXPORTED_REACTIVE_ENERGY_T2:oR,EXPORTED_REACTIVE_ENERGY_T3:vR,EXPORTED_REACTIVE_ENERGY_T4:AR,HOUR_MINUTE_SECOND:bh,MAGNET_INDUCTION:tu,MAX_ACTIVE_POWER_DAY_T1:kR,MAX_ACTIVE_POWER_DAY_T2:qR,MAX_ACTIVE_POWER_DAY_T3:$R,MAX_ACTIVE_POWER_DAY_T4:JR,MAX_ACTIVE_POWER_MONTH_T1:th,MAX_ACTIVE_POWER_MONTH_T2:eh,MAX_ACTIVE_POWER_MONTH_T3:rh,MAX_ACTIVE_POWER_MONTH_T4:ah,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:Ph,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:dh,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:ch,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:Uh,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:ph,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:Ih,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:Nh,MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:Mh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:Hh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:Yh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:xh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:Wh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:Xh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:Gh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:wh,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:Bh,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:Ch,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:Dh,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:Sh,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:mh,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:yh,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:Lh,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:Vh,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:Fh,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:Th,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:Rh,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:hh,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:uh,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:fh,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:Oh,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:gh,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:lh,MAX_REACTIVE_POWER_DAY_T1:nh,MAX_REACTIVE_POWER_DAY_T2:ih,MAX_REACTIVE_POWER_DAY_T3:Eh,MAX_REACTIVE_POWER_DAY_T4:_h,MAX_REACTIVE_POWER_MONTH_T1:sh,MAX_REACTIVE_POWER_MONTH_T2:oh,MAX_REACTIVE_POWER_MONTH_T3:vh,MAX_REACTIVE_POWER_MONTH_T4:Ah,NEGATIVE_REACTIVE_ENERGY_T1:$T,NEGATIVE_REACTIVE_ENERGY_T2:JT,NEGATIVE_REACTIVE_ENERGY_T3:tR,NEGATIVE_REACTIVE_ENERGY_T4:eR,OPTOPORT_SPEED:Jh,POWER_FACTOR_PHASE_A:WR,POWER_FACTOR_PHASE_B:XR,POWER_FACTOR_PHASE_C:GR,POWER_THRESHOLD_T1:jh,POWER_THRESHOLD_T2:kh,POWER_THRESHOLD_T3:qh,POWER_THRESHOLD_T4:$h,REACTIVE_ENERGY_T1:QT,REACTIVE_ENERGY_T2:ZT,REACTIVE_ENERGY_T3:jT,REACTIVE_ENERGY_T4:kT,REACTIVE_POWER_QMINUS_PHASE_A:FR,REACTIVE_POWER_QMINUS_PHASE_B:HR,REACTIVE_POWER_QMINUS_PHASE_C:YR,REACTIVE_POWER_QPLUS_PHASE_A:mR,REACTIVE_POWER_QPLUS_PHASE_B:yR,REACTIVE_POWER_QPLUS_PHASE_C:LR,SET_ALL_SEGMENT_DISPLAY:WT,SOFTWARE_VERSION:XT,SUPPLY_FREQUENCY:IR,TOTAL_ACTIVE_ENERGY:GT,TOTAL_ACTIVE_POWER:NR,TOTAL_APPARENT_POWER_QMINUS:zR,TOTAL_APPARENT_POWER_QPLUS:wR,TOTAL_EXPORTED_ACTIVE_ENERGY:rR,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:TR,TOTAL_EXPORTED_REACTIVE_ENERGY:_R,TOTAL_NEGATIVE_REACTIVE_ENERGY:qT,TOTAL_POWER_FACTOR:xR,TOTAL_REACTIVE_ENERGY:zT,TOTAL_REACTIVE_POWER_QMINUS:VR,TOTAL_REACTIVE_POWER_QPLUS:SR,VOLTAGE_IN_PHASE_A:dR,VOLTAGE_IN_PHASE_B:cR,VOLTAGE_IN_PHASE_C:UR,VOLTAGE_TRANSFORMATION_RATIO:Qh});yt(eu);var ru=2400;var au=9600;var nu={plc:{0:au,2:ru,4:au},optoport:{0:ru,2:ru,4:au}};var iu={plc:yt(nu.plc),optoport:yt(nu.optoport)};var Eu=1;var _u=2;var su=4;var ou={SET_ALL_SEGMENT_DISPLAY:1<<0,SOFTWARE_VERSION:1<<1,TOTAL_ACTIVE_ENERGY:1<<2,ACTIVE_ENERGY_T1:1<<3,ACTIVE_ENERGY_T2:1<<4,ACTIVE_ENERGY_T3:1<<5,ACTIVE_ENERGY_T4:1<<6,TOTAL_REACTIVE_ENERGY:1<<7,REACTIVE_ENERGY_T1:1<<8,REACTIVE_ENERGY_T2:1<<9,REACTIVE_ENERGY_T3:1<<10,REACTIVE_ENERGY_T4:1<<11,TOTAL_NEGATIVE_REACTIVE_ENERGY:1<<12,NEGATIVE_REACTIVE_ENERGY_T1:1<<13,NEGATIVE_REACTIVE_ENERGY_T2:1<<14,NEGATIVE_REACTIVE_ENERGY_T3:1<<15,NEGATIVE_REACTIVE_ENERGY_T4:1<<16,TOTAL_EXPORTED_ACTIVE_ENERGY:1<<17,EXPORTED_ACTIVE_ENERGY_T1:1<<18,EXPORTED_ACTIVE_ENERGY_T2:1<<19,EXPORTED_ACTIVE_ENERGY_T3:1<<20,EXPORTED_ACTIVE_ENERGY_T4:1<<21,TOTAL_EXPORTED_REACTIVE_ENERGY:1<<22,EXPORTED_REACTIVE_ENERGY_T1:1<<23,EXPORTED_REACTIVE_ENERGY_T2:1<<24,EXPORTED_REACTIVE_ENERGY_T3:1<<25,EXPORTED_REACTIVE_ENERGY_T4:1<<26,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:1<<27,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:1<<28,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:1<<29,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:1<<30,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:1<<31};var vu={CURRENT_IN_PHASE_A:1<<0,CURRENT_IN_PHASE_B:1<<1,CURRENT_IN_PHASE_C:1<<2,CURRENT_IN_NEUTRAL:1<<3,VOLTAGE_IN_PHASE_A:1<<4,VOLTAGE_IN_PHASE_B:1<<5,VOLTAGE_IN_PHASE_C:1<<6,BATTERY_VOLTAGE:1<<7,SUPPLY_FREQUENCY:1<<8,TOTAL_ACTIVE_POWER:1<<9,ACTIVE_POWER_PHASE_A:1<<10,ACTIVE_POWER_PHASE_B:1<<11,ACTIVE_POWER_PHASE_C:1<<12,TOTAL_REACTIVE_POWER_QPLUS:1<<13,REACTIVE_POWER_QPLUS_PHASE_A:1<<14,REACTIVE_POWER_QPLUS_PHASE_B:1<<15,REACTIVE_POWER_QPLUS_PHASE_C:1<<16,TOTAL_REACTIVE_POWER_QMINUS:1<<17,REACTIVE_POWER_QMINUS_PHASE_A:1<<18,REACTIVE_POWER_QMINUS_PHASE_B:1<<19,REACTIVE_POWER_QMINUS_PHASE_C:1<<20,TOTAL_POWER_FACTOR:1<<21,POWER_FACTOR_PHASE_A:1<<22,POWER_FACTOR_PHASE_B:1<<23,POWER_FACTOR_PHASE_C:1<<24,TOTAL_APPARENT_POWER_QPLUS:1<<25,APPARENT_POWER_QPLUS_PHASE_A:1<<26,APPARENT_POWER_QPLUS_PHASE_B:1<<27,APPARENT_POWER_QPLUS_PHASE_C:1<<28,TOTAL_APPARENT_POWER_QMINUS:1<<29,APPARENT_POWER_QMINUS_PHASE_A:1<<30,APPARENT_POWER_QMINUS_PHASE_B:1<<31};var Au={APPARENT_POWER_QMINUS_PHASE_C:1<<0,MAX_ACTIVE_POWER_DAY_T1:1<<1,MAX_ACTIVE_POWER_DAY_T2:1<<2,MAX_ACTIVE_POWER_DAY_T3:1<<3,MAX_ACTIVE_POWER_DAY_T4:1<<4,MAX_ACTIVE_POWER_MONTH_T1:1<<5,MAX_ACTIVE_POWER_MONTH_T2:1<<6,MAX_ACTIVE_POWER_MONTH_T3:1<<7,MAX_ACTIVE_POWER_MONTH_T4:1<<8,MAX_REACTIVE_POWER_DAY_T1:1<<9,MAX_REACTIVE_POWER_DAY_T2:1<<10,MAX_REACTIVE_POWER_DAY_T3:1<<11,MAX_REACTIVE_POWER_DAY_T4:1<<12,MAX_REACTIVE_POWER_MONTH_T1:1<<13,MAX_REACTIVE_POWER_MONTH_T2:1<<14,MAX_REACTIVE_POWER_MONTH_T3:1<<15,MAX_REACTIVE_POWER_MONTH_T4:1<<16,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:1<<17,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:1<<18,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:1<<19,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:1<<20,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:1<<21,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:1<<22,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:1<<23,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:1<<24,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:1<<25,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:1<<26,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:1<<27,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:1<<28,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:1<<29,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:1<<30,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:1<<31};var Tu={MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:1<<0,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:1<<1,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:1<<2,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:1<<3,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:1<<4,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:1<<5,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:1<<6,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:1<<7,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:1<<8,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:1<<9,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:1<<10,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:1<<11,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:1<<12,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:1<<13,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:1<<14,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:1<<15,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:1<<16,HOUR_MINUTE_SECOND:1<<17,DATE_MONTH_YEAR:1<<18,CURRENT_TRANSFORMATION_RATIO:1<<19,VOLTAGE_TRANSFORMATION_RATIO:1<<20,CURRENT_BALANCE:1<<21,POWER_THRESHOLD_T1:1<<22,POWER_THRESHOLD_T2:1<<23,POWER_THRESHOLD_T3:1<<24,POWER_THRESHOLD_T4:1<<25};var Ru={...Tu,SORT_DISPLAY_SCREENS:1<<29,AUTO_SCREEN_SCROLLING:1<<31};var hu={EVENT:1<<0,PROFILE_P01:1<<1,PROFILE_P02:1<<2,PROFILE_P03:1<<3,PROFILE_P04:1<<4,PROFILE_P05:1<<5,PROFILE_P06:1<<6};var uu={RELAY_ON_Y:1<<0,RELAY_ON_CENTER:1<<1,RELAY_ON_PB:1<<2,RELAY_ON_TARIFF_1:1<<3,RELAY_ON_TARIFF_2:1<<4,RELAY_ON_TARIFF_3:1<<5,RELAY_ON_TARIFF_4:1<<6,RELAY_ON_V_GOOD:1<<7,RELAY_OFF_Y:1<<8,RELAY_OFF_CENTER:1<<9,RELAY_OFF_TARIFF_1:1<<10,RELAY_OFF_TARIFF_2:1<<11,RELAY_OFF_TARIFF_3:1<<12,RELAY_OFF_TARIFF_4:1<<13,RELAY_OFF_I_LIMIT:1<<14,RELAY_OFF_V_BAD:1<<15,RELAY_OFF_DIFF_CURRENT_BAD:1<<16,RELAY_OFF_LIM_TARIFF_1:1<<17,RELAY_OFF_LIM_TARIFF_2:1<<18,RELAY_OFF_LIM_TARIFF_3:1<<19,RELAY_OFF_LIM_TARIFF_4:1<<20,RELAY_OFF_LIM_VAR_TARIFF_1:1<<21,RELAY_OFF_LIM_VAR_TARIFF_2:1<<22,RELAY_OFF_LIM_VAR_TARIFF_3:1<<23,RELAY_OFF_LIM_VAR_TARIFF_4:1<<24,RELAY_ON_PF_MIN:1<<25,RELAY_OFF_PF_MIN:1<<26,RELAY_ON_TIMEOUT:1<<27,RELAY_ON_SALDO:1<<28,RELAY_OFF_SALDO:1<<29,RELAY_OFF_SALDO_SOFT:1<<30};var fu={TRANSFORMATION_RATIO:1<<0,METER_TYPE_R:1<<4,ACCUMULATE_BY_R_PLUS_MINUS:1<<7};var Ou={RESET_DAY_MAX_POWER_KEY:1<<0,RESET_MONTH_MAX_POWER_KEY:1<<1,BLOCK_KEY_OPTOPORT:1<<2,MAGNET_SCREEN_CONST:1<<5,ALLOW_BROWNOUT_INDICATION:1<<7};var gu={...Tu,OPTOPORT_SPEED:1<<26,MAGNET_INDUCTION:1<<27};var lu={RELAY_OFF_MAGNET:1<<0,RELAY_ON_MAGNET_TIMEOUT:1<<1,RELAY_ON_MAGNET_AUTO:1<<2};var Pu=function(t){return{plc:nu.plc[se(t,4,1)],optoport:nu.optoport[se(t,4,5)]}};var du=function(t){var e=0;e=oe(e,4,1,Number(iu.plc[t.plc]));e=oe(e,4,5,Number(iu.optoport[t.optoport]));return e};function cu(t,e,r){var a=r>>su;var n=[];var i=[];var E=[];for(var _=0;_<An;_++){var s=!!se(a,1,_+1);if(s){n.push(t.getInt32());i.push(t.getInt32());E.push(t.getInt32())}else{n.push(null);i.push(null);E.push(null)}}return{wh:n,vari:i,vare:E}}function Uu(t,e){var r=e.wh,a=e.vari,n=e.vare;var i=1+su;var E=t;for(var _=0;_<An;_++){E=oe(E,1,_+i,Number(!!r[_]&&!!a[_]&&!!n[_]))}return E}function pu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;Fn.call(this,t,e)}pu.prototype=Object.create(Fn.prototype);pu.prototype.constructor=pu;pu.getDefaultOperatorParameters=function(){return{vpThreshold:265e3,vThreshold:156e3,ipThreshold:12e4,pmaxThreshold0:31800,pmaxThreshold1:31800,pmaxThreshold2:31800,pmaxThreshold3:31800,rmaxThreshold0:31800,rmaxThreshold1:31800,rmaxThreshold2:31800,rmaxThreshold3:31800,tint:30,calcPeriodDate:1,timeoutDisplay:127,timeoutScreen:7,displaySet1:_e(ou,4229),displaySet2:_e(vu,139776),displaySet3:_e(Au,0),relaySet:_e(uu,771),speedOptoPort:Pu(64),ten:30,tu:30,timeIntervalPowerOff:3,reserved:0,timeoutBadVAVB:5,freqMax:55,freqMin:45,year:0,month:0,date:0,energyDecimalPoint:2,voltageTransformationRatioNumerator:1,voltageTransformationRatioDenominator:1,currentTransformationRatioNumerator:1,currentTransformationRatioDenominator:1,typeMeter:_e(fu,0),phMin:0,timeoutIMax:5,timeoutPMax:5,timeoutCos:5,pMaxDef:1,displaySet4:_e(Ru,2147876864)}};pu.getDefaultOperatorParametersExtended=function(){return{timeoutRelayOn:1,define1:_e(Ou,0),timeoutRelayKey:0,timeoutRelayAuto:5}};pu.getDefaultOperatorParametersExtended2=function(){return{deltaCorMin:0,timeoutMagnetOff:5,relaySetExt:_e(lu,0),timeoutMagnetOn:5,defaultPlcPhase:3,displaySet21:_e(ou,4231),displaySet22:_e(vu,31597303),displaySet23:_e(Au,0),displaySet24:_e(gu,393216),channel1:0,channel2:0,channel3:0,channel4:0,channel5:0,channel6:0,timeCorrectPeriod:24,timeCorrectPassHalfhour:false}};pu.getDefaultOperatorParametersExtended3=Fn.getDefaultOperatorParametersExtended3;pu.prototype.getOperatorParameters=function(){return{vpThreshold:this.getUint32(),vThreshold:this.getUint32(),ipThreshold:this.getUint32(),pmaxThreshold0:this.getUint32(),pmaxThreshold1:this.getUint32(),pmaxThreshold2:this.getUint32(),pmaxThreshold3:this.getUint32(),rmaxThreshold0:this.getUint32(),rmaxThreshold1:this.getUint32(),rmaxThreshold2:this.getUint32(),rmaxThreshold3:this.getUint32(),tint:this.getUint8(),calcPeriodDate:this.getUint8(),timeoutDisplay:this.getUint8(),timeoutScreen:this.getUint8(),displaySet1:_e(ou,this.getUint32()),displaySet2:_e(vu,this.getUint32()),displaySet3:_e(Au,this.getUint32()),relaySet:_e(uu,this.getUint32()),speedOptoPort:Pu(this.getUint8()),ten:this.getUint8(),tu:this.getUint8(),timeIntervalPowerOff:this.getUint8(),reserved:this.getUint8(),timeoutBadVAVB:this.getUint8(),freqMax:this.getUint8(),freqMin:this.getUint8(),year:this.getUint8(),month:this.getUint8(),date:this.getUint8(),energyDecimalPoint:this.getUint8(),voltageTransformationRatioNumerator:this.getUint16(),voltageTransformationRatioDenominator:this.getUint16(),currentTransformationRatioNumerator:this.getUint16(),currentTransformationRatioDenominator:this.getUint16(),typeMeter:_e(fu,this.getUint8()),phMin:this.getUint16(),timeoutIMax:this.getUint8(),timeoutPMax:this.getUint8(),timeoutCos:this.getUint8(),pMaxDef:this.getUint8(),displaySet4:_e(Ru,this.getUint32())}};pu.prototype.setOperatorParameters=function(t){this.setUint32(t.vpThreshold);this.setUint32(t.vThreshold);this.setUint32(t.ipThreshold);this.setUint32(t.pmaxThreshold0);this.setUint32(t.pmaxThreshold1);this.setUint32(t.pmaxThreshold2);this.setUint32(t.pmaxThreshold3);this.setUint32(t.rmaxThreshold0);this.setUint32(t.rmaxThreshold1);this.setUint32(t.rmaxThreshold2);this.setUint32(t.rmaxThreshold3);this.setUint8(t.tint);this.setUint8(t.calcPeriodDate);this.setUint8(t.timeoutDisplay);this.setUint8(t.timeoutScreen);this.setUint32(Ee(ou,t.displaySet1));this.setUint32(Ee(vu,t.displaySet2));this.setUint32(Ee(Au,t.displaySet3));this.setUint32(Ee(uu,t.relaySet));this.setUint8(du(t.speedOptoPort));this.setUint8(t.ten);this.setUint8(t.tu);this.setUint8(t.timeIntervalPowerOff);this.setUint8(t.reserved);this.setUint8(t.timeoutBadVAVB);this.setUint8(t.freqMax);this.setUint8(t.freqMin);this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.energyDecimalPoint);this.setUint16(t.voltageTransformationRatioNumerator);this.setUint16(t.voltageTransformationRatioDenominator);this.setUint16(t.currentTransformationRatioNumerator);this.setUint16(t.currentTransformationRatioDenominator);this.setUint8(Ee(fu,t.typeMeter));this.setUint16(t.phMin);this.setUint8(t.timeoutIMax);this.setUint8(t.timeoutPMax);this.setUint8(t.timeoutCos);this.setUint8(t.pMaxDef);this.setUint32(Ee(Ru,t.displaySet4))};pu.prototype.getOperatorParametersExtended=function(){return{timeoutRelayOn:this.getUint8(),define1:_e(Ou,this.getUint8()),timeoutRelayKey:this.getUint8(),timeoutRelayAuto:this.getUint8()}};pu.prototype.setOperatorParametersExtended=function(t){this.setUint8(t.timeoutRelayOn);this.setUint8(Ee(Ou,t.define1));this.setUint8(t.timeoutRelayKey);this.setUint8(t.timeoutRelayAuto);this.setUint32(0);this.setUint8(0)};pu.prototype.getEnergies=function(){var t=[];var e=[];var r=[];for(var a=0;a<An;a++){t.push(this.getInt32());e.push(this.getInt32());r.push(this.getInt32())}return{wh:t,vari:e,vare:r}};pu.prototype.setEnergies=function(t){for(var e=0;e<An;e++){this.setInt32(t.wh[e]);this.setInt32(t.vari[e]);this.setInt32(t.vare[e])}};pu.prototype.getPackedEnergyWithType=function(){var t=this.getUint8();var e=se(t,su,1);var r=cu(this,e,t);return{energyType:e,energies:r}};pu.prototype.setPackedEnergyWithType=function(t){var e=t.energyType,r=t.energies;if(e){var a=Uu(e,r);var n=a>>su;this.setUint8(a);for(var i=0;i<An;i++){var E=!!se(n,1,i+1);if(E){this.setInt32(r.wh[i]);this.setInt32(r.vari[i]);this.setInt32(r.vare[i])}}return}for(var _=0;_<An;_++){this.setInt32(r.wh[_]);this.setInt32(r.vari[_]);this.setInt32(r.vare[_])}};pu.prototype.getEnergyPeriods=function(t){var e=this;return new Array(t).fill(0).map((function(){var t=e.getUint16();return t===65535?undefined:t}))};pu.prototype.setEnergyPeriods=function(t){var e=this;t.forEach((function(t){return e.setUint16(t===undefined?65535:t)}))};pu.prototype.getMaxDemand=function(){return{hourPmax:this.getUint8(),minPmax:this.getUint8(),pmax:this.getInt32(),hourVariMax:this.getUint8(),minVariMax:this.getUint8(),variMax:this.getInt32(),hourVareMax:this.getUint8(),minVareMax:this.getUint8(),vareMax:this.getInt32()}};pu.prototype.setMaxDemand=function(t){this.setUint8(t.hourPmax);this.setUint8(t.minPmax);this.setInt32(t.pmax);this.setUint8(t.hourVariMax);this.setUint8(t.minVariMax);this.setInt32(t.variMax);this.setUint8(t.hourVareMax);this.setUint8(t.minVareMax);this.setInt32(t.vareMax)};pu.prototype.getDayMaxDemandResponse=function(){var t=this;var e=this.getDate();var r=new Array(An).fill(0).map((function(){return t.getMaxDemand()}));return{date:e,maxDemands:r}};pu.prototype.setDayMaxDemandResponse=function(t){var e=this;this.setDate(t.date);t.maxDemands.forEach((function(t){return e.setMaxDemand(t)}))};pu.prototype.getMonthMaxDemandResponse=function(){var t=this;var e={year:this.getUint8(),month:this.getUint8()};var r=new Array(An).fill(0).map((function(){return t.getMaxDemand()}));return{date:e,maxDemands:r}};pu.prototype.setMonthMaxDemandResponse=function(t){var e=this;this.setUint8(t.date.year);this.setUint8(t.date.month);t.maxDemands.forEach((function(t){return e.setMaxDemand(t)}))};pu.prototype.getEvent=function(){var t={hours:this.getUint8(),minutes:this.getUint8(),seconds:this.getUint8(),event:this.getUint8()};var e=t.event;var r=this.bytesLeft;t.eventName=xT[e];switch(e){case iT:if(r<4){return t}t.power=[this.getUint8(),this.getUint8(),this.getUint8(),this.getUint8()];break;case ov:case KA:if(r<8){return t}t.newDate=this.getDateTime();break}return t};pu.prototype.setEvent=function(t){this.setUint8(t.hours);this.setUint8(t.minutes);this.setUint8(t.seconds);this.setUint8(t.event);switch(t.event){case iT:for(var e of t.power){this.setUint8(e)}break;case ov:case KA:this.setDateTime(t.newDate);break}};pu.prototype.getDemand=function(){var t=this.getUint8();var e=this.getUint8();return{date:{year:t>>1,month:t<<3&15|e>>5,date:e&31},demandParam:this.getUint8(),firstIndex:this.getUint16(),count:this.getUint8(),period:this.getUint8()}};pu.prototype.setDemand=function(t){var e=t.date.year<<1|t.date.month>>3&1;var r=t.date.month<<5&224|t.date.date&31;this.setUint8(e);this.setUint8(r);this.setUint8(t.demandParam);this.setUint16(t.firstIndex);this.setUint8(t.count);this.setUint8(t.period)};pu.prototype.getOperatorParametersExtended2=function(){var t={deltaCorMin:this.getUint8(),timeoutMagnetOff:this.getUint8(),relaySetExt:_e(lu,this.getUint8()),timeoutMagnetOn:this.getUint8(),defaultPlcPhase:this.getUint8(),displaySet21:_e(ou,this.getUint32()),displaySet22:_e(vu,this.getUint32()),displaySet23:_e(Au,this.getUint32()),displaySet24:_e(gu,this.getUint32()),channel1:this.getUint8(),channel2:this.getUint8(),channel3:this.getUint8(),channel4:this.getUint8(),channel5:this.getUint8(),channel6:this.getUint8(),timeCorrectPeriod:0,timeCorrectPassHalfhour:false};var e=this.getUint8();t.timeCorrectPeriod=e&127;t.timeCorrectPassHalfhour=!!(e&128);return t};pu.prototype.setOperatorParametersExtended2=function(t){var e=t.timeCorrectPeriod|(t.timeCorrectPassHalfhour?128:0);this.setUint8(t.deltaCorMin);this.setUint8(t.timeoutMagnetOff);this.setUint8(Ee(lu,t.relaySetExt));this.setUint8(t.timeoutMagnetOn);this.setUint8(t.defaultPlcPhase);this.setUint32(Ee(ou,t.displaySet21));this.setUint32(Ee(vu,t.displaySet22));this.setUint32(Ee(Au,t.displaySet23));this.setUint32(Ee(gu,t.displaySet24));this.setUint8(t.channel1);this.setUint8(t.channel2);this.setUint8(t.channel3);this.setUint8(t.channel4);this.setUint8(t.channel5);this.setUint8(t.channel6);this.setUint8(e)};pu.prototype.getOperatorParametersExtended4=function(){return{displaySet5:_e(hu,this.getUint32()),displaySet25:_e(hu,this.getUint32()),displaySet31:_e(ou,this.getUint32()),displaySet32:_e(vu,this.getUint32()),displaySet33:_e(Au,this.getUint32()),displaySet34:_e(Ru,this.getUint32()),displaySet35:_e(hu,this.getUint32())}};pu.prototype.setOperatorParametersExtended4=function(t){this.setUint32(Ee(hu,t.displaySet5));this.setUint32(Ee(hu,t.displaySet25));this.setUint32(Ee(ou,t.displaySet31));this.setUint32(Ee(vu,t.displaySet32));this.setUint32(Ee(Au,t.displaySet33));this.setUint32(Ee(Ru,t.displaySet34));this.setUint32(Ee(hu,t.displaySet35))};var Iu=$s;var Nu=function(t){var e=new pu(t);var r=e.getUint32();var a=e.getUint32();var n=e.getUint32();var i=e.getUint32();var E=e.getUint32();var _=e.getUint32();e.getUint32();var s=e.getUint32();var o=!!(e.getUint8()&1);var v=e.getUint8();var A=!!(e.getUint8()&1);var T=!!(e.getUint8()&1);var R={"A+":e.getUint8(),maximumPowers:e.getUint8(),"A-":e.getUint8()};var h=e.getUint8();var u=!!(e.getUint8()&1);var f=v|h<<8;return{operatingSeconds:r,tbadVAAll:a,tbadVBAll:n,tbadVCAll:i,tbadIMAXAll:E,tbadPMAXAll:_,tbadFREQ:s,relayStatus:o,statusEvent:_e(pn,f),centerAlert:A,calEnableFlag:T,currentTariffs:R,isSummerTime:u}};var Mu=Is;var Cu=function(t){var e=new pu(t);return{vaRms:e.getInt32(),vbRms:e.getInt32(),vcRms:e.getInt32(),iaRms:e.getInt32(),ibRms:e.getInt32(),icRms:e.getInt32(),powerA:e.getInt32(),powerB:e.getInt32(),powerC:e.getInt32(),varA:e.getInt32(),varB:e.getInt32(),varC:e.getInt32(),iNeutral:e.getInt32()}};({wh:a(a({},Eu,{gType:"1.8",rType:"1.8"}),_u,{gType:"2.8"}),vari:a(a({},Eu,{gType:"5.8",rType:"3.8"}),_u,{gType:"6.8"}),vare:a(a({},Eu,{gType:"8.8",rType:"4.8"}),_u,{gType:"7.8"})});var Du=51;var Su=Ls;var mu=function(t){var e=new pu(t);var r;if(t.length===Du){r={date:e.getDate(),energies:e.getEnergies()}}else{r={date:e.getDate(),...e.getPackedEnergyWithType()}}return r};var yu=To;var Lu=function(t){var e=new pu(t);return{date:e.getDate(),energies:e.getEnergies()}};var Vu=zs;var Fu=function(t){var e=new pu(t);return e.getDayMaxDemandResponse()};var Hu=lo;var Yu=function(t){var e=new pu(t);return e.getDayMaxDemandResponse()};var xu=7;var Wu=Vo;var Xu=function(t){if(!t||t.length<xu){throw new Error("Invalid uplink GetDemand byte length.")}var e=new pu(t);var r=e.getDemand();if(t.length!==xu+2*r.count){throw new Error("Invalid uplink GetDemand demands byte length.")}var a=new Array(r.count).fill(0).map((function(){return e.getUint16()}));return{...r,demands:a}};var Gu=Io;var wu=function(t){var e=o(t),r=e[0],a=e.slice(1);return{displayMode:r,order:a}};var Bu=Ns;var bu=function(t){var e=new pu(t);return e.getEnergies()};var Ku=51;var zu=ls;var Qu=function(t){var e=new pu(t);var r;if(t.length===Ku){r={date:e.getDate(),energies:e.getEnergies()}}else{r={date:e.getDate(),...e.getPackedEnergyWithType()}}return r};var Zu=Ao;var ju=function(t){var e=new pu(t);return e.getEnergies()};var ku=Ro;var qu=function(t){var e=new pu(t);return e.getEnergies()};var $u=Js;var Ju=function(t){var e=new pu(t);return{temperature:e.getInt16(),frequency:e.getUint16(),vPhaseAB:e.getInt32(),vPhaseAC:e.getInt32(),pfA:e.getInt16()/1e3,pfB:e.getInt16()/1e3,pfC:e.getInt16()/1e3,pf:e.getInt16()/1e3,vaA:e.getInt32(),vaB:e.getInt32(),vaC:e.getInt32(),vaSum:e.getInt32(),uBatteryRtc:e.getInt16()}};var tf=ys;var ef=function(t){var e=new pu(t);var r=t.length>hn;var a=e.getDate();var n=e.getEnergyPeriods(r?Rn:Tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var rf=hn+2;var af=co;var nf=function(t){var e=new pu(t);var r=t.length>rf;var a=e.getUint8();var n=e.getUint8();var i=e.getDate();var E=e.getEnergyPeriods(r?Rn:Tn);if(r){return{channel:a,loadProfile:n,date:i,energies:E,dstHour:e.getUint8()}}return{channel:a,loadProfile:n,date:i,energies:E}};var Ef=uo;var _f=function(t){var e=new pu(t);var r=t.length>hn;var a=e.getDate();var n=e.getEnergyPeriods(r?Rn:Tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var sf=vo;var of=function(t){var e=new pu(t);var r=t.length>hn;var a=e.getDate();var n=e.getEnergyPeriods(r?Rn:Tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var vf=Oo;var Af=function(t){var e=new pu(t);var r=t.length>hn;var a=e.getDate();var n=e.getEnergyPeriods(r?Rn:Tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var Tf=oo;var Rf=function(t){var e=new pu(t);var r=t.length>hn;var a=e.getDate();var n=e.getEnergyPeriods(r?Rn:Tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var hf=fo;var uf=function(t){var e=new pu(t);var r=t.length>hn;var a=e.getDate();var n=e.getEnergyPeriods(r?Rn:Tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var ff=Vs;var Of=function(t){var e=new pu(t);return{year:e.getUint8(),month:e.getUint8(),energies:e.getEnergies()}};var gf=ho;var lf=function(t){var e=new pu(t);return{year:e.getUint8(),month:e.getUint8(),energies:e.getEnergies()}};var Pf=Qs;var df=function(t){var e=new pu(t);return e.getMonthMaxDemandResponse()};var cf=Po;var Uf=function(t){var e=new pu(t);return e.getMonthMaxDemandResponse()};var pf=xs;var If=function(t){var e=new pu(t);return e.getOperatorParameters()};var Nf=no;var Mf=function(t){var e=new pu(t);return e.getOperatorParametersExtended()};var Cf=so;var Df=function(t){var e=new pu(t);return e.getOperatorParametersExtended2()};var Sf=Lo;var mf=function(t){var e=new pu(t);return e.getOperatorParametersExtended4()};var yf=io;var Lf=0;var Vf=function(t){if(t.length!==Lf){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Ff=Eo;var Hf=0;var Yf=function(t){if(t.length!==Hf){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var xf=yo;var Wf=0;var Xf=function(t){if(t.length!==Wf){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Gf={};var wf=Xo;var Bf=Os(Gf,wf);Gf[Lt]=Ft;Gf[Ai]=Ri;Gf[hi]=ui;Gf[Li]=Vi;Gf[bi]=Ki;Gf[Qi]=Zi;Gf[ji]=ki;Gf[qi]=$i;Gf[mE]=VE;Gf[YE]=xE;Gf[WE]=XE;Gf[GE]=wE;Gf[BE]=bE;Gf[KE]=zE;Gf[QE]=ZE;Gf[jE]=qE;Gf[$E]=t_;Gf[e_]=a_;Gf[n_]=i_;Gf[E_]=__;Gf[s_]=o_;Gf[v_]=T_;Gf[R_]=u_;Gf[f_]=g_;Gf[l_]=d_;Gf[c_]=p_;Gf[I_]=M_;Gf[C_]=S_;Gf[m_]=L_;Gf[V_]=H_;Gf[Y_]=W_;Gf[B_]=K_;Gf[X_]=w_;Gf[z_]=Z_;Gf[j_]=q_;Gf[$_]=ts;Gf[es]=as;Gf[ns]=is;Gf[Es]=ss;Gf[os]=As;Gf[Go]=wo;Gf[Bo]=Ko;Gf[Iu]=Nu;Gf[Mu]=Cu;Gf[Su]=mu;Gf[yu]=Lu;Gf[Vu]=Fu;Gf[Hu]=Yu;Gf[Wu]=Xu;Gf[Gu]=wu;Gf[Bu]=bu;Gf[zu]=Qu;Gf[Zu]=ju;Gf[ku]=qu;Gf[$u]=Ju;Gf[tf]=ef;Gf[af]=nf;Gf[Ef]=_f;Gf[sf]=of;Gf[vf]=Af;Gf[Tf]=Rf;Gf[hf]=uf;Gf[ff]=Of;Gf[gf]=lf;Gf[Pf]=df;Gf[cf]=Uf;Gf[pf]=If;Gf[Nf]=Mf;Gf[Cf]=Df;Gf[Sf]=mf;Gf[B_]=K_;Gf[yf]=Vf;Gf[Ff]=Yf;Gf[xf]=Xf;var bf=145;var Kf=30;var zf=function(t){if(t[0]!==Kf){return{}}var e=t[1];var r=t[3];var a=t.slice(4,e+2);if(r===bf){return a}return null};fromBytes=Bf;getDataSegment=zf})();
//#endregion


/*
  Incoming arguments:
    * payload - array of bytes
    * metadata - key/value object
*/

var segment = getDataSegment(payload);
var message = null;

// just a single data segment
if ( segment ) {
    message = fromBytes(segment);

    // there may be a message.error (e.g. mismatched LRC)
    // in that case message.message will contain everything parsed successfully
    // it should be used with caution
}

var result = {
    // required property, set to real device name from payload/metadata depending on integration
    // empty value throw an error in converter
    deviceName: '',

    deviceType: 'Water Meter',
    attributes: {
        model: 'Device Model',
        serialNumber: 'SN111',
        manufacturer: 'Device Manufacturer'
    },
    telemetry: {
        // telemetry display only primitive, i.e. string and numbers
        // for example only!
        message: JSON.stringify(message.message || message)
    },
    metadata: metadata
};

return result;
