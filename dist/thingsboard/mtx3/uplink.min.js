// IMPORTANT!!!
// This example only for default uplink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/


//#region [autogenerated jooby-codec bundle from index.js]
var fromBytes,getDataSegment;(function(){"use strict";function r(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,t=Array(a);e<a;e++)t[e]=r[e];return t}function a(r){if(Array.isArray(r))return r}function e(a){if(Array.isArray(a))return r(a)}function t(r,a,e){return(a=i(a))in r?Object.defineProperty(r,a,{value:e,enumerable:true,configurable:true,writable:true}):r[a]=e,r}function E(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _(r,a){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,E,_,v,n=[],A=true,T=false;try{if(_=(e=e.call(r)).next,0===a);else for(;!(A=(t=_.call(e)).done)&&(n.push(t.value),n.length!==a);A=!0);}catch(r){T=true,E=r}finally{try{if(!A&&null!=e.return&&(v=e.return(),Object(v)!==v))return}finally{if(T)throw E}}return n}}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(r,e){return a(r)||_(r,e)||O(r,e)||v()}function T(r){return e(r)||E(r)||O(r)||n()}function R(r,a){if("object"!=typeof r||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,a);if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(r)}function i(r){var a=R(r,"string");return"symbol"==typeof a?a:a+""}function O(a,e){if(a){if("string"==typeof a)return r(a,e);var t={}.toString.call(a).slice(8,-1);return"Object"===t&&a.constructor&&(t=a.constructor.name),"Map"===t||"Set"===t?Array.from(a):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(a,e):void 0}}var o={encrypt:function(){},decrypt:function(){}};var s=0;var f=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var e=a;r.forEach(function(r){e^=r});return e};var P=3;var N=2;var C=2;var u=function(r,a){return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var E=t?.aesKey;var _=[];var v=A(e,2),n=v[0],R=v[1];var i=R&P;var O={messageId:n,accessLevel:i,commands:_,bytes:e,lrc:{received:undefined,calculated:0}};var u=e.slice(N);var D;if(E&&i!==s){u=T(o.decrypt(E,u))}var S=u[u.length-1];u=u.slice(0,-1);var I=f(u);if(i!==s||S!==0){if(S!==I){D="Mismatch LRC."}}var M=u[0]&P;var l=u.slice(1);if(i!==M){D="Mismatch access levels."}var d=0;do{var g=l[d];var h=l[d+1];var c=C+h;var L=l.slice(d+C,d+c);var V={id:g,name:a[g],headerSize:C,bytes:l.slice(d,d+c)};if(!g){break}try{if(!r[g]){throw new Error("Unsupported command id: ".concat(g,"!"))}V.parameters=r[g](L,t);_.push(V)}catch(r){_.push({command:V,error:r.message})}d+=c}while(d<=l.length);O.lrc.calculated=I;O.lrc.received=S;if(D){return{message:O,error:D}}return O}};var D=1;var S=3;var I=4;var M=5;var l=7;var d=8;var g=9;var h=13;var c=15;var L=16;var V=17;var p=18;var m=19;var y=20;var H=21;var G=22;var U=23;var X=24;var F=25;var W=28;var Y=30;var B=31;var x=40;var K=41;var w=42;var b=44;var Z=46;var Q=47;var j=49;var z=50;var k=51;var $=52;var q=53;var J=54;var rr=57;var ar=58;var er=59;var tr=60;var Er=61;var _r=62;var vr=63;var nr=64;var Ar=69;var Tr=70;var Rr=71;var ir=72;var Or=73;var or=78;var sr=79;var fr=80;var Pr=82;var Nr=83;var Cr=84;var ur=85;var Dr=86;var Sr=88;var Ir=89;var Mr=90;var lr=92;var dr=93;var gr=94;var hr=100;var cr=109;var Lr=111;var Vr=112;var pr=113;var mr=114;var yr=116;var Hr=117;var Gr=118;var Ur=122;var Xr=Object.freeze({__proto__:null,activateRatePlan:m,getBuildVersion:Vr,getCorrectTime:_r,getCriticalEvent:Dr,getCurrentStatusMeter:rr,getCurrentValues:h,getDateTime:l,getDayDemand:G,getDayDemandExport:sr,getDayMaxDemand:j,getDayMaxDemandExport:Sr,getDayProfile:er,getDemand:Gr,getDeviceId:M,getDeviceType:I,getDisplayParam:gr,getEnergy:c,getEnergyDayPrevious:S,getEnergyExport:or,getEnergyExportDayPrevious:fr,getEventStatus:D,getEvents:k,getEventsCounters:$,getExtendedCurrentValues:ar,getHalfHourDemand:H,getHalfHourDemandChannel:Mr,getHalfHourDemandExport:Nr,getHalfHourDemandVare:Or,getHalfHourDemandVareExport:ur,getHalfHourDemandVari:ir,getHalfHourDemandVariExport:Cr,getHalfHourEnergies:Lr,getMagneticFieldThreshold:cr,getMeterInfo:Ur,getMonthDemand:U,getMonthDemandExport:Pr,getMonthMaxDemand:z,getMonthMaxDemandExport:Ir,getOperatorParameters:Y,getOperatorParametersExtended:vr,getOperatorParametersExtended2:Rr,getOperatorParametersExtended3:pr,getOperatorParametersExtended4:Hr,getRatePlanInfo:b,getSaldo:K,getSaldoParameters:Z,getSeasonProfile:tr,getSpecialDay:Er,getVersion:x,prepareRatePlan:y,resetPowerMaxDay:q,resetPowerMaxMonth:J,runTariffPlan:Tr,setAccessKey:g,setCorrectDateTime:lr,setCorrectTime:W,setDateTime:d,setDayProfile:L,setDisplayParam:dr,setOperatorParameters:B,setOperatorParametersExtended:nr,setOperatorParametersExtended2:Ar,setOperatorParametersExtended3:mr,setOperatorParametersExtended4:yr,setSaldo:w,setSaldoParameters:Q,setSeasonProfile:V,setSpecialDay:p,setSpecialOperation:hr,turnRelayOff:F,turnRelayOn:X});var Fr=120;var Wr=254;var Yr=Object.freeze({__proto__:null,activateRatePlan:m,errorResponse:Wr,getBuildVersion:Vr,getCorrectTime:_r,getCriticalEvent:Dr,getCurrentStatusMeter:rr,getCurrentValues:h,getDateTime:l,getDayDemand:G,getDayDemandExport:sr,getDayEnergies:Fr,getDayMaxDemand:j,getDayMaxDemandExport:Sr,getDayProfile:er,getDemand:Gr,getDeviceId:M,getDeviceType:I,getDisplayParam:gr,getEnergy:c,getEnergyDayPrevious:S,getEnergyExport:or,getEnergyExportDayPrevious:fr,getEventStatus:D,getEvents:k,getEventsCounters:$,getExtendedCurrentValues:ar,getHalfHourDemand:H,getHalfHourDemandChannel:Mr,getHalfHourDemandExport:Nr,getHalfHourDemandVare:Or,getHalfHourDemandVareExport:ur,getHalfHourDemandVari:ir,getHalfHourDemandVariExport:Cr,getHalfHourEnergies:Lr,getMagneticFieldThreshold:cr,getMeterInfo:Ur,getMonthDemand:U,getMonthDemandExport:Pr,getMonthMaxDemand:z,getMonthMaxDemandExport:Ir,getOperatorParameters:Y,getOperatorParametersExtended:vr,getOperatorParametersExtended2:Rr,getOperatorParametersExtended3:pr,getOperatorParametersExtended4:Hr,getRatePlanInfo:b,getSaldo:K,getSaldoParameters:Z,getSeasonProfile:tr,getSpecialDay:Er,getVersion:x,prepareRatePlan:y,resetPowerMaxDay:q,resetPowerMaxMonth:J,runTariffPlan:Tr,setAccessKey:g,setCorrectDateTime:lr,setCorrectTime:W,setDateTime:d,setDayProfile:L,setDisplayParam:dr,setOperatorParameters:B,setOperatorParametersExtended:nr,setOperatorParametersExtended2:Ar,setOperatorParametersExtended3:mr,setOperatorParametersExtended4:yr,setSaldo:w,setSaldoParameters:Q,setSeasonProfile:V,setSpecialDay:p,setSpecialOperation:hr,turnRelayOff:F,turnRelayOn:X});var Br=function(r){var a={};for(var e in r){var t=r[e];a[t]=e}return a};var xr=Br(Yr);var Kr=1;var wr=2;var br=3;var Zr=4;var Qr=Math.log,jr=Math.pow,zr=Math.LN2;var kr=function(r,a,e,t,E){var _,v,n=E*8-t-1,A=(1<<n)-1,T=A>>1,R=-7,i=e?E-1:0,O=e?-1:1,o=r[a+i];i+=O;_=o&(1<<-R)-1;o>>=-R;R+=n;for(;R>0;_=_*256+r[a+i],i+=O,R-=8);v=_&(1<<-R)-1;_>>=-R;R+=t;for(;R>0;v=v*256+r[a+i],i+=O,R-=8);if(_===0){_=1-T}else if(_===A){return v?NaN:o?-Infinity:Infinity}else{v=v+jr(2,t);_=_-T}return(o?-1:1)*v*jr(2,_-t)};var $r=function(r,a,e,t,E,_){var v,n,A,T=_*8-E-1,R=(1<<T)-1,i=R>>1,O=E===23?jr(2,-24)-jr(2,-77):0,o=t?0:_-1,s=t?1:-1,f=e<0||e===0&&1/e<0?1:0;e<0&&(e=-e);if(e!==e||e===Infinity){n=e!==e?1:0;v=R}else{v=Qr(e)/zr|0;if(e*(A=jr(2,-v))<1){v--;A*=2}if(v+i>=1){e+=O/A}else{e+=O*jr(2,1-i)}if(e*A>=2){v++;A/=2}if(v+i>=R){n=0;v=R}else if(v+i>=1){n=(e*A-1)*jr(2,E);v=v+i}else{n=e*jr(2,i-1)*jr(2,E);v=0}}for(;E>=8;r[a+o]=n&255,o+=s,n/=256,E-=8);v=v<<E|n;T+=E;for(;T>0;r[a+o]=v&255,o+=s,v/=256,T-=8);r[a+o-s]|=f*128};var qr=[1,0];var Jr=[2,1,0];var ra=[3,2,1,0];var aa=[0,1];var ea=[0,1,2];var ta=[0,1,2,3];var Ea=function(r,a){return r[a]};var _a=function(r,a,e){var t=e?aa:qr;var E=r[a+t[0]];var _=r[a+t[1]]<<8;return E|_};var va=function(r,a,e){var t=e?ea:Jr;var E=r[a+t[0]];var _=r[a+t[1]]<<8;var v=r[a+t[2]]<<16;return E|_|v};var na=function(r,a,e){var t=e?ta:ra;var E=r[a+t[3]]*16777216;var _=r[a+t[2]]*65536;var v=r[a+t[1]]*256;var n=r[a+t[0]];return E+_+v+n};var Aa=function(r,a,e){r[a]=e&255};var Ta=function(r,a,e,t){var E=t?aa:qr;r[a+E[0]]=e&255;r[a+E[1]]=e>>>8&255};var Ra=function(r,a,e,t){var E=t?ea:Jr;r[a+E[0]]=e&255;r[a+E[1]]=e>>>8&255;r[a+E[2]]=e>>>16&255};var ia=function(r,a,e,t){var E=t?ta:ra;r[a+E[0]]=e&255;r[a+E[1]]=e>>>8&255;r[a+E[2]]=e>>>16&255;r[a+E[3]]=e>>>24&255};function Oa(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof r==="number"){var e=new Array(r).fill(0);this.data=e}else{this.data=r}this.offset=0;this.isLittleEndian=a}Oa.prototype={toUint8Array:function(){return this.data},seek:function(r){if(r<0||r>=this.data.length){throw new Error("Invalid position.")}this.offset=r},setInt8:function(r){Aa(this.data,this.offset,r<0?r|256:r);this.offset+=Kr},getInt8:function(){var r=Ea(this.data,this.offset);this.offset+=Kr;return r&128?r^-256:r},setUint8:function(r){Aa(this.data,this.offset,r);this.offset+=Kr},getUint8:function(){var r=Ea(this.data,this.offset);this.offset+=Kr;return r},setInt16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Ta(this.data,this.offset,r<0?r|65536:r,a);this.offset+=wr},getInt16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=_a(this.data,this.offset,r);this.offset+=wr;return a&32768?a^-65536:a},setUint16:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Ta(this.data,this.offset,r,a);this.offset+=wr},getUint16:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=_a(this.data,this.offset,r);this.offset+=wr;return a},setInt24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Ra(this.data,this.offset,r<0?r|16777216:r,a);this.offset+=br},getInt24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=va(this.data,this.offset,r);this.offset+=br;return a&8388608?a^-16777216:a},setUint24:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;Ra(this.data,this.offset,r,a);this.offset+=br},getUint24:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=va(this.data,this.offset,r);this.offset+=br;return a},setInt32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ia(this.data,this.offset,r<0?r|4294967296:r,a);this.offset+=Zr},getInt32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=na(this.data,this.offset,r);this.offset+=Zr;return a&2147483648?a^-4294967296:a},setUint32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ia(this.data,this.offset,r,a);this.offset+=Zr},getUint32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=na(this.data,this.offset,r);this.offset+=Zr;return a},setFloat32:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;$r(this.data,this.offset,r,a,23,4);this.offset+=Zr},getFloat32:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var a=kr(this.data,this.offset,r,23,4);this.offset+=Zr;return a},setString:function(r){this.setUint8(r.length);for(var a=0;a<r.length;++a){this.setUint8(r.charCodeAt(a))}},getString:function(){var r=this.getUint8();var a=this.offset+r;var e=[];while(this.offset<a){e.push(String.fromCharCode(this.getUint8()))}return e.join("")},getBytesToOffset:function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,r)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=a+r;return this.data.slice(a,this.offset)},setBytes:function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var e=this.data;e.splice.apply(e,[a,r.length].concat(T(r)));this.data=e;this.offset=a+r.length}};Object.defineProperties(Oa.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var oa=function(r){var a=r.trim();if(!a){return[]}a=a.replace(/0x/g,"").split(/\s+/).map(function(r){return r.padStart(2,"0")}).join("");if(a.length%2!==0){a="0".concat(a)}var e=a.length/2;var t=new Array(e);for(var E=0;E<e;E++){t[E]=parseInt(a.substring(E*2,E*2+2),16)}return t};var sa=function(r){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return[r,a.length].concat(T(a))};var fa=function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var e=0;for(var t in a){if(t in r&&a[t]){e|=r[t]}}return e};var Pa=function(r,a,e){return(1<<a)-1&r>>e-1};var Na=function(r,a,e,t){var E=(1<<a)-1<<e-1;var _=t;var v=r;v&=~E;_<<=e-1;v|=_;return v};var Ca=[".","1","3","R","M"];var ua=[".","A","G","R","T","D"];var Da=[".","0","1","2","3","4","5"];var Sa=[".","A","B","C","D","E","F"];var Ia=[".","A","B","C","D","E","F","H","K","G"];var Ma=[".","1","2","3","4"];var la=[".","L","M","Z","K"];var da=[".","0","1","2","3","4","5","6","7","8","9"];var ga=[".","D","B","C","E","P","R","O","L","F","S","M","Y","G","N","U"];var ha=[".","0","1","2","3","4","5","6","P","R","L","E","G","-","/"];var ca=[".","H","A","T","0","0","0","0","0","1","2","3","4","0","0","0"];var La=[".","0","1","2","3","4","5","6","7","8","I","X","G","W","M","-"];var Va={typeMeterG:1<<0,downgradedToA:1<<4,supportMeterInfo:1<<6};var pa={typeMeterTransformer:1<<0,downgradedToR:1<<3,typeMeterG:1<<4,supportMeterInfo:1<<6,reactiveByQuadrants:1<<7};var ma=function(r){return fa(pa,{...r,typeMeterG:!r.typeMeterG})};var ya=function(r){var a=[];r.forEach(function(r){return a.push(r.toString(16))});if(r.length&1){a.push("0")}return oa(a.join(""))};var Ha=function(r,a,e){var t=[];if(r.length<11){throw new Error("Wrong format")}t.push(Ca.indexOf(r[0]));t.push(ua.indexOf(r[1]));t.push(Da.indexOf(r[2]));t.push(Da.indexOf(r[3]));if(r[4]!=="."){throw new Error("Wrong format")}t.push(Sa.indexOf(r[5]));t.push(Ia.indexOf(r[6]));if(r[7]!=="."){throw new Error("Wrong format")}t.push(Ma.indexOf(r[8]));t.push(la.indexOf(r[9]));t.push(e??0);t.push(da.indexOf(r[10]));if(r[11]!=="-"){throw new Error("Wrong format")}var E=r.length>13?r.length-1:r.length;for(var _=12;_<E;_++){t.push(ga.indexOf(r[_]))}if(E<r.length){t.push(ca.indexOf(r[E]))}var v=ya(t);var n=new Array(9).fill(0);n[0]=0;for(var A=0;A<v.length;A++){n[A+(v.length<8?1:0)]=v[A]}return n};var Ga=function(r){if(r.length<3){throw new Error("Wrong format")}var a=[];a.push(Ca.indexOf(r[0]));a.push(ua.indexOf(r[1]));for(var e=3;e<r.length;e++){a.push(ha.indexOf(r[e]))}var t=ya(a);if(t.length===8){return t}if(t.length>8){throw new Error("Wrong format")}var E=new Array(8).fill(0);for(var _=0;_<t.length;_++){E[_]=t[_]}return E};var Ua=function(r){if(r.length<1){throw new Error("Wrong format")}var a=[];a.push(Ca.indexOf(r[0]));for(var e=1;e<r.length;e++){a.push(La.indexOf(r[e]))}var t=ya(a);var E=new Array(8).fill(0);for(var _=0;_<t.length&&_<8;_++){E[_]=t[_]}return E};var Xa=function(r,a){var e=r.type,t=r.revision,E=r.descriptor;if(!e.startsWith("MTX ")){throw new Error("Wrong format")}var _;var v=e.substring(4);var n=e[4];if(n==="1"||n==="3"){_=Ha(v,a,t)}else{_=n==="M"?Ua(v):Ga(v)}if(E?.meterType){_[8]=E.meterType==="mtx1"?fa(Va,E):ma(E)}else{_[8]=0}return _};var Fa=80;var Wa=81;var Ya=82;var Ba=83;var xa=84;var Ka=85;var wa=86;var ba=87;var Za=88;var Qa=89;var ja=90;var za=91;var ka=255;var $a=Object.freeze({__proto__:null,DATA_REQUEST:Fa,DATA_RESPONSE:Wa,FRAGMENT_REQUEST:ja,FRAGMENT_RESPONSE:za,IDENT_REQUEST:Ya,IDENT_RESPONSE:Ba,INVALID:ka,L2_CHECK_ADDRESS_REQUEST:wa,L2_CHECK_ADDRESS_RESPONSE:ba,L2_RM_ADDRESS_REQUEST:Za,L2_RM_ADDRESS_RESPONSE:Qa,L2_SET_ADDRESS_REQUEST:xa,L2_SET_ADDRESS_RESPONSE:Ka});Br($a);var qa=1;var Ja=2;var re=3;var ae=16;var ee=17;var te=18;var Ee=19;var _e=20;var ve=21;var ne=32;var Ae=33;var Te=34;var Re=35;var ie=36;var Oe=37;var oe=38;var se=39;var fe=40;var Pe=41;var Ne=49;var Ce=50;var ue=51;var De=52;var Se=53;var Ie=54;var Me=55;var le=56;var de=57;var ge=60;var he=61;var ce=62;var Le=63;var Ve=64;var pe=65;var me=66;var ye=67;var He=68;var Ge=69;var Ue=70;var Xe=71;var Fe=72;var We=73;var Ye=74;var Be=75;var xe=76;var Ke=77;var we=78;var be=79;var Ze=80;var Qe=81;var je=82;var ze=83;var ke=84;var $e=85;var qe=86;var Je=87;var rt=88;var at=89;var et=96;var tt=97;var Et=98;var _t=99;var vt=100;var nt=101;var At=102;var Tt=103;var Rt=104;var it=105;var Ot=112;var ot=113;var st=114;var ft=115;var Pt=116;var Nt=117;var Ct=118;var ut=119;var Dt=120;var St=121;var It=122;var Mt=123;var lt=124;var dt=125;var gt=126;var ht=144;var ct=145;var Lt=147;var Vt=148;var pt=152;var mt=156;var yt=157;var Ht=158;var Gt=159;var Ut=160;var Xt=161;var Ft=162;var Wt=176;var Yt=177;var Bt=178;var xt=179;var Kt=180;var wt=181;var bt=182;var Zt=183;var Qt=185;var jt=186;var zt=224;var kt=225;var $t=226;var qt=227;var Jt=228;var rE=229;var aE=230;var eE=231;var tE=232;var EE=Object.freeze({__proto__:null,ACCESS_LOCKED:ae,ACC_PARAM_BAD:st,ACC_PARAM_EXT_BAD:ft,BAD_TEST_EEPROM:Rt,BAD_TEST_FRAM:it,BATTERY_FAULT:ze,BATTERY_OK:je,BIPOLAR_POWER_FAULT:Kt,BIPOLAR_POWER_OK:wt,BLOCK_TARIFF_BAD:Nt,CALC_PERIOD_BAD:Pt,CALIBRATION_FAULT:$e,CALIBRATION_FLAG_RESET:Tt,CALIBRATION_FLAG_SET:At,CALIBRATION_OK:ke,CALIBRATION_PARAM_BAD:Ct,CASE_CLOSE:Ee,CASE_KLEMA_CLOSE:Mt,CASE_KLEMA_OPEN:It,CASE_MODULE_CLOSE:dt,CASE_MODULE_OPEN:lt,CASE_OPEN:te,CHANGE_ACCESS_KEY0:ne,CHANGE_ACCESS_KEY1:Ae,CHANGE_ACCESS_KEY2:Te,CHANGE_ACCESS_KEY3:Re,CHANGE_COR_TIME:Pe,CHANGE_PARAM_CANAL:Qt,CHANGE_PAR_LOCAL:ie,CHANGE_PAR_REMOTE:Oe,CHANGE_TARIFF_TABLE:Ce,CHANGE_TARIFF_TBL_2:pt,CLOCK_FAULT:Je,CLOCK_OK:qe,CMD_CHANGE_TIME:oe,CMD_RELAY_2_OFF:tt,CMD_RELAY_2_ON:et,CMD_RELAY_OFF:fe,CMD_RELAY_ON:se,CROSS_ZERO_ENT0:Et,CROSS_ZERO_ENT1:_t,CROSS_ZERO_ENT2:vt,CROSS_ZERO_ENT3:nt,CROSS_ZERO_EXPORT_ENT0:Ht,CROSS_ZERO_EXPORT_ENT1:Gt,CROSS_ZERO_EXPORT_ENT2:Ut,CROSS_ZERO_EXPORT_ENT3:Xt,CURRENT_UNEQUAL_FAULT:Bt,CURRENT_UNEQUAL_OK:xt,EM_MAGNETIC_OFF:Yt,EM_MAGNETIC_ON:Wt,ENERGY_REGISTER_FAULT:qa,ENERGY_REGISTER_OVERFLOW:Ne,ERR_ACCESS:ee,F_MAX_OK:Fe,F_MAX_OVER:We,F_MIN_OK:Ye,F_MIN_OVER:Be,I_MAX_OK:xe,I_MAX_OVER:Ke,MAGNETIC_OFF:ve,MAGNETIC_ON:_e,OP_PAR_FAULT:re,POWER_A_OFF:rt,POWER_A_ON:at,POWER_B_OFF:he,POWER_B_ON:ge,POWER_C_OFF:Le,POWER_C_ON:ce,POWER_GOOD_DIO:gt,POWER_OVER_RELAY_OFF:yt,POWER_SALDO_OK:Ze,POWER_SALDO_OVER:Qe,P_MAX_A_MINUS_OK:eE,P_MAX_A_MINUS_OVER:tE,P_MAX_OK:we,P_MAX_OVER:be,RELAY_HARD_BAD_OFF:ht,RELAY_HARD_BAD_ON:Lt,RELAY_HARD_OFF:Vt,RELAY_HARD_ON:ct,RELAY_OFF:Me,RELAY_OFF_BAD_SALDO:jt,RELAY_ON:Ie,RESET_EM_FLAG:bt,RESET_MAGNET_FLAG:Zt,RESTART:le,SALDO_EN_BAD:Dt,SALDO_PARAM_BAD:ot,SET_DEMAND_EN_10MIN:qt,SET_DEMAND_EN_15MIN:Jt,SET_DEMAND_EN_1MIN:zt,SET_DEMAND_EN_30MIN:rE,SET_DEMAND_EN_3MIN:kt,SET_DEMAND_EN_5MIN:$t,SET_DEMAND_EN_60MIN:aE,SET_NEW_SALDO:Ot,SET_SALDO_PARAM:mt,SET_TARIFF_TABLE:ue,SUMMER_TIME:De,TIME_CORRECT:St,TIME_CORRECT_NEW:Ft,T_MAX_OK:He,T_MAX_OVER:Ge,T_MIN_OK:Ue,T_MIN_OVER:Xe,VENDOR_PAR_FAULT:Ja,V_MAX_OK:Ve,V_MAX_OVER:pe,V_MIN_OK:me,V_MIN_OVER:ye,WD_RESTART:de,WINTER_SUMMER_BAD:ut,WINTER_TIME:Se});Br(EE);var _E=4;var vE=1;var nE=4;var AE=3;var TE=48;var RE=50;var iE=3+TE*2;var OE=4+RE*2;var oE={CASE_OPEN:2**0,MAGNETIC_ON:2**1,PARAMETERS_UPDATE_REMOTE:2**2,PARAMETERS_UPDATE_LOCAL:2**3,RESTART:2**4,ERROR_ACCESS:2**5,TIME_SET:2**6,TIME_CORRECT:2**7,DEVICE_FAILURE:2**8,CASE_TERMINAL_OPEN:2**9,CASE_MODULE_OPEN:2**10,TARIFF_TABLE_SET:2**11,TARIFF_TABLE_GET:2**12,PROTECTION_RESET_EM:2**13,PROTECTION_RESET_MAGNETIC:2**14};function sE(r,a,e){var t=1+_E;var E=a;e.forEach(function(r,a){E=Na(E,1,a+t,Number(!!r))});r.setUint8(E)}function fE(r,a){var e=a.tariff,t=a.energy;if(e!==undefined&&t!==undefined){r.setUint16(e<<14|t&16383)}else{r.setUint16(65535)}}var PE=function(r,a){var e=a.manufacturer,t=a.type,E=a.year,_=a.serial;r.setBytes(oa(e));r.setUint8(t);r.setUint8(E);r.setBytes(oa(_))};var NE=function(r,a){r.setUint8(a.isSummerTime?1:0);r.setUint8(a.seconds);r.setUint8(a.minutes);r.setUint8(a.hours);r.setUint8(a.day||0);r.setUint8(a.date);r.setUint8(a.month);r.setUint8(a.year)};var CE=function(r,a){r.setBytes(Xa(a))};var uE=function(r,a){var e=a.energyType,t=a.energies;if(e){sE(r,e,t)}t.forEach(function(a){if(a!==null){r.setInt32(a)}})};var DE=function(r,a){r.setUint8(a.year);r.setUint8(a.month);r.setUint8(a.date)};var SE=function(r,a){a.forEach(function(a){return fE(r,a)})};var IE=function(r,a){r.setUint16(fa(oE,a))};var ME=function(r){if(r?.energyType){var a=r.energies.filter(function(r){return r!==null}).length;return AE+vE+a*nE}return AE+nE*_E};var lE=1;var dE=3;var gE=4;var hE=5;var cE=7;var LE=8;var VE=9;var pE=13;var mE=15;var yE=16;var HE=17;var GE=18;var UE=19;var XE=20;var FE=21;var WE=22;var YE=23;var BE=24;var xE=25;var KE=28;var wE=30;var bE=31;var ZE=40;var QE=41;var jE=42;var zE=44;var kE=45;var $E=46;var qE=47;var JE=49;var r_=50;var a_=51;var e_=52;var t_=53;var E_=54;var __=57;var v_=58;var n_=59;var A_=60;var T_=61;var R_=62;var i_=65;var O_=70;var o_=74;var s_=75;var f_=79;var P_=80;var N_=82;var C_=83;var u_=88;var D_=89;var S_=91;var I_=92;var M_=93;var l_=94;var d_=100;var g_=109;var h_=111;var c_=112;var L_=113;var V_=114;var p_=116;var m_=117;var y_=118;var H_=122;var G_=Object.freeze({__proto__:null,activateRatePlan:UE,getBuildVersion:c_,getCorrectTime:R_,getCriticalEvent:i_,getCurrentStatusMeter:__,getCurrentValues:pE,getDateTime:cE,getDayDemand:WE,getDayDemandExport:f_,getDayMaxDemand:JE,getDayMaxDemandExport:u_,getDayMaxDemandPrevious:o_,getDayProfile:n_,getDemand:y_,getDemandParameters:m_,getDeviceId:hE,getDeviceType:gE,getDisplayParam:l_,getEnergy:mE,getEnergyDayPrevious:dE,getEnergyExport:S_,getEnergyExportDayPrevious:P_,getEventStatus:lE,getEvents:a_,getEventsCounters:e_,getExtendedCurrentValues:v_,getExtendedCurrentValues2:kE,getHalfHourDemand:FE,getHalfHourDemandExport:C_,getHalfHourDemandPrevious:s_,getHalfHourEnergies:h_,getMagneticFieldThreshold:g_,getMeterInfo:H_,getMonthDemand:YE,getMonthDemandExport:N_,getMonthMaxDemand:r_,getMonthMaxDemandExport:D_,getOperatorParameters:wE,getOperatorParametersExtended3:L_,getRatePlanInfo:zE,getSaldo:QE,getSaldoParameters:$E,getSeasonProfile:A_,getSpecialDay:T_,getVersion:ZE,prepareRatePlan:XE,resetPowerMaxDay:t_,resetPowerMaxMonth:E_,runTariffPlan:O_,setAccessKey:VE,setCorrectDateTime:I_,setCorrectTime:KE,setDateTime:LE,setDayProfile:yE,setDemandParameters:p_,setDisplayParam:M_,setOperatorParameters:bE,setOperatorParametersExtended3:V_,setSaldo:jE,setSaldoParameters:qE,setSeasonProfile:HE,setSpecialDay:GE,setSpecialOperation:d_,turnRelayOff:xE,turnRelayOn:BE});var U_=120;var X_=121;var F_=254;var W_=Object.freeze({__proto__:null,activateRatePlan:UE,errorResponse:F_,getBuildVersion:c_,getCorrectTime:R_,getCriticalEvent:i_,getCurrentStatusMeter:__,getCurrentValues:pE,getDateTime:cE,getDayDemand:WE,getDayDemandExport:f_,getDayEnergies:U_,getDayMaxDemand:JE,getDayMaxDemandExport:u_,getDayMaxDemandPrevious:o_,getDayMaxPower:X_,getDayProfile:n_,getDemand:y_,getDemandParameters:m_,getDeviceId:hE,getDeviceType:gE,getDisplayParam:l_,getEnergy:mE,getEnergyDayPrevious:dE,getEnergyExport:S_,getEnergyExportDayPrevious:P_,getEventStatus:lE,getEvents:a_,getEventsCounters:e_,getExtendedCurrentValues:v_,getExtendedCurrentValues2:kE,getHalfHourDemand:FE,getHalfHourDemandExport:C_,getHalfHourDemandPrevious:s_,getHalfHourEnergies:h_,getMagneticFieldThreshold:g_,getMeterInfo:H_,getMonthDemand:YE,getMonthDemandExport:N_,getMonthMaxDemand:r_,getMonthMaxDemandExport:D_,getOperatorParameters:wE,getOperatorParametersExtended3:L_,getRatePlanInfo:zE,getSaldo:QE,getSaldoParameters:$E,getSeasonProfile:A_,getSpecialDay:T_,getVersion:ZE,prepareRatePlan:XE,resetPowerMaxDay:t_,resetPowerMaxMonth:E_,runTariffPlan:O_,setAccessKey:VE,setCorrectDateTime:I_,setCorrectTime:KE,setDateTime:LE,setDayProfile:yE,setDemandParameters:p_,setDisplayParam:M_,setOperatorParameters:bE,setOperatorParametersExtended3:V_,setSaldo:jE,setSaldoParameters:qE,setSeasonProfile:HE,setSpecialDay:GE,setSpecialOperation:d_,turnRelayOff:xE,turnRelayOn:BE});Br(W_);var Y_=lE;var B_=2;var x_=function(r){var a=new Oa(B_,true);IE(a,r);return sa(Y_,a.data)};var K_=dE;var w_=function(r){var a=new Oa(ME(r),false);DE(a,r.date);uE(a,r);return sa(K_,a.data)};var b_=gE;var Z_=9;var Q_=function(r){var a=new Oa(Z_,false);CE(a,r);return sa(b_,a.data)};var j_=hE;var z_=8;var k_=function(r){var a=new Oa(z_,false);PE(a,r);return sa(j_,a.data)};var $_=cE;var q_=8;var J_=function(r){var a=new Oa(q_,false);NE(a,r);return sa($_,a.data)};var rv=LE;var av=function(){return sa(rv)};var ev=16;var tv=mE;var Ev=function(r){var a=ev;if(r?.energyType){var e=r.energies.filter(function(r){return r!==null}).length;a=vE+e*nE}var t=new Oa(a,false);uE(t,r);return sa(tv,t.data)};var _v=FE;var vv=function(r){var a=new Oa(r.periods.length>TE?OE:iE,false);DE(a,r.date);SE(a,r.periods);if(r.dstHour){a.setUint8(r.dstHour)}return sa(_v,a.data)};var nv=1;var Av=2;({wh:t(t({},nv,{gType:"1.8",rType:"1.8"}),Av,{gType:"2.8"}),vari:t(t({},nv,{gType:"5.8",rType:"3.8"}),Av,{gType:"6.8"}),vare:t(t({},nv,{gType:"8.8",rType:"4.8"}),Av,{gType:"7.8"})});var Tv=0;var Rv=1;var iv=2;var Ov=3;var ov=4;var sv=5;var fv=6;var Pv=7;var Nv=8;var Cv=9;var uv=10;var Dv=11;var Sv=12;var Iv=13;var Mv=14;var lv=Object.freeze({__proto__:null,CASE_MODULE_OPEN:uv,CASE_OPEN:Tv,CASE_TERMINAL_OPEN:Cv,DEVICE_FAILURE:Nv,ERROR_ACCESS:sv,MAGNETIC_ON:Rv,PARAMETERS_UPDATE_LOCAL:Ov,PARAMETERS_UPDATE_REMOTE:iv,PROTECTION_RESET_EM:Iv,PROTECTION_RESET_MAGNETIC:Mv,RESTART:ov,TARIFF_TABLE_GET:Sv,TARIFF_TABLE_SET:Dv,TIME_CORRECT:Pv,TIME_SET:fv});Br(lv);Br(G_);var dv=0;var gv=128;var hv=129;var cv=130;var Lv=131;var Vv=132;var pv=133;var mv=134;var yv=135;var Hv=136;var Gv=137;var Uv=144;var Xv=145;var Fv=146;var Wv=147;var Yv=149;var Bv=151;var xv=152;var Kv=153;var wv=154;var bv=155;var Zv=156;var Qv=159;var jv=160;var zv=240;var kv=Object.freeze({__proto__:null,ACCESS_DENIED:Wv,BAD_ARRAY_INDEX:mv,BAD_BLOCK_NUMBER:Zv,BAD_DATA_LENGTH:pv,BAD_MESSAGE:Vv,BAD_RATE_PLAN_ID:Hv,BAD_RATE_PLAN_SIZE:Gv,BAD_RESPONSE_LENGTH:Uv,BAD_SALDO_WRITE:Yv,BLOCKED_METER:Bv,CALIBRATION_DISABLED:Fv,DECRYPTION_FAILURE:cv,INTERNAL:zv,INVALID_CORRECTION_INTERVAL:wv,NOT_ALIGNED_DATA:hv,NOT_PREPARED_RATE_PLAN:yv,NO_DATA_FOR_DATE:Xv,OK:dv,OUT_OFF_RANGE:Qv,SET_METER_TYPE_FAILURE:jv,TIME_CORRECTION_FAILURE:Kv,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:bv,UNENCRYPTED_COMMAND_DISABLED:xv,UNKNOWN_COMMAND:gv,UNKNOWN_PROTOCOL:Lv});Br(kv);var $v=1;var qv=2;var Jv=3;var rn=4;var an=5;var en=6;var tn=7;var En=8;var _n=9;var vn=10;var nn=11;var An=12;var Tn=13;var Rn=14;var On=15;var on=16;var sn=17;var fn=18;var Pn=19;var Nn=20;var Cn=21;var un=22;var Dn=23;var Sn=24;var In=25;var Mn=26;var ln=28;var dn=30;var gn=31;var hn=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:rn,ACTIVE_ENERGY_T2:an,ACTIVE_ENERGY_T3:en,ACTIVE_ENERGY_T4:tn,ACTIVE_POWER_IN_NEUTRAL:_n,ACTIVE_POWER_PER_PHASE:En,BATTERY_VOLTAGE:un,CURRENT_BALANCE:dn,CURRENT_IN_NEUTRAL:nn,CURRENT_IN_PHASE:vn,DATE_MONTH_YEAR:Rn,EXPORTED_ACTIVE_ENERGY_T1:on,EXPORTED_ACTIVE_ENERGY_T2:sn,EXPORTED_ACTIVE_ENERGY_T3:fn,EXPORTED_ACTIVE_ENERGY_T4:Pn,HOUR_MINUTE_SECOND:Tn,MAGNET_INDUCTION:ln,OPTOPORT_SPEED:gn,POWER_FACTOR_PHASE_A:Nn,POWER_FACTOR_PHASE_B:Cn,POWER_THRESHOLD_T1:Dn,POWER_THRESHOLD_T2:Sn,POWER_THRESHOLD_T3:In,POWER_THRESHOLD_T4:Mn,SET_ALL_SEGMENT_DISPLAY:$v,SOFTWARE_VERSION:qv,TOTAL_ACTIVE_ENERGY:Jv,TOTAL_EXPORTED_ACTIVE_ENERGY:On,VOLTAGE:An});Br(hn);Br(Xr);var cn=1;var Ln=2;var Vn=3;var pn=4;var mn=17;var yn=18;var Hn=19;var Gn=20;var Un=21;var Xn=22;var Fn=23;var Wn=32;var Yn=33;var Bn=34;var xn=35;var Kn=36;var wn=37;var bn=38;var Zn=39;var Qn=40;var jn=49;var zn=50;var kn=51;var $n=52;var qn=53;var Jn=54;var rA=55;var aA=56;var eA=57;var tA=64;var EA=65;var _A=66;var vA=67;var nA=68;var AA=69;var TA=70;var RA=71;var iA=72;var OA=73;var oA=74;var sA=75;var fA=76;var PA=77;var NA=78;var CA=79;var uA=80;var DA=81;var SA=82;var IA=83;var MA=84;var lA=85;var dA=86;var gA=87;var hA=88;var cA=89;var LA=90;var VA=91;var pA=92;var mA=93;var yA=94;var HA=95;var GA=96;var UA=97;var XA=98;var FA=99;var WA=100;var YA=101;var BA=102;var xA=103;var KA=104;var wA=105;var bA=106;var ZA=107;var QA=108;var jA=109;var zA=110;var kA=111;var $A=112;var qA=113;var JA=114;var rT=115;var aT=116;var eT=117;var tT=118;var ET=119;var _T=120;var vT=121;var nT=122;var AT=123;var TT=124;var RT=125;var iT=126;var OT=127;var oT=128;var sT=129;var fT=130;var PT=131;var NT=132;var CT=133;var uT=134;var DT=135;var ST=136;var IT=137;var MT=138;var lT=139;var dT=140;var gT=141;var hT=142;var cT=143;var LT=144;var VT=145;var pT=147;var mT=148;var yT=149;var HT=150;var GT=151;var UT=152;var XT=153;var FT=154;var WT=155;var YT=156;var BT=157;var xT=158;var KT=159;var wT=160;var bT=161;var ZT=162;var QT=163;var jT=164;var zT=165;var kT=166;var $T=167;var qT=168;var JT=169;var rR=170;var aR=171;var eR=172;var tR=173;var ER=174;var _R=175;var vR=176;var nR=177;var AR=178;var TR=179;var RR=224;var iR=225;var OR=226;var oR=227;var sR=228;var fR=229;var PR=230;var NR=231;var CR=232;var uR=Object.freeze({__proto__:null,ACCESS_LOCKED:mn,ACCESS_UNLOCKED:yn,ACCUMULATION_PARAM_BAD:CT,ACCUMULATION_PARAM_EXT_BAD:uT,BAD_TEST_EEPROM:sT,BAD_TEST_FRAM:fT,BATTERY_FAULT:wA,BATTERY_OK:KA,BLOCK_TARIFF_BAD:ST,CALCULATION_PERIOD_BAD:DT,CALIBRATION_FAULT:ZA,CALIBRATION_FLAG_RESET:oT,CALIBRATION_FLAG_SET:OT,CALIBRATION_OK:bA,CALIBRATION_PARAM_BAD:IT,CASE_CLOSE:Un,CASE_KLEMA_CLOSE:GT,CASE_KLEMA_OPEN:HT,CASE_MODULE_CLOSE:WT,CASE_MODULE_OPEN:FT,CASE_OPEN:Gn,CHANGE_ACCESS_KEY0:Wn,CHANGE_ACCESS_KEY1:Yn,CHANGE_ACCESS_KEY2:Bn,CHANGE_ACCESS_KEY3:xn,CHANGE_COR_TIME:$A,CHANGE_PARAMETERS_LOCAL:Kn,CHANGE_PARAMETERS_REMOTE:wn,CHANGE_PARAM_CHANNEL1:xT,CHANGE_PARAM_CHANNEL2:KT,CHANGE_PARAM_CHANNEL3:wT,CHANGE_PARAM_CHANNEL4:bT,CHANGE_PARAM_CHANNEL5:ZT,CHANGE_PARAM_CHANNEL6:QT,CHANGE_TARIFF_TABLE:zn,CHANGE_TARIFF_TABLE_2:UT,CHANGE_TARIFF_TABLE_3:XT,CLOCK_FAULT:UA,CLOCK_OK:GA,CMD_CHANGE_TIME:bn,CMD_RELAY_2_OFF:JA,CMD_RELAY_2_ON:qA,CMD_RELAY_OFF:Qn,CMD_RELAY_ON:Zn,COEFFICIENT_TRANSFORMATION_CHANGE:cT,CROSS_ZERO_ENT1:rT,CROSS_ZERO_ENT2:aT,CROSS_ZERO_ENT3:eT,CROSS_ZERO_ENT4:tT,CROSS_ZERO_EXPORT_ENT1:jT,CROSS_ZERO_EXPORT_ENT2:zT,CROSS_ZERO_EXPORT_ENT3:kT,CROSS_ZERO_EXPORT_ENT4:$T,CROSS_ZERO_EXPORT_VARE1:eR,CROSS_ZERO_EXPORT_VARE2:tR,CROSS_ZERO_EXPORT_VARE3:ER,CROSS_ZERO_EXPORT_VARE4:_R,CROSS_ZERO_EXPORT_VARI1:qT,CROSS_ZERO_EXPORT_VARI2:JT,CROSS_ZERO_EXPORT_VARI3:rR,CROSS_ZERO_EXPORT_VARI4:aR,CROSS_ZERO_VARE1:AT,CROSS_ZERO_VARE2:TT,CROSS_ZERO_VARE3:RT,CROSS_ZERO_VARE4:iT,CROSS_ZERO_VARI1:ET,CROSS_ZERO_VARI2:_T,CROSS_ZERO_VARI3:vT,CROSS_ZERO_VARI4:nT,EM_MAGNETIC_OFF:nR,EM_MAGNETIC_ON:vR,ENERGY_REGISTER_OVERFLOW:jn,ENERGY_T1_FAULT:cn,ENERGY_T2_FAULT:Ln,ENERGY_T3_FAULT:Vn,ENERGY_T4_FAULT:pn,ERR_ACCESS:Hn,F_MAX_OK:fA,F_MAX_OVER:PA,F_MIN_OK:NA,F_MIN_UNDER:CA,IA_MAX_OK:MA,IA_MAX_OVER:lA,IB_MAX_OK:dA,IB_MAX_OVER:gA,IC_MAX_OK:hA,IC_MAX_OVER:cA,IDIFF_OK:yA,IDIFF_OVER:HA,MAGNETIC_OFF:Fn,MAGNETIC_ON:Xn,METER_TROUBLE:yT,OP_PARAM_BAD:lT,OP_PARAM_EXT_BAD:dT,O_PARAMETERS_FAULT:kA,O_PARAMETERS_OK:zA,PA_MAX_OK:LA,PA_MAX_OVER:VA,POWER_A_OFF:xA,POWER_A_ON:BA,POWER_B_OFF:YA,POWER_B_ON:WA,POWER_C_OFF:FA,POWER_C_ON:XA,POWER_OVER_RELAY_OFF:BT,PV_MAX_OK:pA,PV_MAX_OVER:mA,P_MAX_A_MINUS_OK:NR,P_MAX_A_MINUS_OVER:CR,RELAY_HARD_BAD_OFF:LT,RELAY_HARD_BAD_ON:pT,RELAY_HARD_OFF:mT,RELAY_HARD_ON:VT,RELAY_OFF:rA,RELAY_ON:Jn,RESET_EM_FLAG:AR,RESET_MAGNETIC_FLAG:TR,RESTART:aA,SALDO_ENERGY_BAD:gT,SALDO_PARAM_BAD:NT,SET_DEMAND_EN_10_MIN:oR,SET_DEMAND_EN_15_MIN:sR,SET_DEMAND_EN_1_MIN:RR,SET_DEMAND_EN_30_MIN:fR,SET_DEMAND_EN_3_MIN:iR,SET_DEMAND_EN_5_MIN:OR,SET_DEMAND_EN_60_MIN:PR,SET_NEW_SALDO:PT,SET_SALDO_PARAM:YT,SET_TARIFF_TABLE:kn,SUMMER_TIME:$n,TIME_CORRECT:hT,T_MAX_OK:uA,T_MAX_OVER:DA,T_MIN_OK:SA,T_MIN_UNDER:IA,VA_MAX_OK:tA,VA_MAX_OVER:EA,VA_MIN_OK:_A,VA_MIN_UNDER:vA,VB_MAX_OK:nA,VB_MAX_OVER:AA,VB_MIN_OK:TA,VB_MIN_UNDER:RA,VC_MAX_OK:iA,VC_MAX_OVER:OA,VC_MIN_OK:oA,VC_MIN_UNDER:sA,V_PARAMETERS_FAULT:jA,V_PARAMETERS_OK:QA,WD_RESTART:eA,WINTER_SUMMER_BAD:MT,WINTER_TIME:qn});Br(uR);var DR=1;var SR=2;var IR=3;var MR=4;var lR=5;var dR=6;var gR=7;var hR=8;var cR=9;var LR=10;var VR=11;var pR=12;var mR=13;var yR=14;var HR=15;var GR=16;var UR=17;var XR=18;var FR=19;var WR=20;var YR=21;var BR=22;var xR=23;var KR=24;var wR=25;var bR=26;var ZR=27;var QR=28;var jR=29;var zR=30;var kR=31;var $R=32;var qR=33;var JR=34;var ri=35;var ai=36;var ei=37;var ti=38;var Ei=39;var _i=40;var vi=41;var ni=42;var Ai=43;var Ti=44;var Ri=45;var ii=46;var Oi=47;var oi=48;var si=49;var fi=50;var Pi=51;var Ni=52;var Ci=53;var ui=54;var Di=55;var Si=56;var Ii=57;var Mi=58;var li=59;var di=60;var gi=61;var hi=62;var ci=63;var Li=64;var Vi=65;var pi=66;var mi=67;var yi=68;var Hi=69;var Gi=70;var Ui=71;var Xi=72;var Fi=73;var Wi=74;var Yi=75;var Bi=76;var xi=77;var Ki=78;var wi=79;var bi=80;var Zi=81;var Qi=82;var ji=83;var zi=84;var ki=85;var $i=86;var qi=87;var Ji=88;var rO=89;var aO=90;var eO=91;var tO=92;var EO=93;var _O=94;var vO=95;var nO=96;var AO=97;var TO=98;var RO=99;var iO=100;var OO=101;var oO=102;var sO=103;var fO=104;var PO=105;var NO=106;var CO=107;var uO=108;var DO=109;var SO=110;var IO=111;var MO=112;var lO=113;var dO=114;var gO=115;var hO=116;var cO=117;var LO=118;var VO=119;var pO=120;var mO=121;var yO=122;var HO=123;var GO=124;var UO=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:MR,ACTIVE_ENERGY_T2:lR,ACTIVE_ENERGY_T3:dR,ACTIVE_ENERGY_T4:gR,ACTIVE_POWER_PHASE_A:Ai,ACTIVE_POWER_PHASE_B:Ti,ACTIVE_POWER_PHASE_C:Ri,APPARENT_POWER_QMINUS_PHASE_A:ci,APPARENT_POWER_QMINUS_PHASE_B:Li,APPARENT_POWER_QMINUS_PHASE_C:Vi,APPARENT_POWER_QPLUS_PHASE_A:li,APPARENT_POWER_QPLUS_PHASE_B:di,APPARENT_POWER_QPLUS_PHASE_C:gi,BATTERY_VOLTAGE:_i,CURRENT_BALANCE:LO,CURRENT_IN_NEUTRAL:ai,CURRENT_IN_PHASE_A:qR,CURRENT_IN_PHASE_B:JR,CURRENT_IN_PHASE_C:ri,CURRENT_TRANSFORMATION_RATIO:hO,DATE_MONTH_YEAR:gO,EXPORTED_ACTIVE_ENERGY_T1:FR,EXPORTED_ACTIVE_ENERGY_T2:WR,EXPORTED_ACTIVE_ENERGY_T3:YR,EXPORTED_ACTIVE_ENERGY_T4:BR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:jR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:zR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:kR,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:$R,EXPORTED_REACTIVE_ENERGY_T1:KR,EXPORTED_REACTIVE_ENERGY_T2:wR,EXPORTED_REACTIVE_ENERGY_T3:bR,EXPORTED_REACTIVE_ENERGY_T4:ZR,HOUR_MINUTE_SECOND:dO,MAGNET_INDUCTION:GO,MAX_ACTIVE_POWER_DAY_T1:pi,MAX_ACTIVE_POWER_DAY_T2:mi,MAX_ACTIVE_POWER_DAY_T3:yi,MAX_ACTIVE_POWER_DAY_T4:Hi,MAX_ACTIVE_POWER_MONTH_T1:Gi,MAX_ACTIVE_POWER_MONTH_T2:Ui,MAX_ACTIVE_POWER_MONTH_T3:Xi,MAX_ACTIVE_POWER_MONTH_T4:Fi,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:aO,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:eO,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:tO,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:EO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:_O,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:vO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:nO,MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:AO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:NO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:CO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:uO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:DO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:SO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:IO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:MO,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:lO,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:TO,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:RO,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:iO,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:OO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:oO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:sO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:fO,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:PO,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:Qi,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:ji,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:zi,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:ki,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:$i,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:qi,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:Ji,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:rO,MAX_REACTIVE_POWER_DAY_T1:Wi,MAX_REACTIVE_POWER_DAY_T2:Yi,MAX_REACTIVE_POWER_DAY_T3:Bi,MAX_REACTIVE_POWER_DAY_T4:xi,MAX_REACTIVE_POWER_MONTH_T1:Ki,MAX_REACTIVE_POWER_MONTH_T2:wi,MAX_REACTIVE_POWER_MONTH_T3:bi,MAX_REACTIVE_POWER_MONTH_T4:Zi,NEGATIVE_REACTIVE_ENERGY_T1:yR,NEGATIVE_REACTIVE_ENERGY_T2:HR,NEGATIVE_REACTIVE_ENERGY_T3:GR,NEGATIVE_REACTIVE_ENERGY_T4:UR,OPTOPORT_SPEED:HO,POWER_FACTOR_PHASE_A:Di,POWER_FACTOR_PHASE_B:Si,POWER_FACTOR_PHASE_C:Ii,POWER_THRESHOLD_T1:VO,POWER_THRESHOLD_T2:pO,POWER_THRESHOLD_T3:mO,POWER_THRESHOLD_T4:yO,REACTIVE_ENERGY_T1:cR,REACTIVE_ENERGY_T2:LR,REACTIVE_ENERGY_T3:VR,REACTIVE_ENERGY_T4:pR,REACTIVE_POWER_QMINUS_PHASE_A:Pi,REACTIVE_POWER_QMINUS_PHASE_B:Ni,REACTIVE_POWER_QMINUS_PHASE_C:Ci,REACTIVE_POWER_QPLUS_PHASE_A:Oi,REACTIVE_POWER_QPLUS_PHASE_B:oi,REACTIVE_POWER_QPLUS_PHASE_C:si,SET_ALL_SEGMENT_DISPLAY:DR,SOFTWARE_VERSION:SR,SUPPLY_FREQUENCY:vi,TOTAL_ACTIVE_ENERGY:IR,TOTAL_ACTIVE_POWER:ni,TOTAL_APPARENT_POWER_QMINUS:hi,TOTAL_APPARENT_POWER_QPLUS:Mi,TOTAL_EXPORTED_ACTIVE_ENERGY:XR,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:QR,TOTAL_EXPORTED_REACTIVE_ENERGY:xR,TOTAL_NEGATIVE_REACTIVE_ENERGY:mR,TOTAL_POWER_FACTOR:ui,TOTAL_REACTIVE_ENERGY:hR,TOTAL_REACTIVE_POWER_QMINUS:fi,TOTAL_REACTIVE_POWER_QPLUS:ii,VOLTAGE_IN_PHASE_A:ei,VOLTAGE_IN_PHASE_B:ti,VOLTAGE_IN_PHASE_C:Ei,VOLTAGE_TRANSFORMATION_RATIO:cO});Br(UO);var XO=2400;var FO=9600;var WO={plc:{0:FO,2:XO,4:FO},optoport:{0:XO,2:XO,4:FO}};({plc:Br(WO.plc),optoport:Br(WO.optoport)});var YO=1;var BO=4;function xO(r,a){var e=a.wh,t=a.vari,E=a.vare;var _=1+BO;var v=r;for(var n=0;n<_E;n++){v=Na(v,1,n+_,Number(!!e[n]&&!!t[n]&&!!E[n]))}return v}var KO=function(r,a){var e=a.energyType,t=a.energies;if(e){var E=xO(e,t);var _=E>>BO;r.setUint8(E);for(var v=0;v<_E;v++){var n=!!Pa(_,1,v+1);if(n){r.setInt32(t.wh[v]);r.setInt32(t.vari[v]);r.setInt32(t.vare[v])}}return}for(var A=0;A<_E;A++){r.setInt32(t.wh[A]);r.setInt32(t.vari[A]);r.setInt32(t.vare[A])}};var wO=function(r,a){var e=a.date.year<<1|a.date.month>>3&1;var t=a.date.month<<5&224|a.date.date&31;r.setUint8(e);r.setUint8(t);r.setUint8(a.demandParam);r.setUint16(a.firstIndex);r.setUint8(a.count);r.setUint8(a.period)};var bO=function(r){var a=r.energies,e=a.wh,t=a.vari,E=a.vare;if(r?.energyType){var _=[].concat(T(e),T(t),T(E)).filter(function(r){return r!==null}).length;return AE+YO+_*nE}return AE+nE*_E};var ZO=G;var QO=function(r){var a=new Oa(bO(r),false);DE(a,r.date);KO(a,r);return sa(ZO,a.data)};var jO=ZE;var zO=function(r){var a=r.version.split("").map(function(r){return r.charCodeAt(0)});return sa(jO,a)};var kO=Dr;var $O=function(r){var a=r.event,e=r.index,t=r.date,E=r.count;return sa(kO,[a,e,t.year,t.month,t.date,t.hours,t.minutes,t.seconds,E])};var qO=7;var JO=Gr;var ro=function(r){var a=new Oa(qO+r.count*2,false);wO(a,r);r.demands.forEach(function(r){return a.setUint16(r)});return sa(JO,a.data)};var ao=145;var eo=30;var to=function(r){if(r[0]!==eo){return{}}var a=r[1];var e=r[3];var t=r.slice(4,a+2);if(e===ao){return t}return null};var Eo;var _o=(Eo={},t(t(t(t(t(t(t(t(t(t(Eo,Y_,x_),K_,w_),b_,Q_),j_,k_),$_,J_),rv,av),tv,Ev),_v,vv),ZO,QO),jO,zO),t(t(Eo,kO,$O),JO,ro));fromBytes=u(_o,xr);getDataSegment=to})();
//#endregion


/*
  Incoming arguments:
    * payload - array of bytes
    * metadata - key/value object
*/

var segment = getDataSegment(payload);
var message = null;

// just a single data segment
if ( segment ) {
    message = fromBytes(segment);

    // there may be a message.error (e.g. mismatched LRC)
    // in that case message.message will contain everything parsed successfully
    // it should be used with caution
}

var result = {
    // required property, set to real device name from payload/metadata depending on integration
    // empty value throw an error in converter
    deviceName: '',

    deviceType: 'Water Meter',
    attributes: {
        model: 'Device Model',
        serialNumber: 'SN111',
        manufacturer: 'Device Manufacturer'
    },
    telemetry: {
        // telemetry display only primitive, i.e. string and numbers
        // for example only!
        message: JSON.stringify(message.message || message)
    },
    metadata: metadata
};

return result;
