// IMPORTANT!!!
// This example only for default uplink data converter.
// Data converters for other integrations use different input and result.
// Find example of uplink data converter for your integration and edit usage of payload and result
// Integrations list: https://thingsboard.io/docs/user-guide/integrations/


//#region [autogenerated jooby-codec bundle from index.js]
var fromBytes,getDataSegment;(function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function e(t){if(Array.isArray(t))return t}function r(e){if(Array.isArray(e))return t(e)}function a(t,e,r){return(e=T(e))in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r,t}function n(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function i(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var a,n,i,E,s=[],_=true,o=false;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;_=!1}else for(;!(_=(a=i.call(r)).done)&&(s.push(a.value),s.length!==e);_=!0);}catch(t){o=true,n=t}finally{try{if(!_&&null!=r.return&&(E=r.return(),Object(E)!==E))return}finally{if(o)throw n}}return s}}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t,r){return e(t)||i(t,r)||h(t,r)||E()}function o(t){return e(t)||n(t)||h(t)||E()}function v(t){return r(t)||n(t)||h(t)||s()}function A(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function T(t){var e=A(t,"string");return"symbol"==typeof e?e:e+""}function h(e,r){if(e){if("string"==typeof e)return t(e,r);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,r):void 0}}var R=function(t){var e=t.trim();if(!e){return[]}e=e.replace(/0x/g,"").split(/\s+/).map((function(t){return t.padStart(2,"0")})).join("");if(e.length%2!==0){e="0".concat(e)}var r=e.length/2;var a=new Array(r);for(var n=0;n<r;n++){a[n]=parseInt(e.substring(n*2,n*2+2),16)}return a};var u={separator:" ",prefix:""};var f=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=Object.assign({},u,e),a=r.separator,n=r.prefix;return t.map((function(t){return"".concat(n).concat(t.toString(16).padStart(2,"0"))})).join(a)};var g=0;var O=1;var l=3;var P=4;var d=5;var c=7;var U=8;var I=9;var p=13;var N=15;var M=16;var C=17;var D=18;var S=19;var m=20;var y=21;var L=22;var V=23;var F=24;var Y=25;var x=28;var H=30;var W=31;var X=40;var G=41;var w=42;var B=44;var b=45;var K=46;var z=47;var Q=49;var Z=50;var j=51;var k=52;var q=53;var $=54;var J=57;var tt=58;var et=59;var rt=60;var at=61;var nt=62;var it=65;var Et=70;var st=74;var _t=75;var ot=79;var vt=80;var At=82;var Tt=83;var ht=88;var Rt=89;var ut=91;var ft=92;var gt=93;var Ot=94;var lt=100;var Pt=109;var dt=111;var ct=112;var Ut=113;var It=114;var pt=118;var Nt=122;var Mt=Object.freeze({__proto__:null,activateRatePlan:S,getBuildVersion:ct,getCorrectTime:nt,getCriticalEvent:it,getCurrentStatusMeter:J,getCurrentValues:p,getDateTime:c,getDayDemand:L,getDayDemandExport:ot,getDayMaxDemand:Q,getDayMaxDemandExport:ht,getDayMaxDemandPrevious:st,getDayProfile:et,getDemand:pt,getDeviceId:d,getDeviceType:P,getDisplayParam:Ot,getEnergy:N,getEnergyDayPrevious:l,getEnergyExport:ut,getEnergyExportDayPrevious:vt,getEventStatus:O,getEvents:j,getEventsCounters:k,getExtendedCurrentValues:tt,getExtendedCurrentValues2:b,getHalfHourDemand:y,getHalfHourDemandExport:Tt,getHalfHourDemandPrevious:_t,getHalfhoursEnergies:dt,getMagneticFieldThreshold:Pt,getMeterInfo:Nt,getMonthDemand:V,getMonthDemandExport:At,getMonthMaxDemand:Z,getMonthMaxDemandExport:Rt,getOperatorParameters:H,getOperatorParametersExtended3:Ut,getRatePlanInfo:B,getSaldo:G,getSaldoParameters:K,getSeasonProfile:rt,getSpecialDay:at,getVersion:X,prepareRatePlan:m,resetPowerMaxDay:q,resetPowerMaxMonth:$,runTariffPlan:Et,setAccessKey:I,setCorrectDateTime:ft,setCorrectTime:x,setDateTime:U,setDayProfile:M,setDisplayParam:gt,setOperatorParameters:W,setOperatorParametersExtended3:It,setSaldo:w,setSaldoParameters:z,setSeasonProfile:C,setSpecialDay:D,setSpecialOperation:lt,turnRelayOff:Y,turnRelayOn:F});var Ct=120;var Dt=121;var St=254;var mt=Object.freeze({__proto__:null,activateRatePlan:S,errorResponse:St,getBuildVersion:ct,getCorrectTime:nt,getCriticalEvent:it,getCurrentStatusMeter:J,getCurrentValues:p,getDateTime:c,getDayDemand:L,getDayDemandExport:ot,getDayEnergies:Ct,getDayMaxDemand:Q,getDayMaxDemandExport:ht,getDayMaxDemandPrevious:st,getDayMaxPower:Dt,getDayProfile:et,getDemand:pt,getDeviceId:d,getDeviceType:P,getDisplayParam:Ot,getEnergy:N,getEnergyDayPrevious:l,getEnergyExport:ut,getEnergyExportDayPrevious:vt,getEventStatus:O,getEvents:j,getEventsCounters:k,getExtendedCurrentValues:tt,getExtendedCurrentValues2:b,getHalfHourDemand:y,getHalfHourDemandExport:Tt,getHalfHourDemandPrevious:_t,getHalfhoursEnergies:dt,getMagneticFieldThreshold:Pt,getMeterInfo:Nt,getMonthDemand:V,getMonthDemandExport:At,getMonthMaxDemand:Z,getMonthMaxDemandExport:Rt,getOperatorParameters:H,getOperatorParametersExtended3:Ut,getRatePlanInfo:B,getSaldo:G,getSaldoParameters:K,getSeasonProfile:rt,getSpecialDay:at,getVersion:X,prepareRatePlan:m,resetPowerMaxDay:q,resetPowerMaxMonth:$,runTariffPlan:Et,setAccessKey:I,setCorrectDateTime:ft,setCorrectTime:x,setDateTime:U,setDayProfile:M,setDisplayParam:gt,setOperatorParameters:W,setOperatorParametersExtended3:It,setSaldo:w,setSaldoParameters:z,setSeasonProfile:C,setSpecialDay:D,setSpecialOperation:lt,turnRelayOff:Y,turnRelayOn:F});var yt=function(t){var e={};for(var r in t){var a=t[r];e[a]=r}return e};yt(mt);var Lt=S;var Vt=0;var Ft=function(t){if(t.length!==Vt){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Yt=1;var xt=2;var Ht=3;var Wt=4;var Xt=Math.log,Gt=Math.pow,wt=Math.LN2;var Bt=function(t,e,r,a,n){var i,E,s=n*8-a-1,_=(1<<s)-1,o=_>>1,v=-7,A=r?n-1:0,T=r?-1:1,h=t[e+A];A+=T;i=h&(1<<-v)-1;h>>=-v;v+=s;for(;v>0;i=i*256+t[e+A],A+=T,v-=8);E=i&(1<<-v)-1;i>>=-v;v+=a;for(;v>0;E=E*256+t[e+A],A+=T,v-=8);if(i===0){i=1-o}else if(i===_){return E?NaN:h?-Infinity:Infinity}else{E=E+Gt(2,a);i=i-o}return(h?-1:1)*E*Gt(2,i-a)};var bt=function(t,e,r,a,n,i){var E,s,_,o=i*8-n-1,v=(1<<o)-1,A=v>>1,T=n===23?Gt(2,-24)-Gt(2,-77):0,h=a?0:i-1,R=a?1:-1,u=r<0||r===0&&1/r<0?1:0;r<0&&(r=-r);if(r!==r||r===Infinity){s=r!==r?1:0;E=v}else{E=Xt(r)/wt|0;if(r*(_=Gt(2,-E))<1){E--;_*=2}if(E+A>=1){r+=T/_}else{r+=T*Gt(2,1-A)}if(r*_>=2){E++;_/=2}if(E+A>=v){s=0;E=v}else if(E+A>=1){s=(r*_-1)*Gt(2,n);E=E+A}else{s=r*Gt(2,A-1)*Gt(2,n);E=0}}for(;n>=8;t[e+h]=s&255,h+=R,s/=256,n-=8);E=E<<n|s;o+=n;for(;o>0;t[e+h]=E&255,h+=R,E/=256,o-=8);t[e+h-R]|=u*128};var Kt=[1,0];var zt=[2,1,0];var Qt=[3,2,1,0];var Zt=[0,1];var jt=[0,1,2];var kt=[0,1,2,3];var qt=function(t,e){return t[e]};var $t=function(t,e,r){var a=r?Zt:Kt;var n=t[e+a[0]];var i=t[e+a[1]]<<8;return n|i};var Jt=function(t,e,r){var a=r?jt:zt;var n=t[e+a[0]];var i=t[e+a[1]]<<8;var E=t[e+a[2]]<<16;return n|i|E};var te=function(t,e,r){var a=r?kt:Qt;var n=t[e+a[3]]*16777216;var i=t[e+a[2]]*65536;var E=t[e+a[1]]*256;var s=t[e+a[0]];return n+i+E+s};var ee=function(t,e,r){t[e]=r&255};var re=function(t,e,r,a){var n=a?Zt:Kt;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255};var ae=function(t,e,r,a){var n=a?jt:zt;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255;t[e+n[2]]=r>>>16&255};var ne=function(t,e,r,a){var n=a?kt:Qt;t[e+n[0]]=r&255;t[e+n[1]]=r>>>8&255;t[e+n[2]]=r>>>16&255;t[e+n[3]]=r>>>24&255};function ie(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(typeof t==="number"){var r=new Array(t).fill(0);this.data=r}else{this.data=t}this.offset=0;this.isLittleEndian=e}ie.prototype={toUint8Array:function(){return this.data},seek:function(t){if(t<0||t>=this.data.length){throw new Error("Invalid position.")}this.offset=t},setInt8:function(t){ee(this.data,this.offset,t<0?t|256:t);this.offset+=Yt},getInt8:function(){var t=qt(this.data,this.offset);this.offset+=Yt;return t&128?t^-256:t},setUint8:function(t){ee(this.data,this.offset,t);this.offset+=Yt},getUint8:function(){var t=qt(this.data,this.offset);this.offset+=Yt;return t},setInt16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;re(this.data,this.offset,t<0?t|65536:t,e);this.offset+=xt},getInt16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=$t(this.data,this.offset,t);this.offset+=xt;return e&32768?e^-65536:e},setUint16:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;re(this.data,this.offset,t,e);this.offset+=xt},getUint16:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=$t(this.data,this.offset,t);this.offset+=xt;return e},setInt24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ae(this.data,this.offset,t<0?t|16777216:t,e);this.offset+=Ht},getInt24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=Jt(this.data,this.offset,t);this.offset+=Ht;return e&8388608?e^-16777216:e},setUint24:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ae(this.data,this.offset,t,e);this.offset+=Ht},getUint24:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=Jt(this.data,this.offset,t);this.offset+=Ht;return e},setInt32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ne(this.data,this.offset,t<0?t|4294967296:t,e);this.offset+=Wt},getInt32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=te(this.data,this.offset,t);this.offset+=Wt;return e&2147483648?e^-4294967296:e},setUint32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;ne(this.data,this.offset,t,e);this.offset+=Wt},getUint32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=te(this.data,this.offset,t);this.offset+=Wt;return e},setFloat32:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.isLittleEndian;bt(this.data,this.offset,t,e,23,4);this.offset+=Wt},getFloat32:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLittleEndian;var e=Bt(this.data,this.offset,t,23,4);this.offset+=Wt;return e},setString:function(t){this.setUint8(t.length);for(var e=0;e<t.length;++e){this.setUint8(t.charCodeAt(e))}},getString:function(){var t=this.getUint8();var e=this.offset+t;var r=[];while(this.offset<e){r.push(String.fromCharCode(this.getUint8()))}return r.join("")},getBytesToOffset:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;return this.data.slice(0,t)},getBytesLeft:function(){return this.getBytes(this.bytesLeft)},getBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;this.offset=e+t;return this.data.slice(e,this.offset)},setBytes:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.offset;var r=this.data;r.splice.apply(r,[e,t.length].concat(v(t)));this.data=r;this.offset=e+t.length}};Object.defineProperties(ie.prototype,{size:{get:function(){return this.data.length}},isEmpty:{get:function(){if(this.offset>this.data.length){throw new Error("current offset ".concat(this.offset," is outside the bounds of the buffer"))}return this.data.length-this.offset===0}},bytesLeft:{get:function(){return this.data.length-this.offset}},position:{get:function(){return this.offset}}});var Ee=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=0;for(var a in e){if(a in t&&e[a]){r|=t[a]}}return r};var se=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r={};for(var a in t){r[a]=(e&t[a])!==0}return r};var _e=function(t,e,r){return(1<<e)-1&t>>r-1};var oe=function(t,e,r,a){var n=(1<<e)-1<<r-1;var i=a;var E=t;E&=~n;i<<=r-1;E|=i;return E};var ve="x";var Ae=[".","1","3","R","M"];var Te=[".","A","G","R","T","D"];var he=[".","0","1","2","3","4","5"];var Re=[".","A","B","C","D","E","F"];var ue=[".","A","B","C","D","E","F","H","K","G"];var fe=[".","1","2","3","4"];var ge=[".","L","M","Z","K"];var Oe=[".","0","1","2","3","4","5","6","7","8","9"];var le=[".","D","B","C","E","P","R","O","L","F","S","M","Y","G","N","U"];var Pe=[".","0","1","2","3","4","5","6","P","R","L","E","G","-","/"];var de=[".","H","A","T","0","0","0","0","0","1","2","3","4","0","0","0"];var ce=[".","0","1","2","3","4","5","6","7","8","I","X","G","W","M","-"];var Ue={typeMeterG:1<<0,downgradedToA:1<<4,supportMeterInfo:1<<6};var Ie={typeMeterTransformer:1<<0,downgradedToR:1<<3,typeMeterG:1<<4,supportMeterInfo:1<<6,reactiveRPlusRMinus:1<<7};var pe=function(t){return[t>>4,t&15]};var Ne=function(t){var e=new Array(t.length*2).fill(0);t.forEach((function(t,r){var a=pe(t),n=_(a,2),i=n[0],E=n[1];e[r*2]=i;e[r*2+1]=E}));return e};var Me=function(t){var e=[];t.forEach((function(t){return e.push(t.toString(16))}));if(t.length&1){e.push("0")}return R(e.join(""))};var Ce=function(t){if(t.length!==14&&t.length!==16){throw new Error("Device type bytes wrong size")}var e=["MTX "];e.push(Ae[t[0]]??ve);e.push(Te[t[1]]??ve);e.push(he[t[2]]??ve);e.push(he[t[3]]??ve);e.push(".");e.push(Re[t[4]]??ve);e.push(ue[t[5]]??ve);e.push(".");e.push(fe[t[6]]??ve);e.push(ge[t[7]]??ve);var r=t[8];e.push(Oe[t[9]]??ve);e.push("-");var a;if(t.length<14||t[12]===0&&t[13]===0){e.push(le[t[10]]??ve);a=11}else if(t[13]===0){e.push(le[t[10]]??ve);e.push(le[t[11]]??ve);a=12}else{e.push(le[t[10]]??ve);e.push(le[t[11]]??ve);e.push(le[t[12]]??ve);a=13}var n=t[a];if(n&&n!==0){e.push(de[n]??ve)}return{type:e.join(""),revision:r}};var De=function(t,e,r){var a=[];if(t.length<11){throw new Error("Wrong format")}a.push(Ae.indexOf(t[0]));a.push(Te.indexOf(t[1]));a.push(he.indexOf(t[2]));a.push(he.indexOf(t[3]));if(t[4]!=="."){throw new Error("Wrong format")}a.push(Re.indexOf(t[5]));a.push(ue.indexOf(t[6]));if(t[7]!=="."){throw new Error("Wrong format")}a.push(fe.indexOf(t[8]));a.push(ge.indexOf(t[9]));a.push(r??0);a.push(Oe.indexOf(t[10]));if(t[11]!=="-"){throw new Error("Wrong format")}var n=t.length>13?t.length-1:t.length;for(var i=12;i<n;i++){a.push(le.indexOf(t[i]))}if(n<t.length){a.push(de.indexOf(t[n]))}var E=Me(a);var s=new Array(9).fill(0);s[0]=0;for(var _=0;_<E.length;_++){s[_+(E.length<8?1:0)]=E[_]}return s};var Se=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=["MTX "];var r=t[1]===5?"-":" ";e.push(Ae[t[0]]??ve);e.push(Te[t[1]]??ve);e.push(r);for(var a=2;a<t.length;a++){if(t[a]!==0){e.push(Pe[t[a]]??ve)}}return{type:e.join("")}};var me=function(t){if(t.length<3){throw new Error("Wrong format")}var e=[];e.push(Ae.indexOf(t[0]));e.push(Te.indexOf(t[1]));for(var r=3;r<t.length;r++){e.push(Pe.indexOf(t[r]))}var a=Me(e);if(a.length===8){return a}if(a.length>8){throw new Error("Wrong format")}var n=new Array(8).fill(0);for(var i=0;i<a.length;i++){n[i]=a[i]}return n};var ye=function(t){if(t.length<14){throw new Error("The buffer is too small")}var e=[];e.push(Ae[t[0]]??ve);for(var r=1;r<t.length;r++){if(t[r]!==0){e.push(ce[t[r]]??ve)}}return{type:e.join("")}};var Le=function(t){if(t.length<1){throw new Error("Wrong format")}var e=[];e.push(Ae.indexOf(t[0]));for(var r=1;r<t.length;r++){e.push(ce.indexOf(t[r]))}var a=Me(e);var n=new Array(8).fill(0);for(var i=0;i<a.length&&i<8;i++){n[i]=a[i]}return n};var Ve=function(t){if(t.length!==9){throw new Error("The buffer is too small")}var e;var r=[0,5,6,7,9,127,239];var a=r.indexOf(t[0])!==-1?2:0;var n=Ne(t.slice(0,8));var i=n[a];var E=Ae[i];if(E==="1"||E==="3"){e={...Ce(n.slice(a)),descriptor:E==="1"?{meterType:"mtx1",...se(Ue,t[8])}:{meterType:"mtx3",...se(Ie,t[8])}}}else{e=E==="M"?ye(n):Se(n)}return e};var Fe=function(t,e){var r=t.type,a=t.revision,n=t.descriptor;if(!r.startsWith("MTX ")){throw new Error("Wrong format")}var i;var E=r.substring(4);var s=r[4];if(s==="1"||s==="3"){i=De(E,e,a)}else{i=s==="M"?Le(E):me(E)}if(n?.meterType){i[8]=n.meterType==="mtx1"?Ee(Ue,n):Ee(Ie,n)}else{i[8]=0}return i};var Ye=80;var xe=81;var He=82;var We=83;var Xe=84;var Ge=85;var we=86;var Be=87;var be=88;var Ke=89;var ze=90;var Qe=91;var Ze=255;var je=Object.freeze({__proto__:null,DATA_REQUEST:Ye,DATA_RESPONSE:xe,FRAGMENT_REQUEST:ze,FRAGMENT_RESPONSE:Qe,IDENT_REQUEST:He,IDENT_RESPONSE:We,INVALID:Ze,L2_CHECK_ADDRESS_REQUEST:we,L2_CHECK_ADDRESS_RESPONSE:Be,L2_RM_ADDRESS_REQUEST:be,L2_RM_ADDRESS_RESPONSE:Ke,L2_SET_ADDRESS_REQUEST:Xe,L2_SET_ADDRESS_RESPONSE:Ge});var ke=yt(je);var qe=1;var $e=2;var Je=3;var tr=16;var er=17;var rr=18;var ar=19;var nr=20;var ir=21;var Er=32;var sr=33;var _r=34;var or=35;var vr=36;var Ar=37;var Tr=38;var hr=39;var Rr=40;var ur=41;var fr=49;var gr=50;var Or=51;var lr=52;var Pr=53;var dr=54;var cr=55;var Ur=56;var Ir=57;var pr=64;var Nr=65;var Mr=66;var Cr=67;var Dr=68;var Sr=69;var mr=70;var yr=71;var Lr=72;var Vr=73;var Fr=74;var Yr=75;var xr=76;var Hr=77;var Wr=78;var Xr=79;var Gr=80;var wr=81;var Br=82;var br=83;var Kr=84;var zr=85;var Qr=86;var Zr=87;var jr=88;var kr=89;var qr=96;var $r=97;var Jr=98;var ta=99;var ea=100;var ra=101;var aa=102;var na=103;var ia=104;var Ea=105;var sa=112;var _a=113;var oa=114;var va=115;var Aa=116;var Ta=117;var ha=118;var Ra=119;var ua=120;var fa=121;var ga=122;var Oa=123;var la=124;var Pa=125;var da=144;var ca=145;var Ua=147;var Ia=148;var pa=156;var Na=157;var Ma=158;var Ca=159;var Da=160;var Sa=161;var ma=162;var ya=176;var La=177;var Va=178;var Fa=179;var Ya=180;var xa=181;var Ha=182;var Wa=183;var Xa=208;var Ga=224;var wa=225;var Ba=226;var ba=227;var Ka=228;var za=229;var Qa=230;var Za=Object.freeze({__proto__:null,ACCESS_CLOSED:tr,ACCPARAM_BAD:oa,ACCPARAM_EXT_BAD:va,BAD_TEST_EEPROM:ia,BAD_TEST_FRAM:Ea,BAT_FAULT:br,BAT_OK:Br,BIPOLAR_POWER_FAULT:Ya,BIPOLAR_POWER_OK:xa,BLOCK_TARIFF_BAD:Ta,CALC_PERIOD_BAD:Aa,CALFLAG_RESET:na,CALFLAG_SET:aa,CALIBR_PARAM_BAD:ha,CAL_FAULT:zr,CAL_OK:Kr,CASE_CLOSE:ar,CASE_MODULE_CLOSE:Pa,CASE_MODULE_OPEN:la,CASE_OPEN:rr,CASE_TERMINAL_CLOSE:Oa,CASE_TERMINAL_OPEN:ga,CHANGE_ACCESS_KEY0:Er,CHANGE_ACCESS_KEY1:sr,CHANGE_ACCESS_KEY2:_r,CHANGE_ACCESS_KEY3:or,CHANGE_COR_TIME:ur,CHANGE_PAR_LOCAL:vr,CHANGE_PAR_REMOTE:Ar,CHANGE_TARIFF_TBL:gr,CLOCK_FAULT:Zr,CLOCK_OK:Qr,CMD_CHANGE_TIME:Tr,CMD_RELAY_2_OFF:$r,CMD_RELAY_2_ON:qr,CMD_RELAY_OFF:Rr,CMD_RELAY_ON:hr,CROSSZERO_ENT1:Jr,CROSSZERO_ENT2:ta,CROSSZERO_ENT3:ea,CROSSZERO_ENT4:ra,CROSSZERO_EXP_ENT1:Ma,CROSSZERO_EXP_ENT2:Ca,CROSSZERO_EXP_ENT3:Da,CROSSZERO_EXP_ENT4:Sa,CURRENT_UNEQUIL_FAULT:Va,CURRENT_UNEQUIL_OK:Fa,EM_MAGNETIC_OFF:La,EM_MAGNETIC_ON:ya,ENERGY_REG_FAULT:qe,ENERGY_REG_OVERFLOW:fr,ERR_ACCESS:er,F_MAX_OK:Lr,F_MAX_OVER:Vr,F_MIN_OK:Fr,F_MIN_OVER:Yr,I_MAX_OK:xr,I_MAX_OVER:Hr,MAGNETIC_OFF:ir,MAGNETIC_ON:nr,NVRAM_FAULT:Xa,OP_PAR_FAULT:Je,POWERSALDO_OK:Gr,POWERSALDO_OVER:wr,POWER_A_OFF:jr,POWER_A_ON:kr,POWER_OVER_RELAY_OFF:Na,P_MAX_OK:Wr,P_MAX_OVER:Xr,RELAY_HARD_BAD_OFF:da,RELAY_HARD_BAD_ON:Ua,RELAY_HARD_OFF:Ia,RELAY_HARD_ON:ca,RELAY_OFF:cr,RELAY_ON:dr,RESET_EM_FLAG:Ha,RESET_MAGN_FLAG:Wa,RESTART:Ur,SALDO_EN_BAD:ua,SALDO_PARAM_BAD:_a,SET_DEMAND_EN_10MIN:ba,SET_DEMAND_EN_15MIN:Ka,SET_DEMAND_EN_1MIN:Ga,SET_DEMAND_EN_30MIN:za,SET_DEMAND_EN_3MIN:wa,SET_DEMAND_EN_5MIN:Ba,SET_DEMAND_EN_60MIN:Qa,SET_NEW_SALDO:sa,SET_SALDO_PARAM:pa,SET_TARIFF_TBL:Or,SUMMER_TIME:lr,TIME_CORRECT:fa,TIME_CORRECT_NEW:ma,T_MAX_OK:Dr,T_MAX_OVER:Sr,T_MIN_OK:mr,T_MIN_OVER:yr,VENDOR_PAR_FAULT:$e,V_MAX_OK:pr,V_MAX_OVER:Nr,V_MIN_OK:Mr,V_MIN_OVER:Cr,WD_RESTART:Ir,WINTER_SUMMER_BAD:Ra,WINTER_TIME:Pr});var ja=yt(Za);var ka={type:Ye,destination:65535,source:65534};var qa=11;var $a=7;var Ja=4;var tn=48;var en=50;var rn=3+tn*2;var an={SET_ALL_SEGMENT_DISPLAY:1,SOFTWARE_VERSION:2,TOTAL_ACTIVE_ENERGY:4,ACTIVE_ENERGY_T1:8,ACTIVE_ENERGY_T2:16,ACTIVE_ENERGY_T3:32,ACTIVE_ENERGY_T4:64,ACTIVE_POWER_PER_PHASE:128,ACTIVE_POWER_IN_NEUTRAL:256,CURRENT_IN_PHASE:512,CURRENT_IN_NEUTRAL:1024,VOLTAGE:2048,HOUR_MINUTE_SECOND:4096,DATE_MONTH_YEAR:8192,TOTAL_EXPORTED_ACTIVE_ENERGY:16384,EXPORTED_ACTIVE_ENERGY_T1:32768,EXPORTED_ACTIVE_ENERGY_T2:65536,EXPORTED_ACTIVE_ENERGY_T3:131072,EXPORTED_ACTIVE_ENERGY_T4:262144,POWER_COEFFICIENT_PHASE_A:524288,POWER_COEFFICIENT_PHASE_B:1048576,BATTERY_VOLTAGE:2097152,POWER_THRESHOLD_T1:4194304,POWER_THRESHOLD_T2:8388608,POWER_THRESHOLD_T3:16777216,POWER_THRESHOLD_T4:33554432,CURRENT_BALANCE:536870912};var nn={...an,AUTO_SCREEN_SCROLLING:2147483648};var En={...an,MAGNET_INDUCTION:134217728,OPTOPORT_SPEED:1073741824,SORT_DISPLAY_SCREENS:2147483648};var sn={RELAY_ON_Y:1,RELAY_ON_CENTER:2,RELAY_ON_PB:4,RELAY_ON_TARIFF_1:8,RELAY_ON_TARIFF_2:16,RELAY_ON_TARIFF_3:32,RELAY_ON_TARIFF_4:64,RELAY_ON_V_GOOD:128};var _n={RELAY_OFF_Y:1,RELAY_OFF_CENTER:2,RELAY_OFF_TARIFF_1:4,RELAY_OFF_TARIFF_2:8,RELAY_OFF_TARIFF_3:16,RELAY_OFF_TARIFF_4:32,RELAY_OFF_I_LIMIT:64,RELAY_OFF_V_BAD:128};var on={RELAY_OFF_LIM_TARIFF_1:2,RELAY_OFF_LIM_TARIFF_2:4,RELAY_OFF_LIM_TARIFF_3:8,RELAY_OFF_LIM_TARIFF_4:16,RELAY_OFF_PF_MIN:32};var vn={RELAY_ON_TIMEOUT:1,RELAY_ON_SALDO:2,RELAY_OFF_SALDO:4,RELAY_OFF_SALDO_SOFT:8,RELAY_OFF_MAGNET:16,RELAY_ON_MAGNET_TIMEOUT:32,RELAY_ON_MAGNET_AUTO:64};var An={RELAY_OFF_UNEQUAL_CURRENT:1,RELAY_ON_UNEQUAL_CURRENT:2,RELAY_OFF_BIPOLAR_POWER:4,RELAY_ON_BIPOLAR_POWER:8};var Tn={BLOCK_KEY_OPTOPORT:2,MAGNET_SCREEN_CONST:32};var hn={CASE_OPEN:2**0,MAGNETIC_ON:2**1,PARAMETERS_UPDATE_REMOTE:2**2,PARAMETERS_UPDATE_LOCAL:2**3,RESTART:2**4,ERROR_ACCESS:2**5,TIME_SET:2**6,TIME_CORRECT:2**7,DEVICE_FAILURE:2**8,CASE_TERMINAL_OPEN:2**9,CASE_MODULE_OPEN:2**10,TARIFF_TABLE_SET:2**11,TARIFF_TABLE_GET:2**12,PROTECTION_RESET_EM:2**13,PROTECTION_RESET_MAGNETIC:2**14};var Rn={RELAY_STATE:2**0,RELAY_UBAD:2**1,RELAY_UNEQ_CURRENT:2**4,RELAY_OFF_CENTER:2**5,RELAY_IMAX:2**6,RELAY_PMAX:2**7};var un={RELAY_COSFI:2**0,RELAY_SALDO_OFF_FLAG:2**1,RELAY_UNEQUIL_CURRENT_OFF:2**2,RELAY_BIPOLAR_POWER_OFF:2**3,RELAY_SALDO_OFF_ON_MAX_POWER:2**4,RELAY_HARD_ST1:2**5};var fn={MAXVA:2**0,MINVA:2**1,MAXT:2**2,MINT:2**3,MAXF:2**4,MINF:2**5,MAXIA:2**6,MAXP:2**7};var gn={MAX_POWER_SALDO:2**0,BATTERY_VBAT_BAD:2**1,CLOCK_UNSET:2**3,MIN_COS_FI:2**5};var On={UNEQUIL_CURRENT:2**0,BIPOLAR_POWER:2**1,POWER_A_NEGATIVE:2**6,POWER_B_NEGATIVE:2**7};var ln={RELAY_OFF_LIMIT_P_MINUS_T1:8,RELAY_OFF_LIMIT_P_MINUS_T2:16,RELAY_OFF_LIMIT_P_MINUS_T3:32,RELAY_OFF_LIMIT_P_MINUS_T4:64};function Pn(t,e,r){var a=r>>Ja;var n=new Array(Ja).fill(0);n.forEach((function(e,r){var i=!!_e(a,1,r+1);if(i){n[r]=t.getUint32()}else{n[r]=null}}));return n}function dn(t,e,r){var a=1+Ja;var n=e;r.forEach((function(t,e){n=oe(n,1,e+a,Number(!!t))}));t.setUint8(n)}function cn(t){if(t===65535){return{tariff:undefined,energy:undefined}}return{tariff:t>>14&3,energy:t&16383}}function Un(t,e){var r=e.tariff,a=e.energy;if(r!==undefined&&a!==undefined){t.setUint16(r<<14|a&16383)}else{t.setUint16(65535)}}function In(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;ie.call(this,t,e)}In.prototype=Object.create(ie.prototype);In.prototype.constructor=In;In.getDayProfileFromByte=function(t){return{tariff:_e(t,2,1),isFirstHalfHour:!_e(t,1,3),hour:_e(t,5,4)}};In.getByteFromDayProfile=function(t){var e=0;e=oe(e,2,1,t.tariff);e=oe(e,1,3,+!t.isFirstHalfHour);e=oe(e,5,4,t.hour);return e};In.getDefaultSeasonProfile=function(){return{month:1,date:1,dayIndexes:[0,0,0,0,0,0,0]}};In.getDefaultOperatorParameters=function(){return{vpThreshold:265e3,vThreshold:156e3,ipThreshold:12e4,pmaxThreshold0:31800,pmaxThreshold1:31800,pmaxThreshold2:31800,pmaxThreshold3:31800,speedOptoPort:0,tint:30,calcPeriodDate:1,timeoutDisplay:127,timeoutScreen:7,displaySet:se(nn,2147496324),relaySet4:se(vn,0),relaySet3:se(on,0),relaySet2:se(_n,3),relaySet1:se(sn,3),displayType:0,ten:0,timeoutRefresh:240,deltaCorMin:15,timeoutMagnetOff:5,timeoutMagnetOn:5,define1:se(Tn,0),timeoutRelayOn:1,timeoutRelayKey:0,timeoutRelayAuto:5,timeoutBadVAVB:5,freqMax:55,freqMin:45,phMin:0,year:0,month:0,date:0,energyDecimalPoint:2,typeMeter:0,timeoutIMax:5,timeoutPMax:5,timeoutCos:5,pMaxDef:1,displaySetExt:se(En,137904127),timeoutUneqCurrent:5,timeoutBipolarPower:5,relaySet5:se(An,0),timeCorrectPeriod:24,timeCorrectPassHalfhour:false}};In.getDefaultOperatorParametersExtended3=function(){return{pmaxMinusThreshold0:0,pmaxMinusThreshold1:0,pmaxMinusThreshold2:0,pmaxMinusThreshold3:0,relaySet:se(ln,0)}};In.prototype.getFrameHeader=function(){var t=this.getUint8();var e=ke[t];var r=this.getUint16();var a=this.getUint16();return{type:t,typeName:e,destination:r,source:a}};In.prototype.setFrameHeader=function(t){var e=t.type,r=e===void 0?ka.type:e,a=t.destination,n=a===void 0?ka.destination:a,i=t.source,E=i===void 0?ka.source:i;this.setUint8(r);this.setUint16(n);this.setUint16(E)};In.prototype.getDeviceId=function(){var t=f(this.getBytes(3),{separator:""});var e=this.getUint8();var r=this.getUint8();var a=f(this.getBytes(3),{separator:""});return{manufacturer:t,type:e,year:r,serial:a}};In.prototype.setDeviceId=function(t){var e=t.manufacturer,r=t.type,a=t.year,n=t.serial;this.setBytes(R(e));this.setUint8(r);this.setUint8(a);this.setBytes(R(n))};In.prototype.getDateTime=function(){return{isSummerTime:!!this.getUint8(),seconds:this.getUint8(),minutes:this.getUint8(),hours:this.getUint8(),day:this.getUint8(),date:this.getUint8(),month:this.getUint8(),year:this.getUint8()}};In.prototype.setDateTime=function(t){this.setUint8(t.isSummerTime?1:0);this.setUint8(t.seconds);this.setUint8(t.minutes);this.setUint8(t.hours);this.setUint8(t.day||0);this.setUint8(t.date);this.setUint8(t.month);this.setUint8(t.year)};In.prototype.getTariffPlan=function(){return{id:this.getUint32(),tariffSet:this.getUint8(),activateYear:this.getUint8(),activateMonth:this.getUint8(),activateDay:this.getUint8(),specialProfilesArraySize:this.getUint8(),seasonProfilesArraySize:this.getUint8(),dayProfilesArraySize:this.getUint8()}};In.prototype.setTariffPlan=function(t){this.setUint32(t.id);this.setUint8(t.tariffSet);this.setUint8(t.activateYear);this.setUint8(t.activateMonth);this.setUint8(t.activateDay);this.setUint8(t.specialProfilesArraySize);this.setUint8(t.seasonProfilesArraySize);this.setUint8(t.dayProfilesArraySize)};In.prototype.getTimeCorrectionParameters=function(){return{monthTransitionSummer:this.getUint8(),dateTransitionSummer:this.getUint8(),hoursTransitionSummer:this.getUint8(),hoursCorrectSummer:this.getUint8(),monthTransitionWinter:this.getUint8(),dateTransitionWinter:this.getUint8(),hoursTransitionWinter:this.getUint8(),hoursCorrectWinter:this.getUint8(),isCorrectionNeeded:this.getUint8()===1}};In.prototype.setTimeCorrectionParameters=function(t){this.setUint8(t.monthTransitionSummer);this.setUint8(t.dateTransitionSummer);this.setUint8(t.hoursTransitionSummer);this.setUint8(t.hoursCorrectSummer);this.setUint8(t.monthTransitionWinter);this.setUint8(t.dateTransitionWinter);this.setUint8(t.hoursTransitionWinter);this.setUint8(t.hoursCorrectWinter);this.setUint8(+t.isCorrectionNeeded)};In.prototype.getDayProfile=function(){return In.getDayProfileFromByte(this.getUint8())};In.prototype.setDayProfile=function(t){this.setUint8(In.getByteFromDayProfile(t))};In.prototype.getSeasonProfile=function(){var t=this;return{month:this.getUint8(),date:this.getUint8(),dayIndexes:new Array($a).fill(0).map((function(){return t.getUint8()}))}};In.prototype.setSeasonProfile=function(t){var e=this;this.setUint8(t.month);this.setUint8(t.date);t.dayIndexes.forEach((function(t){return e.setUint8(t)}))};In.prototype.getSpecialDay=function(){return{month:this.getUint8(),date:this.getUint8(),dayIndex:this.getUint8(),isPeriodic:this.getUint8()===0}};In.prototype.setSpecialDay=function(t){this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.dayIndex);this.setUint8(+!t.isPeriodic)};In.prototype.getDeviceType=function(){return Ve(this.getBytes(9))};In.prototype.setDeviceType=function(t){this.setBytes(Fe(t))};In.prototype.getOperatorParameters=function(){var t={vpThreshold:this.getUint32(),vThreshold:this.getUint32(),ipThreshold:this.getUint32(),pmaxThreshold0:this.getUint32(),pmaxThreshold1:this.getUint32(),pmaxThreshold2:this.getUint32(),pmaxThreshold3:this.getUint32(),speedOptoPort:this.getUint8(),tint:this.getUint8(),calcPeriodDate:this.getUint8(),timeoutDisplay:this.getUint8(),timeoutScreen:this.getUint8(),displaySet:se(nn,this.getUint32()),relaySet4:se(vn,this.getUint8()),relaySet3:se(on,this.getUint8()),relaySet2:se(_n,this.getUint8()),relaySet1:se(sn,this.getUint8()),displayType:this.getUint8(),ten:this.getUint8(),timeoutRefresh:this.getUint16(),deltaCorMin:this.getUint8(),timeoutMagnetOff:this.getUint8(),timeoutMagnetOn:this.getUint8(),define1:se(Tn,this.getUint8()),timeoutRelayOn:this.getUint8(),timeoutRelayKey:this.getUint8(),timeoutRelayAuto:this.getUint8(),timeoutBadVAVB:this.getUint8(),freqMax:this.getUint8(),freqMin:this.getUint8(),phMin:this.getUint16(),year:this.getUint8(),month:this.getUint8(),date:this.getUint8(),energyDecimalPoint:this.getUint8(),typeMeter:this.getUint8(),timeoutIMax:this.getUint8(),timeoutPMax:this.getUint8(),timeoutCos:this.getUint8(),pMaxDef:this.getUint8(),displaySetExt:se(En,this.getUint32()),timeoutUneqCurrent:this.getUint8(),timeoutBipolarPower:this.getUint8(),relaySet5:se(An,this.getUint8()),timeCorrectPeriod:0,timeCorrectPassHalfhour:false};var e=this.getUint8();t.timeCorrectPeriod=e&127;t.timeCorrectPassHalfhour=!!(e&128);return t};In.prototype.setOperatorParameters=function(t){var e=t.timeCorrectPeriod|(t.timeCorrectPassHalfhour?128:0);this.setUint32(t.vpThreshold);this.setUint32(t.vThreshold);this.setUint32(t.ipThreshold);this.setUint32(t.pmaxThreshold0);this.setUint32(t.pmaxThreshold1);this.setUint32(t.pmaxThreshold2);this.setUint32(t.pmaxThreshold3);this.setUint8(t.speedOptoPort);this.setUint8(t.tint);this.setUint8(t.calcPeriodDate);this.setUint8(t.timeoutDisplay);this.setUint8(t.timeoutScreen);this.setUint32(Ee(nn,t.displaySet));this.setUint8(Ee(vn,t.relaySet4));this.setUint8(Ee(on,t.relaySet3));this.setUint8(Ee(_n,t.relaySet2));this.setUint8(Ee(sn,t.relaySet1));this.setUint8(t.displayType);this.setUint8(t.ten);this.setUint16(t.timeoutRefresh);this.setUint8(t.deltaCorMin);this.setUint8(t.timeoutMagnetOff);this.setUint8(t.timeoutMagnetOn);this.setUint8(Ee(Tn,t.define1));this.setUint8(t.timeoutRelayOn);this.setUint8(t.timeoutRelayKey);this.setUint8(t.timeoutRelayAuto);this.setUint8(t.timeoutBadVAVB);this.setUint8(t.freqMax);this.setUint8(t.freqMin);this.setUint16(t.phMin);this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.energyDecimalPoint);this.setUint8(t.typeMeter);this.setUint8(t.timeoutIMax);this.setUint8(t.timeoutPMax);this.setUint8(t.timeoutCos);this.setUint8(t.pMaxDef);this.setUint32(Ee(En,t.displaySetExt));this.setUint8(t.timeoutUneqCurrent);this.setUint8(t.timeoutBipolarPower);this.setUint8(Ee(An,t.relaySet5));this.setUint8(e)};In.prototype.getPackedEnergyWithType=function(){var t=this.getUint8();var e=_e(t,Ja,1);var r=Pn(this,e,t);return{energyType:e,energies:r}};In.prototype.setPackedEnergyWithType=function(t){var e=this;var r=t.energyType,a=t.energies;if(r){dn(this,r,a)}a.forEach((function(t){if(t!==null){e.setUint32(t)}}))};In.prototype.getEnergies=function(){var t=this;return new Array(Ja).fill(0).map((function(){return t.getInt32()}))};In.prototype.setEnergies=function(t){var e=this;t.forEach((function(t){return e.setUint32(t)}))};In.prototype.getDate=function(){return{year:this.getUint8(),month:this.getUint8(),date:this.getUint8()}};In.prototype.setDate=function(t){this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date)};In.prototype.getSaldoParameters=function(){var t=this;return{coefficients:new Array(4).fill(0).map((function(){return t.getUint32()})),decimalPointTariff:this.getUint8(),indicationThreshold:this.getInt32(),relayThreshold:this.getInt32(),mode:this.getUint8(),saldoOffTimeBegin:this.getUint8(),saldoOffTimeEnd:this.getUint8(),decimalPointIndication:this.getUint8(),powerThreshold:this.getUint32(),creditThreshold:this.getInt32()}};In.prototype.setSaldoParameters=function(t){var e=this;t.coefficients.forEach((function(t){return e.setUint32(t)}));this.setUint8(t.decimalPointTariff);this.setInt32(t.indicationThreshold);this.setInt32(t.relayThreshold);this.setUint8(t.mode);this.setUint8(t.saldoOffTimeBegin);this.setUint8(t.saldoOffTimeEnd);this.setUint8(t.decimalPointIndication);this.setUint32(t.powerThreshold);this.setInt32(t.creditThreshold)};In.prototype.getEnergyPeriods=function(t){var e=this;var r=new Array(t).fill(0).map((function(){return e.getUint16()}));return r.map((function(t){return cn(t)}))};In.prototype.setEnergyPeriods=function(t){var e=this;t.forEach((function(t){return Un(e,t)}))};In.prototype.getEventStatus=function(){var t=this.getUint16();return se(hn,t)};In.prototype.setEventStatus=function(t){this.setUint16(Ee(hn,t))};In.prototype.getExtendedCurrentValues2=function(){var t=this.getUint16();var e=se(Rn,this.getUint8());var r=se(un,this.getUint8());var a=se(fn,this.getUint8());var n=se(gn,this.getUint8());var i=se(On,this.getUint8());return{uBattery:t,relayStatus:e,relayStatus2:r,status1:a,status2:n,status3:i}};In.prototype.setExtendedCurrentValues2=function(t){var e=t.uBattery,r=t.relayStatus,a=t.relayStatus2,n=t.status1,i=t.status2,E=t.status3;this.setUint16(e);this.setUint8(Ee(Rn,r));this.setUint8(Ee(un,a));this.setUint8(Ee(fn,n));this.setUint8(Ee(gn,i));this.setUint8(Ee(On,E))};In.prototype.getEvent=function(){var t={hours:this.getUint8(),minutes:this.getUint8(),seconds:this.getUint8(),event:this.getUint8()};var e=t.event;var r=this.bytesLeft;t.eventName=ja[e];switch(e){case Na:if(r<4){return t}t.power=[this.getUint8(),this.getUint8(),this.getUint8(),this.getUint8()];break;case Tr:case fa:if(r<8){return t}t.newDate=this.getDateTime();break}return t};In.prototype.setEvent=function(t){this.setUint8(t.hours);this.setUint8(t.minutes);this.setUint8(t.seconds);this.setUint8(t.event);switch(t.event){case Na:for(var e of t.power){this.setUint8(e)}break;case Tr:case fa:this.setDateTime(t.newDate);break}};In.prototype.getDemand=function(){var t=this.getUint8();var e=this.getUint8();return{date:{year:t>>1,month:t<<3&15|e>>5,date:e&31},energyType:this.getUint8(),firstIndex:this.getUint16(),count:this.getUint8(),period:this.getUint8()}};In.prototype.setDemand=function(t){var e=t.date.year<<1|t.date.month>>3&1;var r=t.date.month<<5&224|t.date.date&31;this.setUint8(e);this.setUint8(r);this.setUint8(t.energyType);this.setUint16(t.firstIndex);this.setUint8(t.count);this.setUint8(t.period)};In.prototype.getDayMaxDemandResponse=function(){var t=this;var e=this.getDate();var r=new Array(Ja).fill(0).map((function(){return{hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}));return{date:e,power:r}};In.prototype.setDayMaxDemandResponse=function(t){var e=this;this.setDate(t.date);t.power.forEach((function(t){e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};In.prototype.getOperatorParametersExtended3=function(){return{pmaxMinusThreshold0:this.getUint32(),pmaxMinusThreshold1:this.getUint32(),pmaxMinusThreshold2:this.getUint32(),pmaxMinusThreshold3:this.getUint32(),relaySet:se(ln,this.getUint8())}};In.prototype.setOperatorParametersExtended3=function(t){var e=t.pmaxMinusThreshold0,r=t.pmaxMinusThreshold1,a=t.pmaxMinusThreshold2,n=t.pmaxMinusThreshold3,i=t.relaySet;this.setUint32(e);this.setUint32(r);this.setUint32(a);this.setUint32(n);this.setUint8(Ee(ln,i))};In.prototype.getMonthMaxPowerByTariffs=function(){var t=this;return new Array(Ja).fill(0).map((function(){return{date:t.getUint8(),hours:t.getUint8(),minutes:t.getUint8(),power:t.getUint32()}}))};In.prototype.setMonthMaxPowerByTariffs=function(t){var e=this;t.forEach((function(t){e.setUint8(t.date);e.setUint8(t.hours);e.setUint8(t.minutes);e.setUint32(t.power)}))};var pn=0;var Nn=128;var Mn=129;var Cn=130;var Dn=131;var Sn=132;var mn=133;var yn=134;var Ln=135;var Vn=136;var Fn=137;var Yn=144;var xn=145;var Hn=146;var Wn=147;var Xn=149;var Gn=151;var wn=152;var Bn=153;var bn=154;var Kn=155;var zn=156;var Qn=159;var Zn=160;var jn=240;var kn=Object.freeze({__proto__:null,ACCESS_DENIED:Wn,BAD_ARRAY_INDEX:yn,BAD_BLOCK_NUMBER:zn,BAD_DATA_LENGTH:mn,BAD_MESSAGE:Sn,BAD_RATE_PLAN_ID:Vn,BAD_RATE_PLAN_SIZE:Fn,BAD_RESPONSE_LENGTH:Yn,BAD_SALDO_WRITE:Xn,BLOCKED_METER:Gn,CALIBRATION_DISABLED:Hn,DECRYPTION_FAILURE:Cn,INTERNAL:jn,INVALID_CORRECTION_INTERVAL:bn,NOT_ALIGNED_DATA:Mn,NOT_PREPARED_RATE_PLAN:Ln,NO_DATA_FOR_DATE:xn,OK:pn,OUT_OFF_RANGE:Qn,SET_METER_TYPE_FAILURE:Zn,TIME_CORRECTION_FAILURE:Bn,TIME_CORRECTION_OUT_HALF_HOUR_DISABLED:Kn,UNENCRYPTED_COMMAND_DISABLED:wn,UNKNOWN_COMMAND:Nn,UNKNOWN_PROTOCOL:Dn});var qn=yt(kn);var $n=St;var Jn=function(t){return function(e){var r=new In(e);var a=r.getUint8();var n=r.getUint8();return{commandId:a,commandName:t[a],errorCode:n,errorName:qn[n]}}};var ti=ct;var ei=6;var ri=function(t){if(t.length!==ei){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=_(t,6),r=e[0],a=e[1],n=e[2],i=e[3],E=e[4],s=e[5];return{date:{date:r,month:a,year:n},version:"".concat(i,".").concat(E,".").concat(s)}};var ai=nt;var ni=function(t){var e=new In(t);return e.getTimeCorrectionParameters()};var ii=0;var Ei=1;var si=2;var _i=3;var oi=4;var vi=5;var Ai=6;var Ti=7;var hi=8;var Ri=9;var ui=10;var fi=11;var gi=12;var Oi=13;var li=14;var Pi=Object.freeze({__proto__:null,CASE_MODULE_OPEN:ui,CASE_OPEN:ii,CASE_TERMINAL_OPEN:Ri,DEVICE_FAILURE:hi,ERROR_ACCESS:vi,MAGNETIC_ON:Ei,PARAMETERS_UPDATE_LOCAL:_i,PARAMETERS_UPDATE_REMOTE:si,PROTECTION_RESET_EM:Oi,PROTECTION_RESET_MAGNETIC:li,RESTART:oi,TARIFF_TABLE_GET:gi,TARIFF_TABLE_SET:fi,TIME_CORRECT:Ti,TIME_SET:Ai});var di=yt(Pi);var ci=c;var Ui=function(t){var e=new In(t);return e.getDateTime()};var Ii=4;var pi=["A+","A+R+","A+R-","A-","A-R+","A-R-"];var Ni=4294967295;var Mi={"A+":1,"A+R+":2,"A+R-":4,"A-":8,"A-R+":16,"A-R-":32};var Ci=function(t){var e={};Object.keys(t).forEach((function(r){e[r]=!!t[r]}));return Ee(Mi,e)};var Di=function(t){return t<Ii?1<<t:0};var Si=function(t){return t<Ii?1<<t<<4:0};var mi=function(t,e){var r=0;if(t<Ii){if(e["A+"]||e["A+R+"]||e["A+R-"]){r|=Di(t)}if(e["A-"]||e["A-R+"]||e["A-R-"]){r|=Si(t)}}return r};function yi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;ie.call(this,t,e)}yi.prototype=Object.create(ie.prototype);yi.prototype.constructor=yi;yi.prototype.getDate=function(){var t=this.getUint8();var e=this.getUint8();return{year:t>>1,month:t<<3&15|e>>5,date:e&31}};yi.prototype.setDate=function(t){var e=t.year,r=t.month,a=t.date;var n=e<<1|r>>3&1;var i=r<<5&224|a&31;this.setUint8(n);this.setUint8(i)};yi.prototype.getEnergiesFlags=function(){var t=this.getUint8();return se(Mi,t)};yi.prototype.setEnergiesFlags=function(t){this.setUint8(Ci(t))};yi.prototype.getHalfhoursEnergy1=function(t){var e=[];for(var r=0;r<t;r++){var a=this.getUint16();var n=a>>14&3;var i=a&16383;e.push(a===Ni?undefined:{tariff:n,energy:i})}return e};yi.prototype.setHalfhoursEnergy1=function(t){if(t){for(var e=0;e<t.length;e++){var r=t[e],a=r.tariff,n=r.energy;var i=a<<14|n;this.setUint16(i===undefined?Ni:i)}}};yi.prototype.getHalfhoursEnergy3=function(t){var e=[];for(var r=0;r<t;r++){var a=this.getUint16();e.push(a===Ni?undefined:a)}return e};yi.prototype.setHalfhoursEnergy3=function(t){if(t){for(var e=0;e<t.length;e++){var r=t[e];this.setUint16(r===undefined?Ni:r)}}};yi.prototype.getHalfhoursEnergies1=function(t,e){var r=this;var a={};pi.forEach((function(n){if(t[n]){a[n]=r.getHalfhoursEnergy1(e)}}));return a};yi.prototype.getHalfhoursEnergies3=function(t,e){var r=this;var a={};pi.forEach((function(n){if(t[n]){a[n]=r.getHalfhoursEnergy3(e)}}));return a};yi.prototype.setHalfhoursEnergies1=function(t){var e=this;pi.forEach((function(r){e.setHalfhoursEnergy1(t[r])}))};yi.prototype.setHalfhoursEnergies3=function(t){var e=this;pi.forEach((function(r){e.setHalfhoursEnergy3(t[r])}))};yi.prototype.getAPlusTariffEnergies=function(t){var e={};if(t&Mi["A+"]){e["A+"]=this.getUint32()}if(t&Mi["A+R+"]){e["A+R+"]=this.getUint32()}if(t&Mi["A+R-"]){e["A+R-"]=this.getUint32()}return e};yi.prototype.setAPlusTariffEnergies=function(t){if(t){if(t["A+"]){this.setUint32(t["A+"])}if(t["A+R+"]){this.setUint32(t["A+R+"])}if(t["A+R-"]){this.setUint32(t["A+R-"])}}};yi.prototype.getAMinusTariffEnergies=function(t){var e={};if(t&Mi["A-"]){e["A-"]=this.getUint32()}if(t&Mi["A-R+"]){e["A-R+"]=this.getUint32()}if(t&Mi["A-R-"]){e["A-R-"]=this.getUint32()}return e};yi.prototype.setAMinusTariffEnergies=function(t){if(t){if(t["A-"]){this.setUint32(t["A-"])}if(t["A-R+"]){this.setUint32(t["A-R+"])}if(t["A-R-"]){this.setUint32(t["A-R-"])}}};yi.prototype.getTariffsEnergies=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(Ii).fill(null);for(var a=0;a<Ii;a++){if(e&Di(a)){r[a]=this.getAPlusTariffEnergies(t)}}for(var n=0;n<Ii;n++){if(e&Si(n)){r[n]={...r[n],...this.getAMinusTariffEnergies(t)}}}return r};yi.prototype.setTariffsEnergies=function(t){var e=this;var r=0;var a=0;t.forEach((function(t,e){if(t){r|=Ci(t);a|=mi(e,t)}}));this.setUint8(r);this.setUint8(a);t.forEach((function(t){return e.setAPlusTariffEnergies(t)}));t.forEach((function(t){return e.setAMinusTariffEnergies(t)}))};yi.prototype.getPowerMax=function(){return{hours:this.getUint8(),minutes:this.getUint8(),power:this.getUint32()}};yi.prototype.setPowerMax=function(t){if(t){var e=t.hours,r=t.minutes,a=t.power;this.setUint8(e);this.setUint8(r);this.setUint32(a)}};yi.prototype.getAPlusTariffPowerMax=function(t){var e={};if(t&Mi["A+"]){e["A+"]=this.getPowerMax()}if(t&Mi["A+R+"]){e["A+R+"]=this.getPowerMax()}if(t&Mi["A+R-"]){e["A+R-"]=this.getPowerMax()}return e};yi.prototype.setAPlusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A+"]);this.setPowerMax(t["A+R+"]);this.setPowerMax(t["A+R+"])}};yi.prototype.getAMinusTariffPowerMax=function(t){var e={};if(t&Mi["A-"]){e["A-"]=this.getPowerMax()}if(t&Mi["A-R+"]){e["A-R+"]=this.getPowerMax()}if(t&Mi["A-R-"]){e["A-R-"]=this.getPowerMax()}return e};yi.prototype.setAMinusTariffPowerMax=function(t){if(t){this.setPowerMax(t["A-"]);this.setPowerMax(t["A-R+"]);this.setPowerMax(t["A-R-"])}};yi.prototype.getTariffsPowerMax=function(){var t=this.getUint8();var e=this.getUint8();var r=new Array(Ii).fill(null);for(var a=0;a<Ii;a++){if(e&Di(a)){r[a]=this.getAPlusTariffPowerMax(t)}}for(var n=0;n<Ii;n++){if(e&Si(n)){r[n]={...r[n],...this.getAMinusTariffPowerMax(t)}}}return r};yi.prototype.setTariffsPowerMax=function(t){var e=this;var r=0;var a=0;t.forEach((function(t,e){if(t){r|=Ci(t);a|=mi(e,t)}}));this.setUint8(r);this.setUint8(a);t.forEach((function(t){return e.setAPlusTariffPowerMax(t)}));t.forEach((function(t){return e.setAMinusTariffPowerMax(t)}))};var Li=255;var Vi=et;var Fi=function(t){var e=t.indexOf(Li);var r=e===-1?t:t.slice(0,e);return{periods:v(r).map(In.getDayProfileFromByte)}};yt(Mt);var Yi=d;var xi=function(t){var e=new In(t);return e.getDeviceId()};var Hi=P;var Wi=function(t){var e=new In(t);return e.getDeviceType()};var Xi=1;var Gi=2;var wi=3;var Bi=4;var bi=5;var Ki=6;var zi=7;var Qi=8;var Zi=9;var ji=10;var ki=11;var qi=12;var $i=13;var Ji=14;var tE=15;var eE=16;var rE=17;var aE=18;var nE=19;var iE=20;var EE=21;var sE=22;var _E=23;var oE=24;var vE=25;var AE=26;var TE=28;var hE=30;var RE=31;var uE=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:Bi,ACTIVE_ENERGY_T2:bi,ACTIVE_ENERGY_T3:Ki,ACTIVE_ENERGY_T4:zi,ACTIVE_POWER_IN_NEUTRAL:Zi,ACTIVE_POWER_PER_PHASE:Qi,BATTERY_VOLTAGE:sE,CURRENT_BALANCE:hE,CURRENT_IN_NEUTRAL:ki,CURRENT_IN_PHASE:ji,DATE_MONTH_YEAR:Ji,EXPORTED_ACTIVE_ENERGY_T1:eE,EXPORTED_ACTIVE_ENERGY_T2:rE,EXPORTED_ACTIVE_ENERGY_T3:aE,EXPORTED_ACTIVE_ENERGY_T4:nE,HOUR_MINUTE_SECOND:$i,MAGNET_INDUCTION:TE,OPTOPORT_SPEED:RE,POWER_COEFFICIENT_PHASE_A:iE,POWER_COEFFICIENT_PHASE_B:EE,POWER_THRESHOLD_T1:_E,POWER_THRESHOLD_T2:oE,POWER_THRESHOLD_T3:vE,POWER_THRESHOLD_T4:AE,SET_ALL_SEGMENT_DISPLAY:Xi,SOFTWARE_VERSION:Gi,TOTAL_ACTIVE_ENERGY:wi,TOTAL_EXPORTED_ACTIVE_ENERGY:tE,VOLTAGE:qi});yt(uE);var fE=3+1;var gE=4;var OE=j;var lE=fE+255*gE;var PE=function(t){return function(e){if(e.length>lE){throw new Error("Wrong buffer size: ".concat(e.length,"."))}var r=new t(e);var a=r.getDate();var n=r.getUint8();var i=[];while(!r.isEmpty){i.push(r.getEvent())}return{date:a,eventsNumber:n,events:i}}};var dE=PE(In);var cE=14;var UE=20;var IE=k;var pE=function(t){if(t.length!==cE&&t.length!==UE){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=new In(t);var r=e.getUint16();var a=e.getUint16();var n=e.getUint16();var i=e.getUint16();var E=e.getUint16();var s=e.getUint16();var _=e.getUint16();return{accessClosed:s,accessError:E,localParametersChange:n,remoteParametersChange:i,powerOff:a,restart:r,setClock:_}};var NE=O;var ME=function(t){var e=new In(t,true);return e.getEventStatus()};var CE=dt;var DE=function(t){var e=new yi(t);var r=e.getDate();var a=e.getEnergiesFlags();var n=e.getUint8();var i=e.getUint8();return{date:r,firstHalfhour:n,halfhoursNumber:i,energies:e.getHalfhoursEnergies1(a,i)}};var SE=Pt;var mE=function(t){var e=new In(t);return{induction:e.getUint16(),threshold:e.getUint16(),inductionCoefficient:e.getUint16()/100,reserved:e.getUint32()}};var yE=Nt;var LE=function(t){var e=_(t,1),r=e[0];return{ten:r}};var VE=Ut;var FE=function(t){var e=new In(t);return e.getOperatorParametersExtended3()};var YE=B;var xE=1+qa*2;var HE=function(t){if(t.length!==xE){throw new Error("Invalid getRatePlanInfo data size.")}var e=new In(t);return{tariffTable:e.getUint8(),activePlan:e.getTariffPlan(),passivePlan:e.getTariffPlan()}};var WE=G;var XE=29;var GE=function(t){if(t.length!==XE){throw new Error("Invalid getSaldo data size.")}var e=new In(t);return{currentSaldo:e.getInt32(),count:e.getUint8(),energy:new Array(4).fill(0).map((function(){return e.getInt32()})),beginSaldoOfPeriod:e.getInt32(),date:{month:e.getUint8(),date:e.getUint8(),hours:e.getUint8(),minutes:e.getUint8()}}};var wE=K;var BE=37;var bE=function(t){if(t.length!==BE){throw new Error("Invalid getSaldoParameters data size.")}var e=new In(t);return e.getSaldoParameters()};var KE=rt;var zE=function(t){var e=new In(t);return e.getSeasonProfile()};var QE=at;var ZE=function(t){var e=new In(t);return e.getSpecialDay()};var jE=X;var kE=function(t){return{version:String.fromCharCode.apply(null,v(t))}};var qE=m;var $E=0;var JE=function(t){if(t.length!==$E){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var ts=q;var es=0;var rs=function(t){if(t.length!==es){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var as=$;var ns=0;var is=function(t){if(t.length!==ns){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Es=Et;var ss=0;var _s=function(t){if(t.length!==ss){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var os=I;var vs=0;var As=function(t){if(t.length!==vs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Ts=ft;var hs=0;var Rs=function(t){if(t.length!==hs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var us=x;var fs=0;var gs=function(t){if(t.length!==fs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Os=U;var ls=0;var Ps=function(t){if(t.length!==ls){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var ds=M;var cs=0;var Us=function(t){if(t.length!==cs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Is=gt;var ps=0;var Ns=function(t){if(t.length!==ps){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Ms=It;var Cs=0;var Ds=function(t){if(t.length!==Cs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Ss=W;var ms=0;var ys=function(t){if(t.length!==ms){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Ls=w;var Vs=0;var Fs=function(t){if(t.length!==Vs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Ys=z;var xs=0;var Hs=function(t){if(t.length!==xs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Ws=C;var Xs=0;var Gs=function(t){if(t.length!==Xs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var ws=D;var Bs=0;var bs=function(t){if(t.length!==Bs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Ks=lt;var zs=function(t){var e=new In(t);var r=e.getUint8();var a=!!(r&1);var n=!!(r&2);return{electroMagneticIndication:a,magneticIndication:n}};var Qs=Y;var Zs=0;var js=function(t){if(t.length!==Zs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var ks=F;var qs=0;var $s=function(t){if(t.length!==qs){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Js={encrypt:function(){},decrypt:function(){}};var t_=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:85;var r=e;t.forEach((function(t){r^=t}));return r};var e_=3;var r_=2;var a_=2;var n_=function(t,e){return function(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=a?.aesKey;var i=[];var E=_(r,2),s=E[0],o=E[1];var A=o&e_;var T={messageId:s,accessLevel:A,commands:i,bytes:r,lrc:{received:undefined,calculated:0}};var h=r.slice(r_);var R;if(n&&A!==g){h=v(Js.decrypt(n,h))}var u=h[h.length-1];h=h.slice(0,-1);var f=t_(h);if(A!==g||u!==0){if(u!==f){R="Mismatch LRC."}}var O=h[0]&e_;var l=h.slice(1);if(A!==O){R="Mismatch access levels."}var P=0;do{var d=l[P];var c=l[P+1];var U=a_+c;var I=l.slice(P+a_,P+U);var p={id:d,name:e[d],headerSize:a_,bytes:l.slice(P,P+U)};if(!d){break}try{if(!t[d]){throw new Error("Unsupported command id: ".concat(d,"!"))}p.parameters=t[d](I,a);i.push(p)}catch(t){i.push({command:p,error:t.message})}P+=U}while(P<=l.length);T.lrc.calculated=f;T.lrc.received=u;if(R){return{message:T,error:R}}return T}};var i_=1;var E_=3;var s_=4;var __=5;var o_=7;var v_=8;var A_=9;var T_=13;var h_=15;var R_=16;var u_=17;var f_=18;var g_=19;var O_=20;var l_=21;var P_=22;var d_=23;var c_=24;var U_=25;var I_=28;var p_=30;var N_=31;var M_=40;var C_=41;var D_=42;var S_=44;var m_=46;var y_=47;var L_=49;var V_=50;var F_=51;var Y_=52;var x_=53;var H_=54;var W_=57;var X_=58;var G_=59;var w_=60;var B_=61;var b_=62;var K_=63;var z_=64;var Q_=69;var Z_=70;var j_=71;var k_=72;var q_=73;var $_=78;var J_=79;var to=80;var eo=82;var ro=83;var ao=84;var no=85;var io=86;var Eo=88;var so=89;var _o=90;var oo=92;var vo=93;var Ao=94;var To=100;var ho=109;var Ro=111;var uo=112;var fo=113;var go=114;var Oo=116;var lo=117;var Po=118;var co=122;var Uo=Object.freeze({__proto__:null,activateRatePlan:g_,getBuildVersion:uo,getCorrectTime:b_,getCriticalEvent:io,getCurrentStatusMeter:W_,getCurrentValues:T_,getDateTime:o_,getDayDemand:P_,getDayDemandExport:J_,getDayMaxDemand:L_,getDayMaxDemandExport:Eo,getDayProfile:G_,getDemand:Po,getDeviceId:__,getDeviceType:s_,getDisplayParam:Ao,getEnergy:h_,getEnergyDayPrevious:E_,getEnergyExport:$_,getEnergyExportDayPrevious:to,getEventStatus:i_,getEvents:F_,getEventsCounters:Y_,getExtendedCurrentValues:X_,getHalfHourDemand:l_,getHalfHourDemandChannel:_o,getHalfHourDemandExport:ro,getHalfHourDemandVare:q_,getHalfHourDemandVareExport:no,getHalfHourDemandVari:k_,getHalfHourDemandVariExport:ao,getHalfhoursEnergies:Ro,getMagneticFieldThreshold:ho,getMeterInfo:co,getMonthDemand:d_,getMonthDemandExport:eo,getMonthMaxDemand:V_,getMonthMaxDemandExport:so,getOperatorParameters:p_,getOperatorParametersExtended:K_,getOperatorParametersExtended2:j_,getOperatorParametersExtended3:fo,getOperatorParametersExtended4:lo,getRatePlanInfo:S_,getSaldo:C_,getSaldoParameters:m_,getSeasonProfile:w_,getSpecialDay:B_,getVersion:M_,prepareRatePlan:O_,resetPowerMaxDay:x_,resetPowerMaxMonth:H_,runTariffPlan:Z_,setAccessKey:A_,setCorrectDateTime:oo,setCorrectTime:I_,setDateTime:v_,setDayProfile:R_,setDisplayParam:vo,setOperatorParameters:N_,setOperatorParametersExtended:z_,setOperatorParametersExtended2:Q_,setOperatorParametersExtended3:go,setOperatorParametersExtended4:Oo,setSaldo:D_,setSaldoParameters:y_,setSeasonProfile:u_,setSpecialDay:f_,setSpecialOperation:To,turnRelayOff:U_,turnRelayOn:c_});var Io=254;var po=Object.freeze({__proto__:null,activateRatePlan:g_,errorResponse:Io,getBuildVersion:uo,getCorrectTime:b_,getCriticalEvent:io,getCurrentStatusMeter:W_,getCurrentValues:T_,getDateTime:o_,getDayDemand:P_,getDayDemandExport:J_,getDayMaxDemand:L_,getDayMaxDemandExport:Eo,getDayProfile:G_,getDemand:Po,getDeviceId:__,getDeviceType:s_,getDisplayParam:Ao,getEnergy:h_,getEnergyDayPrevious:E_,getEnergyExport:$_,getEnergyExportDayPrevious:to,getEventStatus:i_,getEvents:F_,getEventsCounters:Y_,getExtendedCurrentValues:X_,getHalfHourDemand:l_,getHalfHourDemandChannel:_o,getHalfHourDemandExport:ro,getHalfHourDemandVare:q_,getHalfHourDemandVareExport:no,getHalfHourDemandVari:k_,getHalfHourDemandVariExport:ao,getHalfhoursEnergies:Ro,getMagneticFieldThreshold:ho,getMeterInfo:co,getMonthDemand:d_,getMonthDemandExport:eo,getMonthMaxDemand:V_,getMonthMaxDemandExport:so,getOperatorParameters:p_,getOperatorParametersExtended:K_,getOperatorParametersExtended2:j_,getOperatorParametersExtended3:fo,getOperatorParametersExtended4:lo,getRatePlanInfo:S_,getSaldo:C_,getSaldoParameters:m_,getSeasonProfile:w_,getSpecialDay:B_,getVersion:M_,prepareRatePlan:O_,resetPowerMaxDay:x_,resetPowerMaxMonth:H_,runTariffPlan:Z_,setAccessKey:A_,setCorrectDateTime:oo,setCorrectTime:I_,setDateTime:v_,setDayProfile:R_,setDisplayParam:vo,setOperatorParameters:N_,setOperatorParametersExtended:z_,setOperatorParametersExtended2:Q_,setOperatorParametersExtended3:go,setOperatorParametersExtended4:Oo,setSaldo:D_,setSaldoParameters:y_,setSeasonProfile:u_,setSpecialDay:f_,setSpecialOperation:To,turnRelayOff:U_,turnRelayOn:c_});var No=yt(po);var Mo=$n;var Co=Jn(No);var Do=io;var So=9;var mo=function(t){if(t.length!==So){throw new Error("Wrong buffer size: ".concat(t.length,"."))}var e=_(t,9),r=e[0],a=e[1],n=e[2],i=e[3],E=e[4],s=e[5],o=e[6],v=e[7],A=e[8];return{event:r,name:di[r],index:a,date:{year:n,month:i,date:E,hours:s,minutes:o,seconds:v},count:A}};yt(Uo);var yo=1;var Lo=2;var Vo=3;var Fo=4;var Yo=17;var xo=18;var Ho=19;var Wo=20;var Xo=21;var Go=22;var wo=23;var Bo=32;var bo=33;var Ko=34;var zo=35;var Qo=36;var Zo=37;var jo=38;var ko=39;var qo=40;var $o=49;var Jo=50;var tv=51;var ev=52;var rv=53;var av=54;var nv=55;var iv=56;var Ev=57;var sv=64;var _v=65;var ov=66;var vv=67;var Av=68;var Tv=69;var hv=70;var Rv=71;var uv=72;var fv=73;var gv=74;var Ov=75;var lv=76;var Pv=77;var dv=78;var cv=79;var Uv=80;var Iv=81;var pv=82;var Nv=83;var Mv=84;var Cv=85;var Dv=86;var Sv=87;var mv=88;var yv=89;var Lv=90;var Vv=91;var Fv=92;var Yv=93;var xv=94;var Hv=95;var Wv=96;var Xv=97;var Gv=98;var wv=99;var Bv=100;var bv=101;var Kv=102;var zv=103;var Qv=104;var Zv=105;var jv=106;var kv=107;var qv=108;var $v=109;var Jv=110;var tA=111;var eA=112;var rA=113;var aA=114;var nA=115;var iA=116;var EA=117;var sA=118;var _A=119;var oA=120;var vA=121;var AA=122;var TA=123;var hA=124;var RA=125;var uA=126;var fA=127;var gA=128;var OA=129;var lA=130;var PA=131;var dA=132;var cA=133;var UA=134;var IA=135;var pA=136;var NA=137;var MA=138;var CA=139;var DA=140;var SA=141;var mA=142;var yA=143;var LA=144;var VA=145;var FA=147;var YA=148;var xA=149;var HA=150;var WA=151;var XA=152;var GA=153;var wA=154;var BA=155;var bA=156;var KA=157;var zA=158;var QA=159;var ZA=160;var jA=161;var kA=162;var qA=163;var $A=164;var JA=165;var tT=166;var eT=167;var rT=168;var aT=169;var nT=170;var iT=171;var ET=172;var sT=173;var _T=174;var oT=175;var vT=176;var AT=177;var TT=178;var hT=179;var RT=224;var uT=225;var fT=226;var gT=227;var OT=228;var lT=229;var PT=230;var dT=231;var cT=232;var UT=Object.freeze({__proto__:null,ACCESS_LOCKED:Yo,ACCESS_UNLOCKED:xo,ACCUMULATION_PARAM_BAD:cA,ACCUMULATION_PARAM_EXT_BAD:UA,BAD_TEST_EEPROM:OA,BAD_TEST_FRAM:lA,BATTERY_FAULT:Zv,BATTERY_OK:Qv,BLOCK_TARIFF_BAD:pA,CALCULATION_PERIOD_BAD:IA,CALIBRATION_FAULT:kv,CALIBRATION_FLAG_RESET:gA,CALIBRATION_FLAG_SET:fA,CALIBRATION_OK:jv,CALIBRATION_PARAM_BAD:NA,CASE_CLOSE:Xo,CASE_KLEMA_CLOSE:WA,CASE_KLEMA_OPEN:HA,CASE_MODULE_CLOSE:BA,CASE_MODULE_OPEN:wA,CASE_OPEN:Wo,CHANGE_ACCESS_KEY0:Bo,CHANGE_ACCESS_KEY1:bo,CHANGE_ACCESS_KEY2:Ko,CHANGE_ACCESS_KEY3:zo,CHANGE_COR_TIME:eA,CHANGE_PARAMETERS_LOCAL:Qo,CHANGE_PARAMETERS_REMOTE:Zo,CHANGE_PARAM_CHANNEL1:zA,CHANGE_PARAM_CHANNEL2:QA,CHANGE_PARAM_CHANNEL3:ZA,CHANGE_PARAM_CHANNEL4:jA,CHANGE_PARAM_CHANNEL5:kA,CHANGE_PARAM_CHANNEL6:qA,CHANGE_TARIFF_TABLE:Jo,CHANGE_TARIFF_TABLE_2:XA,CHANGE_TARIFF_TABLE_3:GA,CLOCK_FAULT:Xv,CLOCK_OK:Wv,CMD_CHANGE_TIME:jo,CMD_RELAY_2_OFF:aA,CMD_RELAY_2_ON:rA,CMD_RELAY_OFF:qo,CMD_RELAY_ON:ko,COEFFICIENT_TRANSFORMATION_CHANGE:yA,CROSS_ZERO_ENT1:nA,CROSS_ZERO_ENT2:iA,CROSS_ZERO_ENT3:EA,CROSS_ZERO_ENT4:sA,CROSS_ZERO_EXPORT_ENT1:$A,CROSS_ZERO_EXPORT_ENT2:JA,CROSS_ZERO_EXPORT_ENT3:tT,CROSS_ZERO_EXPORT_ENT4:eT,CROSS_ZERO_EXPORT_VARE1:ET,CROSS_ZERO_EXPORT_VARE2:sT,CROSS_ZERO_EXPORT_VARE3:_T,CROSS_ZERO_EXPORT_VARE4:oT,CROSS_ZERO_EXPORT_VARI1:rT,CROSS_ZERO_EXPORT_VARI2:aT,CROSS_ZERO_EXPORT_VARI3:nT,CROSS_ZERO_EXPORT_VARI4:iT,CROSS_ZERO_VARE1:TA,CROSS_ZERO_VARE2:hA,CROSS_ZERO_VARE3:RA,CROSS_ZERO_VARE4:uA,CROSS_ZERO_VARI1:_A,CROSS_ZERO_VARI2:oA,CROSS_ZERO_VARI3:vA,CROSS_ZERO_VARI4:AA,EM_MAGNETIC_OFF:AT,EM_MAGNETIC_ON:vT,ENERGY_REGISTER_OVERFLOW:$o,ENERGY_T1_FAULT:yo,ENERGY_T2_FAULT:Lo,ENERGY_T3_FAULT:Vo,ENERGY_T4_FAULT:Fo,ERR_ACCESS:Ho,F_MAX_OK:lv,F_MAX_OVER:Pv,F_MIN_OK:dv,F_MIN_UNDER:cv,IA_MAX_OK:Mv,IA_MAX_OVER:Cv,IB_MAX_OK:Dv,IB_MAX_OVER:Sv,IC_MAX_OK:mv,IC_MAX_OVER:yv,IDIFF_OK:xv,IDIFF_OVER:Hv,MAGNETIC_OFF:wo,MAGNETIC_ON:Go,METER_TROUBLE:xA,OP_PARAM_BAD:CA,OP_PARAM_EXT_BAD:DA,O_PARAMETERS_FAULT:tA,O_PARAMETERS_OK:Jv,PA_MAX_OK:Lv,PA_MAX_OVER:Vv,POWER_A_OFF:zv,POWER_A_ON:Kv,POWER_B_OFF:bv,POWER_B_ON:Bv,POWER_C_OFF:wv,POWER_C_ON:Gv,POWER_OVER_RELAY_OFF:KA,PV_MAX_OK:Fv,PV_MAX_OVER:Yv,P_MAX_A_MINUS_OK:dT,P_MAX_A_MINUS_OVER:cT,RELAY_HARD_BAD_OFF:LA,RELAY_HARD_BAD_ON:FA,RELAY_HARD_OFF:YA,RELAY_HARD_ON:VA,RELAY_OFF:nv,RELAY_ON:av,RESET_EM_FLAG:TT,RESET_MAGNETIC_FLAG:hT,RESTART:iv,SALDO_ENERGY_BAD:SA,SALDO_PARAM_BAD:dA,SET_DEMAND_EN_10_MIN:gT,SET_DEMAND_EN_15_MIN:OT,SET_DEMAND_EN_1_MIN:RT,SET_DEMAND_EN_30_MIN:lT,SET_DEMAND_EN_3_MIN:uT,SET_DEMAND_EN_5_MIN:fT,SET_DEMAND_EN_60_MIN:PT,SET_NEW_SALDO:PA,SET_SALDO_PARAM:bA,SET_TARIFF_TABLE:tv,SUMMER_TIME:ev,TIME_CORRECT:mA,T_MAX_OK:Uv,T_MAX_OVER:Iv,T_MIN_OK:pv,T_MIN_UNDER:Nv,VA_MAX_OK:sv,VA_MAX_OVER:_v,VA_MIN_OK:ov,VA_MIN_UNDER:vv,VB_MAX_OK:Av,VB_MAX_OVER:Tv,VB_MIN_OK:hv,VB_MIN_UNDER:Rv,VC_MAX_OK:uv,VC_MAX_OVER:fv,VC_MIN_OK:gv,VC_MIN_UNDER:Ov,V_PARAMETERS_FAULT:$v,V_PARAMETERS_OK:qv,WD_RESTART:Ev,WINTER_SUMMER_BAD:MA,WINTER_TIME:rv});var IT=yt(UT);var pT=1;var NT=2;var MT=3;var CT=4;var DT=5;var ST=6;var mT=7;var yT=8;var LT=9;var VT=10;var FT=11;var YT=12;var xT=13;var HT=14;var WT=15;var XT=16;var GT=17;var wT=18;var BT=19;var bT=20;var KT=21;var zT=22;var QT=23;var ZT=24;var jT=25;var kT=26;var qT=27;var $T=28;var JT=29;var th=30;var eh=31;var rh=32;var ah=33;var nh=34;var ih=35;var Eh=36;var sh=37;var _h=38;var oh=39;var vh=40;var Ah=41;var Th=42;var hh=43;var Rh=44;var uh=45;var fh=46;var gh=47;var Oh=48;var lh=49;var Ph=50;var dh=51;var ch=52;var Uh=53;var Ih=54;var ph=55;var Nh=56;var Mh=57;var Ch=58;var Dh=59;var Sh=60;var mh=61;var yh=62;var Lh=63;var Vh=64;var Fh=65;var Yh=66;var xh=67;var Hh=68;var Wh=69;var Xh=70;var Gh=71;var wh=72;var Bh=73;var bh=74;var Kh=75;var zh=76;var Qh=77;var Zh=78;var jh=79;var kh=80;var qh=81;var $h=82;var Jh=83;var tR=84;var eR=85;var rR=86;var aR=87;var nR=88;var iR=89;var ER=90;var sR=91;var _R=92;var oR=93;var vR=94;var AR=95;var TR=96;var hR=97;var RR=98;var uR=99;var fR=100;var gR=101;var OR=102;var lR=103;var PR=104;var dR=105;var cR=106;var UR=107;var IR=108;var pR=109;var NR=110;var MR=111;var CR=112;var DR=113;var SR=114;var mR=115;var yR=116;var LR=117;var VR=118;var FR=119;var YR=120;var xR=121;var HR=122;var WR=123;var XR=124;var GR=Object.freeze({__proto__:null,ACTIVE_ENERGY_T1:CT,ACTIVE_ENERGY_T2:DT,ACTIVE_ENERGY_T3:ST,ACTIVE_ENERGY_T4:mT,ACTIVE_POWER_PHASE_A:hh,ACTIVE_POWER_PHASE_B:Rh,ACTIVE_POWER_PHASE_C:uh,APPARENT_POWER_QMINUS_PHASE_A:Lh,APPARENT_POWER_QMINUS_PHASE_B:Vh,APPARENT_POWER_QMINUS_PHASE_C:Fh,APPARENT_POWER_QPLUS_PHASE_A:Dh,APPARENT_POWER_QPLUS_PHASE_B:Sh,APPARENT_POWER_QPLUS_PHASE_C:mh,BATTERY_VOLTAGE:vh,CURRENT_BALANCE:VR,CURRENT_IN_NEUTRAL:Eh,CURRENT_IN_PHASE_A:ah,CURRENT_IN_PHASE_B:nh,CURRENT_IN_PHASE_C:ih,CURRENT_TRANSFORMATION_RATIO:yR,DATE_MONTH_YEAR:mR,EXPORTED_ACTIVE_ENERGY_T1:BT,EXPORTED_ACTIVE_ENERGY_T2:bT,EXPORTED_ACTIVE_ENERGY_T3:KT,EXPORTED_ACTIVE_ENERGY_T4:zT,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:JT,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:th,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:eh,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:rh,EXPORTED_REACTIVE_ENERGY_T1:ZT,EXPORTED_REACTIVE_ENERGY_T2:jT,EXPORTED_REACTIVE_ENERGY_T3:kT,EXPORTED_REACTIVE_ENERGY_T4:qT,HOUR_MINUTE_SECOND:SR,MAGNET_INDUCTION:XR,MAX_ACTIVE_POWER_DAY_T1:Yh,MAX_ACTIVE_POWER_DAY_T2:xh,MAX_ACTIVE_POWER_DAY_T3:Hh,MAX_ACTIVE_POWER_DAY_T4:Wh,MAX_ACTIVE_POWER_MONTH_T1:Xh,MAX_ACTIVE_POWER_MONTH_T2:Gh,MAX_ACTIVE_POWER_MONTH_T3:wh,MAX_ACTIVE_POWER_MONTH_T4:Bh,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:ER,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:sR,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:_R,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:oR,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:vR,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:AR,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:TR,MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:hR,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:cR,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:UR,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:IR,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:pR,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:NR,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:MR,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:CR,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:DR,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:RR,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:uR,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:fR,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:gR,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:OR,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:lR,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:PR,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:dR,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:$h,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:Jh,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:tR,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:eR,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:rR,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:aR,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:nR,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:iR,MAX_REACTIVE_POWER_DAY_T1:bh,MAX_REACTIVE_POWER_DAY_T2:Kh,MAX_REACTIVE_POWER_DAY_T3:zh,MAX_REACTIVE_POWER_DAY_T4:Qh,MAX_REACTIVE_POWER_MONTH_T1:Zh,MAX_REACTIVE_POWER_MONTH_T2:jh,MAX_REACTIVE_POWER_MONTH_T3:kh,MAX_REACTIVE_POWER_MONTH_T4:qh,NEGATIVE_REACTIVE_ENERGY_T1:HT,NEGATIVE_REACTIVE_ENERGY_T2:WT,NEGATIVE_REACTIVE_ENERGY_T3:XT,NEGATIVE_REACTIVE_ENERGY_T4:GT,OPTOPORT_SPEED:WR,POWER_COEFFICIENT_PHASE_A:ph,POWER_COEFFICIENT_PHASE_B:Nh,POWER_COEFFICIENT_PHASE_C:Mh,POWER_THRESHOLD_T1:FR,POWER_THRESHOLD_T2:YR,POWER_THRESHOLD_T3:xR,POWER_THRESHOLD_T4:HR,REACTIVE_ENERGY_T1:LT,REACTIVE_ENERGY_T2:VT,REACTIVE_ENERGY_T3:FT,REACTIVE_ENERGY_T4:YT,REACTIVE_POWER_QMINUS_PHASE_A:dh,REACTIVE_POWER_QMINUS_PHASE_B:ch,REACTIVE_POWER_QMINUS_PHASE_C:Uh,REACTIVE_POWER_QPLUS_PHASE_A:gh,REACTIVE_POWER_QPLUS_PHASE_B:Oh,REACTIVE_POWER_QPLUS_PHASE_C:lh,SET_ALL_SEGMENT_DISPLAY:pT,SOFTWARE_VERSION:NT,SUPPLY_FREQUENCY:Ah,TOTAL_ACTIVE_ENERGY:MT,TOTAL_ACTIVE_POWER:Th,TOTAL_APPARENT_POWER_QMINUS:yh,TOTAL_APPARENT_POWER_QPLUS:Ch,TOTAL_EXPORTED_ACTIVE_ENERGY:wT,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:$T,TOTAL_EXPORTED_REACTIVE_ENERGY:QT,TOTAL_NEGATIVE_REACTIVE_ENERGY:xT,TOTAL_POWER_FACTOR:Ih,TOTAL_REACTIVE_ENERGY:yT,TOTAL_REACTIVE_POWER_QMINUS:Ph,TOTAL_REACTIVE_POWER_QPLUS:fh,VOLTAGE_IN_PHASE_A:sh,VOLTAGE_IN_PHASE_B:_h,VOLTAGE_IN_PHASE_C:oh,VOLTAGE_TRANSFORMATION_RATIO:LR});yt(GR);var wR=2400;var BR=9600;var bR={plc:{0:BR,2:wR,4:BR},optoport:{0:wR,2:wR,4:BR}};var KR={plc:yt(bR.plc),optoport:yt(bR.optoport)};var zR=1;var QR=2;var ZR=4;var jR={SET_ALL_SEGMENT_DISPLAY:1<<0,SOFTWARE_VERSION:1<<1,TOTAL_ACTIVE_ENERGY:1<<2,ACTIVE_ENERGY_T1:1<<3,ACTIVE_ENERGY_T2:1<<4,ACTIVE_ENERGY_T3:1<<5,ACTIVE_ENERGY_T4:1<<6,TOTAL_REACTIVE_ENERGY:1<<7,REACTIVE_ENERGY_T1:1<<8,REACTIVE_ENERGY_T2:1<<9,REACTIVE_ENERGY_T3:1<<10,REACTIVE_ENERGY_T4:1<<11,TOTAL_NEGATIVE_REACTIVE_ENERGY:1<<12,NEGATIVE_REACTIVE_ENERGY_T1:1<<13,NEGATIVE_REACTIVE_ENERGY_T2:1<<14,NEGATIVE_REACTIVE_ENERGY_T3:1<<15,NEGATIVE_REACTIVE_ENERGY_T4:1<<16,TOTAL_EXPORTED_ACTIVE_ENERGY:1<<17,EXPORTED_ACTIVE_ENERGY_T1:1<<18,EXPORTED_ACTIVE_ENERGY_T2:1<<19,EXPORTED_ACTIVE_ENERGY_T3:1<<20,EXPORTED_ACTIVE_ENERGY_T4:1<<21,TOTAL_EXPORTED_REACTIVE_ENERGY:1<<22,EXPORTED_REACTIVE_ENERGY_T1:1<<23,EXPORTED_REACTIVE_ENERGY_T2:1<<24,EXPORTED_REACTIVE_ENERGY_T3:1<<25,EXPORTED_REACTIVE_ENERGY_T4:1<<26,TOTAL_EXPORTED_NEGATIVE_REACTIVE_ENERGY:1<<27,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T1:1<<28,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T2:1<<29,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T3:1<<30,EXPORTED_NEGATIVE_REACTIVE_ENERGY_T4:1<<31};var kR={CURRENT_IN_PHASE_A:1<<0,CURRENT_IN_PHASE_B:1<<1,CURRENT_IN_PHASE_C:1<<2,CURRENT_IN_NEUTRAL:1<<3,VOLTAGE_IN_PHASE_A:1<<4,VOLTAGE_IN_PHASE_B:1<<5,VOLTAGE_IN_PHASE_C:1<<6,BATTERY_VOLTAGE:1<<7,SUPPLY_FREQUENCY:1<<8,ACTIVE_POWER_SUM:1<<9,ACTIVE_POWER_PHASE_A:1<<10,ACTIVE_POWER_PHASE_B:1<<11,ACTIVE_POWER_PHASE_C:1<<12,TOTAL_REACTIVE_POWER_QPLUS:1<<13,REACTIVE_POWER_QPLUS_PHASE_A:1<<14,REACTIVE_POWER_QPLUS_PHASE_B:1<<15,REACTIVE_POWER_QPLUS_PHASE_C:1<<16,TOTAL_REACTIVE_POWER_QMINUS:1<<17,REACTIVE_POWER_QMINUS_PHASE_A:1<<18,REACTIVE_POWER_QMINUS_PHASE_B:1<<19,REACTIVE_POWER_QMINUS_PHASE_C:1<<20,TOTAL_POWER_FACTOR:1<<21,POWER_COEFFICIENT_PHASE_A:1<<22,POWER_COEFFICIENT_PHASE_B:1<<23,POWER_COEFFICIENT_PHASE_C:1<<24,TOTAL_APPARENT_POWER_QPLUS:1<<25,APPARENT_POWER_QPLUS_PHASE_A:1<<26,APPARENT_POWER_QPLUS_PHASE_B:1<<27,APPARENT_POWER_QPLUS_PHASE_C:1<<28,TOTAL_APPARENT_POWER_QMINUS:1<<29,APPARENT_POWER_QMINUS_PHASE_A:1<<30,APPARENT_POWER_QMINUS_PHASE_B:1<<31};var qR={APPARENT_POWER_QMINUS_PHASE_C:1<<0,MAX_ACTIVE_POWER_DAY_T1:1<<1,MAX_ACTIVE_POWER_DAY_T2:1<<2,MAX_ACTIVE_POWER_DAY_T3:1<<3,MAX_ACTIVE_POWER_DAY_T4:1<<4,MAX_ACTIVE_POWER_MONTH_T1:1<<5,MAX_ACTIVE_POWER_MONTH_T2:1<<6,MAX_ACTIVE_POWER_MONTH_T3:1<<7,MAX_ACTIVE_POWER_MONTH_T4:1<<8,MAX_REACTIVE_POWER_DAY_T1:1<<9,MAX_REACTIVE_POWER_DAY_T2:1<<10,MAX_REACTIVE_POWER_DAY_T3:1<<11,MAX_REACTIVE_POWER_DAY_T4:1<<12,MAX_REACTIVE_POWER_MONTH_T1:1<<13,MAX_REACTIVE_POWER_MONTH_T2:1<<14,MAX_REACTIVE_POWER_MONTH_T3:1<<15,MAX_REACTIVE_POWER_MONTH_T4:1<<16,MAX_NEGATIVE_REACTIVE_POWER_DAY_T1:1<<17,MAX_NEGATIVE_REACTIVE_POWER_DAY_T2:1<<18,MAX_NEGATIVE_REACTIVE_POWER_DAY_T3:1<<19,MAX_NEGATIVE_REACTIVE_POWER_DAY_T4:1<<20,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T1:1<<21,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T2:1<<22,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T3:1<<23,MAX_NEGATIVE_REACTIVE_POWER_MONTH_T4:1<<24,MAX_EXPORTED_ACTIVE_POWER_DAY_T1:1<<25,MAX_EXPORTED_ACTIVE_POWER_DAY_T2:1<<26,MAX_EXPORTED_ACTIVE_POWER_DAY_T3:1<<27,MAX_EXPORTED_ACTIVE_POWER_DAY_T4:1<<28,MAX_EXPORTED_ACTIVE_POWER_MONTH_T1:1<<29,MAX_EXPORTED_ACTIVE_POWER_MONTH_T2:1<<30,MAX_EXPORTED_ACTIVE_POWER_MONTH_T3:1<<31};var $R={MAX_EXPORTED_ACTIVE_POWER_MONTH_T4:1<<0,MAX_EXPORTED_REACTIVE_POWER_DAY_T1:1<<1,MAX_EXPORTED_REACTIVE_POWER_DAY_T2:1<<2,MAX_EXPORTED_REACTIVE_POWER_DAY_T3:1<<3,MAX_EXPORTED_REACTIVE_POWER_DAY_T4:1<<4,MAX_EXPORTED_REACTIVE_POWER_MONTH_T1:1<<5,MAX_EXPORTED_REACTIVE_POWER_MONTH_T2:1<<6,MAX_EXPORTED_REACTIVE_POWER_MONTH_T3:1<<7,MAX_EXPORTED_REACTIVE_POWER_MONTH_T4:1<<8,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T1:1<<9,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T2:1<<10,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T3:1<<11,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_DAY_T4:1<<12,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T1:1<<13,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T2:1<<14,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T3:1<<15,MAX_EXPORTED_NEGATIVE_REACTIVE_POWER_MONTH_T4:1<<16,HOUR_MINUTE_SECOND:1<<17,DATE_MONTH_YEAR:1<<18,CURRENT_TRANSFORMATION_RATIO:1<<19,VOLTAGE_TRANSFORMATION_RATIO:1<<20,CURRENT_BALANCE:1<<21,POWER_THRESHOLD_T1:1<<22,POWER_THRESHOLD_T2:1<<23,POWER_THRESHOLD_T3:1<<24,POWER_THRESHOLD_T4:1<<25};var JR={...$R,SORT_DISPLAY_SCREENS:1<<29,AUTO_SCREEN_SCROLLING:1<<31};var tu={EVENT:1<<0,PROFILE_P01:1<<1,PROFILE_P02:1<<2,PROFILE_P03:1<<3,PROFILE_P04:1<<4,PROFILE_P05:1<<5,PROFILE_P06:1<<6};var eu={RELAY_ON_Y:1<<0,RELAY_ON_CENTER:1<<1,RELAY_ON_PB:1<<2,RELAY_ON_TARIFF_1:1<<3,RELAY_ON_TARIFF_2:1<<4,RELAY_ON_TARIFF_3:1<<5,RELAY_ON_TARIFF_4:1<<6,RELAY_ON_V_GOOD:1<<7,RELAY_OFF_Y:1<<8,RELAY_OFF_CENTER:1<<9,RELAY_OFF_TARIFF_1:1<<10,RELAY_OFF_TARIFF_2:1<<11,RELAY_OFF_TARIFF_3:1<<12,RELAY_OFF_TARIFF_4:1<<13,RELAY_OFF_I_LIMIT:1<<14,RELAY_OFF_V_BAD:1<<15,RELAY_OFF_DIFF_CURRENT_BAD:1<<16,RELAY_OFF_LIM_TARIFF_1:1<<17,RELAY_OFF_LIM_TARIFF_2:1<<18,RELAY_OFF_LIM_TARIFF_3:1<<19,RELAY_OFF_LIM_TARIFF_4:1<<20,RELAY_OFF_LIM_VAR_TARIFF_1:1<<21,RELAY_OFF_LIM_VAR_TARIFF_2:1<<22,RELAY_OFF_LIM_VAR_TARIFF_3:1<<23,RELAY_OFF_LIM_VAR_TARIFF_4:1<<24,RELAY_ON_PF_MIN:1<<25,RELAY_OFF_PF_MIN:1<<26,RELAY_ON_TIMEOUT:1<<27,RELAY_ON_SALDO:1<<28,RELAY_OFF_SALDO:1<<29,RELAY_OFF_SALDO_SOFT:1<<30};var ru={TRANSFORMATION_RATIO:1<<0,METER_TYPE_R:1<<4,ACCUMULATE_BY_R_PLUS_MINUS:1<<7};var au={RESET_DAY_MAX_POWER_KEY:1<<0,RESET_MONTH_MAX_POWER_KEY:1<<1,BLOCK_KEY_OPTOPORT:1<<2,MAGNET_SCREEN_CONST:1<<5,ALLOW_BROWNOUT_INDICATION:1<<7};var nu={...$R,OPTOPORT_SPEED:1<<26,MAGNET_INDUCTION:1<<27};var iu={RELAY_OFF_MAGNET:1<<0,RELAY_ON_MAGNET_TIMEOUT:1<<1,RELAY_ON_MAGNET_AUTO:1<<2};var Eu=function(t){return{plc:bR.plc[_e(t,4,1)],optoport:bR.optoport[_e(t,4,5)]}};var su=function(t){var e=0;e=oe(e,4,1,Number(KR.plc[t.plc]));e=oe(e,4,5,Number(KR.optoport[t.optoport]));return e};function _u(t,e,r){var a=r>>ZR;var n=[];var i=[];var E=[];for(var s=0;s<Ja;s++){var _=!!_e(a,1,s+1);if(_){n.push(t.getInt32());i.push(t.getInt32());E.push(t.getInt32())}else{n.push(null);i.push(null);E.push(null)}}return{wh:n,vari:i,vare:E}}function ou(t,e){var r=e.wh,a=e.vari,n=e.vare;var i=1+ZR;var E=t;for(var s=0;s<Ja;s++){E=oe(E,1,s+i,Number(!!r[s]&&!!a[s]&&!!n[s]))}return E}function vu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;In.call(this,t,e)}vu.prototype=Object.create(In.prototype);vu.prototype.constructor=vu;vu.getDefaultOperatorParameters=function(){return{vpThreshold:265e3,vThreshold:156e3,ipThreshold:12e4,pmaxThreshold0:31800,pmaxThreshold1:31800,pmaxThreshold2:31800,pmaxThreshold3:31800,rmaxThreshold0:31800,rmaxThreshold1:31800,rmaxThreshold2:31800,rmaxThreshold3:31800,tint:30,calcPeriodDate:1,timeoutDisplay:127,timeoutScreen:7,displaySet1:se(jR,4229),displaySet2:se(kR,139776),displaySet3:se(qR,0),relaySet:se(eu,771),speedOptoPort:Eu(64),ten:30,tu:30,timeIntervalPowerOff:3,reserved:0,timeoutBadVAVB:5,freqMax:55,freqMin:45,year:0,month:0,date:0,energyDecimalPoint:2,voltageTransformationRatioNumerator:1,voltageTransformationRatioDenominator:1,currentTransformationRatioNumerator:1,currentTransformationRatioDenominator:1,typeMeter:se(ru,0),phMin:0,timeoutIMax:5,timeoutPMax:5,timeoutCos:5,pMaxDef:1,displaySet4:se(JR,2147876864)}};vu.getDefaultOperatorParametersExtended=function(){return{timeoutRelayOn:1,define1:se(au,0),timeoutRelayKey:0,timeoutRelayAuto:5}};vu.getDefaultOperatorParametersExtended2=function(){return{deltaCorMin:0,timeoutMagnetOff:5,relaySetExt:se(iu,0),timeoutMagnetOn:5,defaultPlcPhase:3,displaySet21:se(jR,4231),displaySet22:se(kR,31597303),displaySet23:se(qR,0),displaySet24:se(nu,393216),channel1:0,channel2:0,channel3:0,channel4:0,channel5:0,channel6:0,timeCorrectPeriod:24,timeCorrectPassHalfhour:false}};vu.getDefaultOperatorParametersExtended3=In.getDefaultOperatorParametersExtended3;vu.prototype.getOperatorParameters=function(){return{vpThreshold:this.getUint32(),vThreshold:this.getUint32(),ipThreshold:this.getUint32(),pmaxThreshold0:this.getUint32(),pmaxThreshold1:this.getUint32(),pmaxThreshold2:this.getUint32(),pmaxThreshold3:this.getUint32(),rmaxThreshold0:this.getUint32(),rmaxThreshold1:this.getUint32(),rmaxThreshold2:this.getUint32(),rmaxThreshold3:this.getUint32(),tint:this.getUint8(),calcPeriodDate:this.getUint8(),timeoutDisplay:this.getUint8(),timeoutScreen:this.getUint8(),displaySet1:se(jR,this.getUint32()),displaySet2:se(kR,this.getUint32()),displaySet3:se(qR,this.getUint32()),relaySet:se(eu,this.getUint32()),speedOptoPort:Eu(this.getUint8()),ten:this.getUint8(),tu:this.getUint8(),timeIntervalPowerOff:this.getUint8(),reserved:this.getUint8(),timeoutBadVAVB:this.getUint8(),freqMax:this.getUint8(),freqMin:this.getUint8(),year:this.getUint8(),month:this.getUint8(),date:this.getUint8(),energyDecimalPoint:this.getUint8(),voltageTransformationRatioNumerator:this.getUint16(),voltageTransformationRatioDenominator:this.getUint16(),currentTransformationRatioNumerator:this.getUint16(),currentTransformationRatioDenominator:this.getUint16(),typeMeter:se(ru,this.getUint8()),phMin:this.getUint16(),timeoutIMax:this.getUint8(),timeoutPMax:this.getUint8(),timeoutCos:this.getUint8(),pMaxDef:this.getUint8(),displaySet4:se(JR,this.getUint32())}};vu.prototype.setOperatorParameters=function(t){this.setUint32(t.vpThreshold);this.setUint32(t.vThreshold);this.setUint32(t.ipThreshold);this.setUint32(t.pmaxThreshold0);this.setUint32(t.pmaxThreshold1);this.setUint32(t.pmaxThreshold2);this.setUint32(t.pmaxThreshold3);this.setUint32(t.rmaxThreshold0);this.setUint32(t.rmaxThreshold1);this.setUint32(t.rmaxThreshold2);this.setUint32(t.rmaxThreshold3);this.setUint8(t.tint);this.setUint8(t.calcPeriodDate);this.setUint8(t.timeoutDisplay);this.setUint8(t.timeoutScreen);this.setUint32(Ee(jR,t.displaySet1));this.setUint32(Ee(kR,t.displaySet2));this.setUint32(Ee(qR,t.displaySet3));this.setUint32(Ee(eu,t.relaySet));this.setUint8(su(t.speedOptoPort));this.setUint8(t.ten);this.setUint8(t.tu);this.setUint8(t.timeIntervalPowerOff);this.setUint8(t.reserved);this.setUint8(t.timeoutBadVAVB);this.setUint8(t.freqMax);this.setUint8(t.freqMin);this.setUint8(t.year);this.setUint8(t.month);this.setUint8(t.date);this.setUint8(t.energyDecimalPoint);this.setUint16(t.voltageTransformationRatioNumerator);this.setUint16(t.voltageTransformationRatioDenominator);this.setUint16(t.currentTransformationRatioNumerator);this.setUint16(t.currentTransformationRatioDenominator);this.setUint8(Ee(ru,t.typeMeter));this.setUint16(t.phMin);this.setUint8(t.timeoutIMax);this.setUint8(t.timeoutPMax);this.setUint8(t.timeoutCos);this.setUint8(t.pMaxDef);this.setUint32(Ee(JR,t.displaySet4))};vu.prototype.getOperatorParametersExtended=function(){return{timeoutRelayOn:this.getUint8(),define1:se(au,this.getUint8()),timeoutRelayKey:this.getUint8(),timeoutRelayAuto:this.getUint8()}};vu.prototype.setOperatorParametersExtended=function(t){this.setUint8(t.timeoutRelayOn);this.setUint8(Ee(au,t.define1));this.setUint8(t.timeoutRelayKey);this.setUint8(t.timeoutRelayAuto);this.setUint32(0);this.setUint8(0)};vu.prototype.getEnergies=function(){var t=[];var e=[];var r=[];for(var a=0;a<Ja;a++){t.push(this.getInt32());e.push(this.getInt32());r.push(this.getInt32())}return{wh:t,vari:e,vare:r}};vu.prototype.setEnergies=function(t){for(var e=0;e<Ja;e++){this.setInt32(t.wh[e]);this.setInt32(t.vari[e]);this.setInt32(t.vare[e])}};vu.prototype.getPackedEnergyWithType=function(){var t=this.getUint8();var e=_e(t,ZR,1);var r=_u(this,e,t);return{energyType:e,energies:r}};vu.prototype.setPackedEnergyWithType=function(t){var e=t.energyType,r=t.energies;if(e){var a=ou(e,r);var n=a>>ZR;this.setUint8(a);for(var i=0;i<Ja;i++){var E=!!_e(n,1,i+1);if(E){this.setInt32(r.wh[i]);this.setInt32(r.vari[i]);this.setInt32(r.vare[i])}}return}for(var s=0;s<Ja;s++){this.setInt32(r.wh[s]);this.setInt32(r.vari[s]);this.setInt32(r.vare[s])}};vu.prototype.getEnergyPeriods=function(t){var e=this;return new Array(t).fill(0).map((function(){var t=e.getUint16();return t===65535?undefined:t}))};vu.prototype.setEnergyPeriods=function(t){var e=this;t.forEach((function(t){return e.setUint16(t===undefined?65535:t)}))};vu.prototype.getMaxDemand=function(){return{hourPmax:this.getUint8(),minPmax:this.getUint8(),pmax:this.getInt32(),hourVariMax:this.getUint8(),minVariMax:this.getUint8(),variMax:this.getInt32(),hourVareMax:this.getUint8(),minVareMax:this.getUint8(),vareMax:this.getInt32()}};vu.prototype.setMaxDemand=function(t){this.setUint8(t.hourPmax);this.setUint8(t.minPmax);this.setInt32(t.pmax);this.setUint8(t.hourVariMax);this.setUint8(t.minVariMax);this.setInt32(t.variMax);this.setUint8(t.hourVareMax);this.setUint8(t.minVareMax);this.setInt32(t.vareMax)};vu.prototype.getDayMaxDemandResponse=function(){var t=this;var e=this.getDate();var r=new Array(Ja).fill(0).map((function(){return t.getMaxDemand()}));return{date:e,maxDemands:r}};vu.prototype.setDayMaxDemandResponse=function(t){var e=this;this.setDate(t.date);t.maxDemands.forEach((function(t){return e.setMaxDemand(t)}))};vu.prototype.getMonthMaxDemandResponse=function(){var t=this;var e={year:this.getUint8(),month:this.getUint8()};var r=new Array(Ja).fill(0).map((function(){return t.getMaxDemand()}));return{date:e,maxDemands:r}};vu.prototype.setMonthMaxDemandResponse=function(t){var e=this;this.setUint8(t.date.year);this.setUint8(t.date.month);t.maxDemands.forEach((function(t){return e.setMaxDemand(t)}))};vu.prototype.getEvent=function(){var t={hours:this.getUint8(),minutes:this.getUint8(),seconds:this.getUint8(),event:this.getUint8()};var e=t.event;var r=this.bytesLeft;t.eventName=IT[e];switch(e){case KA:if(r<4){return t}t.power=[this.getUint8(),this.getUint8(),this.getUint8(),this.getUint8()];break;case jo:case mA:if(r<8){return t}t.newDate=this.getDateTime();break}return t};vu.prototype.setEvent=function(t){this.setUint8(t.hours);this.setUint8(t.minutes);this.setUint8(t.seconds);this.setUint8(t.event);switch(t.event){case KA:for(var e of t.power){this.setUint8(e)}break;case jo:case mA:this.setDateTime(t.newDate);break}};vu.prototype.getDemand=function(){var t=this.getUint8();var e=this.getUint8();return{date:{year:t>>1,month:t<<3&15|e>>5,date:e&31},demandParam:this.getUint8(),firstIndex:this.getUint16(),count:this.getUint8(),period:this.getUint8()}};vu.prototype.setDemand=function(t){var e=t.date.year<<1|t.date.month>>3&1;var r=t.date.month<<5&224|t.date.date&31;this.setUint8(e);this.setUint8(r);this.setUint8(t.demandParam);this.setUint16(t.firstIndex);this.setUint8(t.count);this.setUint8(t.period)};vu.prototype.getOperatorParametersExtended2=function(){var t={deltaCorMin:this.getUint8(),timeoutMagnetOff:this.getUint8(),relaySetExt:se(iu,this.getUint8()),timeoutMagnetOn:this.getUint8(),defaultPlcPhase:this.getUint8(),displaySet21:se(jR,this.getUint32()),displaySet22:se(kR,this.getUint32()),displaySet23:se(qR,this.getUint32()),displaySet24:se(nu,this.getUint32()),channel1:this.getUint8(),channel2:this.getUint8(),channel3:this.getUint8(),channel4:this.getUint8(),channel5:this.getUint8(),channel6:this.getUint8(),timeCorrectPeriod:0,timeCorrectPassHalfhour:false};var e=this.getUint8();t.timeCorrectPeriod=e&127;t.timeCorrectPassHalfhour=!!(e&128);return t};vu.prototype.setOperatorParametersExtended2=function(t){var e=t.timeCorrectPeriod|(t.timeCorrectPassHalfhour?128:0);this.setUint8(t.deltaCorMin);this.setUint8(t.timeoutMagnetOff);this.setUint8(Ee(iu,t.relaySetExt));this.setUint8(t.timeoutMagnetOn);this.setUint8(t.defaultPlcPhase);this.setUint32(Ee(jR,t.displaySet21));this.setUint32(Ee(kR,t.displaySet22));this.setUint32(Ee(qR,t.displaySet23));this.setUint32(Ee(nu,t.displaySet24));this.setUint8(t.channel1);this.setUint8(t.channel2);this.setUint8(t.channel3);this.setUint8(t.channel4);this.setUint8(t.channel5);this.setUint8(t.channel6);this.setUint8(e)};vu.prototype.getOperatorParametersExtended4=function(){return{displaySet5:se(tu,this.getUint32()),displaySet25:se(tu,this.getUint32()),displaySet31:se(jR,this.getUint32()),displaySet32:se(kR,this.getUint32()),displaySet33:se(qR,this.getUint32()),displaySet34:se(JR,this.getUint32()),displaySet35:se(tu,this.getUint32())}};vu.prototype.setOperatorParametersExtended4=function(t){this.setUint32(Ee(tu,t.displaySet5));this.setUint32(Ee(tu,t.displaySet25));this.setUint32(Ee(jR,t.displaySet31));this.setUint32(Ee(kR,t.displaySet32));this.setUint32(Ee(qR,t.displaySet33));this.setUint32(Ee(JR,t.displaySet34));this.setUint32(Ee(tu,t.displaySet35))};var Au=W_;var Tu=function(t){var e=new vu(t);var r=e.getUint32();var a=e.getUint32();var n=e.getUint32();var i=e.getUint32();var E=e.getUint32();var s=e.getUint32();e.getUint32();var _=e.getUint32();var o=!!(e.getUint8()&1);var v=e.getUint8();var A=!!(e.getUint8()&1);var T=!!(e.getUint8()&1);var h={"A+":e.getUint8(),maximumPowers:e.getUint8(),"A-":e.getUint8()};var R=e.getUint8();var u=!!(e.getUint8()&1);var f=v|R<<8;return{operatingSeconds:r,tbadVAAll:a,tbadVBAll:n,tbadVCAll:i,tbadIMAXAll:E,tbadPMAXAll:s,tbadFREQ:_,relayStatus:o,statusEvent:se(hn,f),centerAlert:A,calEnableFlag:T,currentTariffs:h,isSummerTime:u}};var hu=T_;var Ru=function(t){var e=new vu(t);return{vaRms:e.getInt32(),vbRms:e.getInt32(),vcRms:e.getInt32(),iaRms:e.getInt32(),ibRms:e.getInt32(),icRms:e.getInt32(),powerA:e.getInt32(),powerB:e.getInt32(),powerC:e.getInt32(),varA:e.getInt32(),varB:e.getInt32(),varC:e.getInt32(),iNeutral:e.getInt32()}};({wh:a(a({},zR,{gType:"1.8",rType:"1.8"}),QR,{gType:"2.8"}),vari:a(a({},zR,{gType:"5.8",rType:"3.8"}),QR,{gType:"6.8"}),vare:a(a({},zR,{gType:"8.8",rType:"4.8"}),QR,{gType:"7.8"})});var uu=51;var fu=P_;var gu=function(t){var e=new vu(t);var r;if(t.length===uu){r={date:e.getDate(),energies:e.getEnergies()}}else{r={date:e.getDate(),...e.getPackedEnergyWithType()}}return r};var Ou=J_;var lu=function(t){var e=new vu(t);return{date:e.getDate(),energies:e.getEnergies()}};var Pu=L_;var du=function(t){var e=new vu(t);return e.getDayMaxDemandResponse()};var cu=Eo;var Uu=function(t){var e=new vu(t);return e.getDayMaxDemandResponse()};var Iu=7;var pu=Po;var Nu=function(t){if(!t||t.length<Iu){throw new Error("Invalid uplink GetDemand byte length.")}var e=new vu(t);var r=e.getDemand();if(t.length!==Iu+2*r.count){throw new Error("Invalid uplink GetDemand demands byte length.")}var a=new Array(r.count).fill(0).map((function(){return e.getUint16()}));return{...r,demands:a}};var Mu=Ao;var Cu=function(t){var e=o(t),r=e[0],a=e.slice(1);return{displayMode:r,order:a}};var Du=h_;var Su=function(t){var e=new vu(t);return e.getEnergies()};var mu=51;var yu=E_;var Lu=function(t){var e=new vu(t);var r;if(t.length===mu){r={date:e.getDate(),energies:e.getEnergies()}}else{r={date:e.getDate(),...e.getPackedEnergyWithType()}}return r};var Vu=$_;var Fu=function(t){var e=new vu(t);return e.getEnergies()};var Yu=to;var xu=function(t){var e=new vu(t);return e.getEnergies()};var Hu=X_;var Wu=function(t){var e=new vu(t);return{temperature:e.getInt16(),frequency:e.getUint16(),vPhaseAB:e.getInt32(),vPhaseAC:e.getInt32(),pfA:e.getInt16()/1e3,pfB:e.getInt16()/1e3,pfC:e.getInt16()/1e3,pf:e.getInt16()/1e3,vaA:e.getInt32(),vaB:e.getInt32(),vaC:e.getInt32(),vaSum:e.getInt32(),uBatteryRtc:e.getInt16()}};var Xu=l_;var Gu=function(t){var e=new vu(t);var r=t.length>rn;var a=e.getDate();var n=e.getEnergyPeriods(r?en:tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var wu=rn+2;var Bu=_o;var bu=function(t){var e=new vu(t);var r=t.length>wu;var a=e.getUint8();var n=e.getUint8();var i=e.getDate();var E=e.getEnergyPeriods(r?en:tn);if(r){return{channel:a,loadProfile:n,date:i,energies:E,dstHour:e.getUint8()}}return{channel:a,loadProfile:n,date:i,energies:E}};var Ku=ro;var zu=function(t){var e=new vu(t);var r=t.length>rn;var a=e.getDate();var n=e.getEnergyPeriods(r?en:tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var Qu=q_;var Zu=function(t){var e=new vu(t);var r=t.length>rn;var a=e.getDate();var n=e.getEnergyPeriods(r?en:tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var ju=no;var ku=function(t){var e=new vu(t);var r=t.length>rn;var a=e.getDate();var n=e.getEnergyPeriods(r?en:tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var qu=k_;var $u=function(t){var e=new vu(t);var r=t.length>rn;var a=e.getDate();var n=e.getEnergyPeriods(r?en:tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var Ju=ao;var tf=function(t){var e=new vu(t);var r=t.length>rn;var a=e.getDate();var n=e.getEnergyPeriods(r?en:tn);if(r){return{date:a,energies:n,dstHour:e.getUint8()}}return{date:a,energies:n}};var ef=d_;var rf=function(t){var e=new vu(t);return{year:e.getUint8(),month:e.getUint8(),energies:e.getEnergies()}};var af=eo;var nf=function(t){var e=new vu(t);return{year:e.getUint8(),month:e.getUint8(),energies:e.getEnergies()}};var Ef=V_;var sf=function(t){var e=new vu(t);return e.getMonthMaxDemandResponse()};var _f=so;var of=function(t){var e=new vu(t);return e.getMonthMaxDemandResponse()};var vf=p_;var Af=function(t){var e=new vu(t);return e.getOperatorParameters()};var Tf=K_;var hf=function(t){var e=new vu(t);return e.getOperatorParametersExtended()};var Rf=j_;var uf=function(t){var e=new vu(t);return e.getOperatorParametersExtended2()};var ff=lo;var gf=function(t){var e=new vu(t);return e.getOperatorParametersExtended4()};var Of=z_;var lf=0;var Pf=function(t){if(t.length!==lf){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var df=Q_;var cf=0;var Uf=function(t){if(t.length!==cf){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var If=Oo;var pf=0;var Nf=function(t){if(t.length!==pf){throw new Error("Wrong buffer size: ".concat(t.length,"."))}return{}};var Mf={};var Cf=No;var Df=n_(Mf,Cf);Mf[Lt]=Ft;Mf[ti]=ri;Mf[ai]=ni;Mf[ci]=Ui;Mf[Vi]=Fi;Mf[Yi]=xi;Mf[Hi]=Wi;Mf[OE]=dE;Mf[IE]=pE;Mf[NE]=ME;Mf[CE]=DE;Mf[SE]=mE;Mf[yE]=LE;Mf[VE]=FE;Mf[YE]=HE;Mf[WE]=GE;Mf[wE]=bE;Mf[KE]=zE;Mf[QE]=ZE;Mf[jE]=kE;Mf[qE]=JE;Mf[ts]=rs;Mf[as]=is;Mf[Es]=_s;Mf[os]=As;Mf[Ts]=Rs;Mf[us]=gs;Mf[Os]=Ps;Mf[ds]=Us;Mf[Is]=Ns;Mf[Ss]=ys;Mf[Ms]=Ds;Mf[Ls]=Fs;Mf[Ys]=Hs;Mf[Ws]=Gs;Mf[ws]=bs;Mf[Ks]=zs;Mf[Qs]=js;Mf[ks]=$s;Mf[Mo]=Co;Mf[Do]=mo;Mf[Au]=Tu;Mf[hu]=Ru;Mf[fu]=gu;Mf[Ou]=lu;Mf[Pu]=du;Mf[cu]=Uu;Mf[pu]=Nu;Mf[Mu]=Cu;Mf[Du]=Su;Mf[yu]=Lu;Mf[Vu]=Fu;Mf[Yu]=xu;Mf[Hu]=Wu;Mf[Xu]=Gu;Mf[Bu]=bu;Mf[Ku]=zu;Mf[Qu]=Zu;Mf[ju]=ku;Mf[qu]=$u;Mf[Ju]=tf;Mf[ef]=rf;Mf[af]=nf;Mf[Ef]=sf;Mf[_f]=of;Mf[vf]=Af;Mf[Tf]=hf;Mf[Rf]=uf;Mf[ff]=gf;Mf[Ss]=ys;Mf[Of]=Pf;Mf[df]=Uf;Mf[If]=Nf;var Sf=145;var mf=30;var yf=function(t){if(t[0]!==mf){return{}}var e=t[1];var r=t[3];var a=t.slice(4,e+2);if(r===Sf){return a}return null};fromBytes=Df;getDataSegment=yf})();
//#endregion


/*
  Incoming arguments:
    * payload - array of bytes
    * metadata - key/value object
*/

var segment = getDataSegment(payload);
var message = null;

// just a single data segment
if ( segment ) {
    message = fromBytes(segment);

    // there may be a message.error (e.g. mismatched LRC)
    // in that case message.message will contain everything parsed successfully
    // it should be used with caution
}

var result = {
    // required property, set to real device name from payload/metadata depending on integration
    // empty value throw an error in converter
    deviceName: '',

    deviceType: 'Water Meter',
    attributes: {
        model: 'Device Model',
        serialNumber: 'SN111',
        manufacturer: 'Device Manufacturer'
    },
    telemetry: {
        // telemetry display only primitive, i.e. string and numbers
        // for example only!
        message: JSON.stringify(message.message || message)
    },
    metadata: metadata
};

return result;
